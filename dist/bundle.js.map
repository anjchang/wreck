{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","../../node_modules/immutable/dist/immutable.js","box_geometry.ts","commands.ts","datatypes.ts","items.ts","jquery.terminal.d.ts","main.ts","text_tools.ts","world.ts","world_update_effects.ts"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","/**\n *  Copyright (c) 2014-2015, Facebook, Inc.\n *  All rights reserved.\n *\n *  This source code is licensed under the BSD-style license found in the\n *  LICENSE file in the root directory of this source tree. An additional grant\n *  of patent rights can be found in the PATENTS file in the same directory.\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.Immutable = global.Immutable || {})));\n}(this, (function (exports) { 'use strict';\n\n// Used for setting prototype methods that IE8 chokes on.\nvar DELETE = 'delete';\n\n// Constants describing the size of trie nodes.\nvar SHIFT = 5; // Resulted in best performance after ______?\nvar SIZE = 1 << SHIFT;\nvar MASK = SIZE - 1;\n\n// A consistent shared value representing \"not set\" which equals nothing other\n// than itself, and nothing that could be provided externally.\nvar NOT_SET = {};\n\n// Boolean references, Rough equivalent of `bool &`.\nvar CHANGE_LENGTH = { value: false };\nvar DID_ALTER = { value: false };\n\nfunction MakeRef(ref) {\n  ref.value = false;\n  return ref;\n}\n\nfunction SetRef(ref) {\n  ref && (ref.value = true);\n}\n\n// A function which returns a value representing an \"owner\" for transient writes\n// to tries. The return value will only ever equal itself, and will not equal\n// the return of any subsequent call of this function.\nfunction OwnerID() {}\n\n// http://jsperf.com/copy-array-inline\nfunction arrCopy(arr, offset) {\n  offset = offset || 0;\n  var len = Math.max(0, arr.length - offset);\n  var newArr = new Array(len);\n  for (var ii = 0; ii < len; ii++) {\n    newArr[ii] = arr[ii + offset];\n  }\n  return newArr;\n}\n\nfunction ensureSize(iter) {\n  if (iter.size === undefined) {\n    iter.size = iter.__iterate(returnTrue);\n  }\n  return iter.size;\n}\n\nfunction wrapIndex(iter, index) {\n  // This implements \"is array index\" which the ECMAString spec defines as:\n  //\n  //     A String property name P is an array index if and only if\n  //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n  //     to 2^32−1.\n  //\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n  if (typeof index !== 'number') {\n    var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n    if ('' + uint32Index !== index || uint32Index === 4294967295) {\n      return NaN;\n    }\n    index = uint32Index;\n  }\n  return index < 0 ? ensureSize(iter) + index : index;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction wholeSlice(begin, end, size) {\n  return (begin === 0 || (size !== undefined && begin <= -size)) &&\n    (end === undefined || (size !== undefined && end >= size));\n}\n\nfunction resolveBegin(begin, size) {\n  return resolveIndex(begin, size, 0);\n}\n\nfunction resolveEnd(end, size) {\n  return resolveIndex(end, size, size);\n}\n\nfunction resolveIndex(index, size, defaultIndex) {\n  // Sanitize indices using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  return index === undefined\n    ? defaultIndex\n    : index < 0\n        ? size === Infinity ? size : Math.max(0, size + index) | 0\n        : size === undefined || size === index\n            ? index\n            : Math.min(size, index) | 0;\n}\n\nfunction isImmutable(maybeImmutable) {\n  return (isCollection(maybeImmutable) || isRecord(maybeImmutable)) &&\n    !maybeImmutable.__ownerID;\n}\n\nfunction isCollection(maybeCollection) {\n  return !!(maybeCollection && maybeCollection[IS_ITERABLE_SENTINEL]);\n}\n\nfunction isKeyed(maybeKeyed) {\n  return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n}\n\nfunction isIndexed(maybeIndexed) {\n  return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n}\n\nfunction isAssociative(maybeAssociative) {\n  return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n}\n\nfunction isOrdered(maybeOrdered) {\n  return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n}\n\nfunction isRecord(maybeRecord) {\n  return !!(maybeRecord && maybeRecord[IS_RECORD_SENTINEL]);\n}\n\nfunction isValueObject(maybeValue) {\n  return !!(maybeValue &&\n    typeof maybeValue.equals === 'function' &&\n    typeof maybeValue.hashCode === 'function');\n}\n\nvar IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\nvar IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\nvar IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\nvar IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\nvar IS_RECORD_SENTINEL = '@@__IMMUTABLE_RECORD__@@';\n\nvar Collection = function Collection(value) {\n  return isCollection(value) ? value : Seq(value);\n};\n\nvar KeyedCollection = (function (Collection) {\n  function KeyedCollection(value) {\n    return isKeyed(value) ? value : KeyedSeq(value);\n  }\n\n  if ( Collection ) KeyedCollection.__proto__ = Collection;\n  KeyedCollection.prototype = Object.create( Collection && Collection.prototype );\n  KeyedCollection.prototype.constructor = KeyedCollection;\n\n  return KeyedCollection;\n}(Collection));\n\nvar IndexedCollection = (function (Collection) {\n  function IndexedCollection(value) {\n    return isIndexed(value) ? value : IndexedSeq(value);\n  }\n\n  if ( Collection ) IndexedCollection.__proto__ = Collection;\n  IndexedCollection.prototype = Object.create( Collection && Collection.prototype );\n  IndexedCollection.prototype.constructor = IndexedCollection;\n\n  return IndexedCollection;\n}(Collection));\n\nvar SetCollection = (function (Collection) {\n  function SetCollection(value) {\n    return isCollection(value) && !isAssociative(value) ? value : SetSeq(value);\n  }\n\n  if ( Collection ) SetCollection.__proto__ = Collection;\n  SetCollection.prototype = Object.create( Collection && Collection.prototype );\n  SetCollection.prototype.constructor = SetCollection;\n\n  return SetCollection;\n}(Collection));\n\nCollection.Keyed = KeyedCollection;\nCollection.Indexed = IndexedCollection;\nCollection.Set = SetCollection;\n\nvar ITERATE_KEYS = 0;\nvar ITERATE_VALUES = 1;\nvar ITERATE_ENTRIES = 2;\n\nvar REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\n\nvar ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\nvar Iterator = function Iterator(next) {\n  this.next = next;\n};\n\nIterator.prototype.toString = function toString () {\n  return '[Iterator]';\n};\n\nIterator.KEYS = ITERATE_KEYS;\nIterator.VALUES = ITERATE_VALUES;\nIterator.ENTRIES = ITERATE_ENTRIES;\n\nIterator.prototype.inspect = (Iterator.prototype.toSource = function() {\n  return this.toString();\n});\nIterator.prototype[ITERATOR_SYMBOL] = function() {\n  return this;\n};\n\nfunction iteratorValue(type, k, v, iteratorResult) {\n  var value = type === 0 ? k : type === 1 ? v : [k, v];\n  iteratorResult\n    ? (iteratorResult.value = value)\n    : (iteratorResult = {\n        value: value,\n        done: false\n      });\n  return iteratorResult;\n}\n\nfunction iteratorDone() {\n  return { value: undefined, done: true };\n}\n\nfunction hasIterator(maybeIterable) {\n  return !!getIteratorFn(maybeIterable);\n}\n\nfunction isIterator(maybeIterator) {\n  return maybeIterator && typeof maybeIterator.next === 'function';\n}\n\nfunction getIterator(iterable) {\n  var iteratorFn = getIteratorFn(iterable);\n  return iteratorFn && iteratorFn.call(iterable);\n}\n\nfunction getIteratorFn(iterable) {\n  var iteratorFn = iterable &&\n    ((REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]);\n  if (typeof iteratorFn === 'function') {\n    return iteratorFn;\n  }\n}\n\nfunction isArrayLike(value) {\n  return value && typeof value.length === 'number';\n}\n\nvar Seq = (function (Collection$$1) {\n  function Seq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value) || isRecord(value)\n          ? value.toSeq()\n          : seqFromValue(value);\n  }\n\n  if ( Collection$$1 ) Seq.__proto__ = Collection$$1;\n  Seq.prototype = Object.create( Collection$$1 && Collection$$1.prototype );\n  Seq.prototype.constructor = Seq;\n\n  Seq.of = function of (/*...values*/) {\n    return Seq(arguments);\n  };\n\n  Seq.prototype.toSeq = function toSeq () {\n    return this;\n  };\n\n  Seq.prototype.toString = function toString () {\n    return this.__toString('Seq {', '}');\n  };\n\n  Seq.prototype.cacheResult = function cacheResult () {\n    if (!this._cache && this.__iterateUncached) {\n      this._cache = this.entrySeq().toArray();\n      this.size = this._cache.length;\n    }\n    return this;\n  };\n\n  // abstract __iterateUncached(fn, reverse)\n\n  Seq.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      while (i !== size) {\n        var entry = cache[reverse ? size - ++i : i++];\n        if (fn(entry[1], entry[0], this$1) === false) {\n          break;\n        }\n      }\n      return i;\n    }\n    return this.__iterateUncached(fn, reverse);\n  };\n\n  // abstract __iteratorUncached(type, reverse)\n\n  Seq.prototype.__iterator = function __iterator (type, reverse) {\n    var cache = this._cache;\n    if (cache) {\n      var size = cache.length;\n      var i = 0;\n      return new Iterator(function () {\n        if (i === size) {\n          return iteratorDone();\n        }\n        var entry = cache[reverse ? size - ++i : i++];\n        return iteratorValue(type, entry[0], entry[1]);\n      });\n    }\n    return this.__iteratorUncached(type, reverse);\n  };\n\n  return Seq;\n}(Collection));\n\nvar KeyedSeq = (function (Seq) {\n  function KeyedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence().toKeyedSeq()\n      : isCollection(value)\n          ? isKeyed(value) ? value.toSeq() : value.fromEntrySeq()\n          : isRecord(value) ? value.toSeq() : keyedSeqFromValue(value);\n  }\n\n  if ( Seq ) KeyedSeq.__proto__ = Seq;\n  KeyedSeq.prototype = Object.create( Seq && Seq.prototype );\n  KeyedSeq.prototype.constructor = KeyedSeq;\n\n  KeyedSeq.prototype.toKeyedSeq = function toKeyedSeq () {\n    return this;\n  };\n\n  return KeyedSeq;\n}(Seq));\n\nvar IndexedSeq = (function (Seq) {\n  function IndexedSeq(value) {\n    return value === null || value === undefined\n      ? emptySequence()\n      : isCollection(value)\n          ? isKeyed(value) ? value.entrySeq() : value.toIndexedSeq()\n          : isRecord(value)\n              ? value.toSeq().entrySeq()\n              : indexedSeqFromValue(value);\n  }\n\n  if ( Seq ) IndexedSeq.__proto__ = Seq;\n  IndexedSeq.prototype = Object.create( Seq && Seq.prototype );\n  IndexedSeq.prototype.constructor = IndexedSeq;\n\n  IndexedSeq.of = function of (/*...values*/) {\n    return IndexedSeq(arguments);\n  };\n\n  IndexedSeq.prototype.toIndexedSeq = function toIndexedSeq () {\n    return this;\n  };\n\n  IndexedSeq.prototype.toString = function toString () {\n    return this.__toString('Seq [', ']');\n  };\n\n  return IndexedSeq;\n}(Seq));\n\nvar SetSeq = (function (Seq) {\n  function SetSeq(value) {\n    return (isCollection(value) && !isAssociative(value)\n      ? value\n      : IndexedSeq(value)).toSetSeq();\n  }\n\n  if ( Seq ) SetSeq.__proto__ = Seq;\n  SetSeq.prototype = Object.create( Seq && Seq.prototype );\n  SetSeq.prototype.constructor = SetSeq;\n\n  SetSeq.of = function of (/*...values*/) {\n    return SetSeq(arguments);\n  };\n\n  SetSeq.prototype.toSetSeq = function toSetSeq () {\n    return this;\n  };\n\n  return SetSeq;\n}(Seq));\n\nSeq.isSeq = isSeq;\nSeq.Keyed = KeyedSeq;\nSeq.Set = SetSeq;\nSeq.Indexed = IndexedSeq;\n\nvar IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\nSeq.prototype[IS_SEQ_SENTINEL] = true;\n\n// #pragma Root Sequences\n\nvar ArraySeq = (function (IndexedSeq) {\n  function ArraySeq(array) {\n    this._array = array;\n    this.size = array.length;\n  }\n\n  if ( IndexedSeq ) ArraySeq.__proto__ = IndexedSeq;\n  ArraySeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  ArraySeq.prototype.constructor = ArraySeq;\n\n  ArraySeq.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n  };\n\n  ArraySeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    while (i !== size) {\n      var ii = reverse ? size - ++i : i++;\n      if (fn(array[ii], ii, this$1) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ArraySeq.prototype.__iterator = function __iterator (type, reverse) {\n    var array = this._array;\n    var size = array.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var ii = reverse ? size - ++i : i++;\n      return iteratorValue(type, ii, array[ii]);\n    });\n  };\n\n  return ArraySeq;\n}(IndexedSeq));\n\nvar ObjectSeq = (function (KeyedSeq) {\n  function ObjectSeq(object) {\n    var keys = Object.keys(object);\n    this._object = object;\n    this._keys = keys;\n    this.size = keys.length;\n  }\n\n  if ( KeyedSeq ) ObjectSeq.__proto__ = KeyedSeq;\n  ObjectSeq.prototype = Object.create( KeyedSeq && KeyedSeq.prototype );\n  ObjectSeq.prototype.constructor = ObjectSeq;\n\n  ObjectSeq.prototype.get = function get (key, notSetValue) {\n    if (notSetValue !== undefined && !this.has(key)) {\n      return notSetValue;\n    }\n    return this._object[key];\n  };\n\n  ObjectSeq.prototype.has = function has (key) {\n    return this._object.hasOwnProperty(key);\n  };\n\n  ObjectSeq.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    while (i !== size) {\n      var key = keys[reverse ? size - ++i : i++];\n      if (fn(object[key], key, this$1) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  ObjectSeq.prototype.__iterator = function __iterator (type, reverse) {\n    var object = this._object;\n    var keys = this._keys;\n    var size = keys.length;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var key = keys[reverse ? size - ++i : i++];\n      return iteratorValue(type, key, object[key]);\n    });\n  };\n\n  return ObjectSeq;\n}(KeyedSeq));\nObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\nvar CollectionSeq = (function (IndexedSeq) {\n  function CollectionSeq(collection) {\n    this._collection = collection;\n    this.size = collection.length || collection.size;\n  }\n\n  if ( IndexedSeq ) CollectionSeq.__proto__ = IndexedSeq;\n  CollectionSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  CollectionSeq.prototype.constructor = CollectionSeq;\n\n  CollectionSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    var iterations = 0;\n    if (isIterator(iterator)) {\n      var step;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this$1) === false) {\n          break;\n        }\n      }\n    }\n    return iterations;\n  };\n\n  CollectionSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var collection = this._collection;\n    var iterator = getIterator(collection);\n    if (!isIterator(iterator)) {\n      return new Iterator(iteratorDone);\n    }\n    var iterations = 0;\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done ? step : iteratorValue(type, iterations++, step.value);\n    });\n  };\n\n  return CollectionSeq;\n}(IndexedSeq));\n\nvar IteratorSeq = (function (IndexedSeq) {\n  function IteratorSeq(iterator) {\n    this._iterator = iterator;\n    this._iteratorCache = [];\n  }\n\n  if ( IndexedSeq ) IteratorSeq.__proto__ = IndexedSeq;\n  IteratorSeq.prototype = Object.create( IndexedSeq && IndexedSeq.prototype );\n  IteratorSeq.prototype.constructor = IteratorSeq;\n\n  IteratorSeq.prototype.__iterateUncached = function __iterateUncached (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    while (iterations < cache.length) {\n      if (fn(cache[iterations], iterations++, this$1) === false) {\n        return iterations;\n      }\n    }\n    var step;\n    while (!(step = iterator.next()).done) {\n      var val = step.value;\n      cache[iterations] = val;\n      if (fn(val, iterations++, this$1) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n\n  IteratorSeq.prototype.__iteratorUncached = function __iteratorUncached (type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = this._iterator;\n    var cache = this._iteratorCache;\n    var iterations = 0;\n    return new Iterator(function () {\n      if (iterations >= cache.length) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        cache[iterations] = step.value;\n      }\n      return iteratorValue(type, iterations, cache[iterations++]);\n    });\n  };\n\n  return IteratorSeq;\n}(IndexedSeq));\n\n// # pragma Helper functions\n\nfunction isSeq(maybeSeq) {\n  return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n}\n\nvar EMPTY_SEQ;\n\nfunction emptySequence() {\n  return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n}\n\nfunction keyedSeqFromValue(value) {\n  var seq = Array.isArray(value)\n    ? new ArraySeq(value)\n    : isIterator(value)\n        ? new IteratorSeq(value)\n        : hasIterator(value) ? new CollectionSeq(value) : undefined;\n  if (seq) {\n    return seq.fromEntrySeq();\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of [k, v] entries, or keyed object: ' +\n      value\n  );\n}\n\nfunction indexedSeqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values: ' + value\n  );\n}\n\nfunction seqFromValue(value) {\n  var seq = maybeIndexedSeqFromValue(value);\n  if (seq) {\n    return seq;\n  }\n  if (typeof value === 'object') {\n    return new ObjectSeq(value);\n  }\n  throw new TypeError(\n    'Expected Array or collection object of values, or keyed object: ' + value\n  );\n}\n\nfunction maybeIndexedSeqFromValue(value) {\n  return isArrayLike(value)\n    ? new ArraySeq(value)\n    : isIterator(value)\n        ? new IteratorSeq(value)\n        : hasIterator(value) ? new CollectionSeq(value) : undefined;\n}\n\n/**\n * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n *\n * NaN is considered the same as NaN, however -0 and 0 are considered the same\n * value, which is different from the algorithm described by\n * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n *\n * This is extended further to allow Objects to describe the values they\n * represent, by way of `valueOf` or `equals` (and `hashCode`).\n *\n * Note: because of this extension, the key equality of Immutable.Map and the\n * value equality of Immutable.Set will differ from ES6 Map and Set.\n *\n * ### Defining custom values\n *\n * The easiest way to describe the value an object represents is by implementing\n * `valueOf`. For example, `Date` represents a value by returning a unix\n * timestamp for `valueOf`:\n *\n *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n *     var date2 = new Date(1234567890000);\n *     date1.valueOf(); // 1234567890000\n *     assert( date1 !== date2 );\n *     assert( Immutable.is( date1, date2 ) );\n *\n * Note: overriding `valueOf` may have other implications if you use this object\n * where JavaScript expects a primitive, such as implicit string coercion.\n *\n * For more complex types, especially collections, implementing `valueOf` may\n * not be performant. An alternative is to implement `equals` and `hashCode`.\n *\n * `equals` takes another object, presumably of similar type, and returns true\n * if it is equal. Equality is symmetrical, so the same result should be\n * returned if this and the argument are flipped.\n *\n *     assert( a.equals(b) === b.equals(a) );\n *\n * `hashCode` returns a 32bit integer number representing the object which will\n * be used to determine how to store the value object in a Map or Set. You must\n * provide both or neither methods, one must not exist without the other.\n *\n * Also, an important relationship between these methods must be upheld: if two\n * values are equal, they *must* return the same hashCode. If the values are not\n * equal, they might have the same hashCode; this is called a hash collision,\n * and while undesirable for performance reasons, it is acceptable.\n *\n *     if (a.equals(b)) {\n *       assert( a.hashCode() === b.hashCode() );\n *     }\n *\n * All Immutable collections are Value Objects: they implement `equals()`\n * and `hashCode()`.\n */\nfunction is(valueA, valueB) {\n  if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n    return true;\n  }\n  if (!valueA || !valueB) {\n    return false;\n  }\n  if (\n    typeof valueA.valueOf === 'function' && typeof valueB.valueOf === 'function'\n  ) {\n    valueA = valueA.valueOf();\n    valueB = valueB.valueOf();\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n  }\n  return !!(isValueObject(valueA) &&\n    isValueObject(valueB) &&\n    valueA.equals(valueB));\n}\n\nfunction fromJS(value, converter) {\n  return fromJSWith(\n    [],\n    converter || defaultConverter,\n    value,\n    '',\n    converter && converter.length > 2 ? [] : undefined,\n    { '': value }\n  );\n}\n\nfunction fromJSWith(stack, converter, value, key, keyPath, parentValue) {\n  var toSeq = Array.isArray(value)\n    ? IndexedSeq\n    : isPlainObj(value) ? KeyedSeq : null;\n  if (toSeq) {\n    if (~stack.indexOf(value)) {\n      throw new TypeError('Cannot convert circular structure to Immutable');\n    }\n    stack.push(value);\n    keyPath && key !== '' && keyPath.push(key);\n    var converted = converter.call(\n      parentValue,\n      key,\n      toSeq(value).map(function (v, k) { return fromJSWith(stack, converter, v, k, keyPath, value); }),\n      keyPath && keyPath.slice()\n    );\n    stack.pop();\n    keyPath && keyPath.pop();\n    return converted;\n  }\n  return value;\n}\n\nfunction defaultConverter(k, v) {\n  return isKeyed(v) ? v.toMap() : v.toList();\n}\n\nfunction isPlainObj(value) {\n  return value &&\n    (value.constructor === Object || value.constructor === undefined);\n}\n\nvar imul = typeof Math.imul === 'function' &&\n  Math.imul(0xffffffff, 2) === -2\n  ? Math.imul\n  : function imul(a, b) {\n      a |= 0; // int\n      b |= 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return c * d + ((a >>> 16) * d + c * (b >>> 16) << 16 >>> 0) | 0; // int\n    };\n\n// v8 has an optimization for storing 31-bit signed numbers.\n// Values which have either 00 or 11 as the high order bits qualify.\n// This function drops the highest order bit in a signed number, maintaining\n// the sign bit.\nfunction smi(i32) {\n  return i32 >>> 1 & 0x40000000 | i32 & 0xbfffffff;\n}\n\nfunction hash(o) {\n  if (o === false || o === null || o === undefined) {\n    return 0;\n  }\n  if (typeof o.valueOf === 'function') {\n    o = o.valueOf();\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n  }\n  if (o === true) {\n    return 1;\n  }\n  var type = typeof o;\n  if (type === 'number') {\n    if (o !== o || o === Infinity) {\n      return 0;\n    }\n    var h = o | 0;\n    if (h !== o) {\n      h ^= o * 0xffffffff;\n    }\n    while (o > 0xffffffff) {\n      o /= 0xffffffff;\n      h ^= o;\n    }\n    return smi(h);\n  }\n  if (type === 'string') {\n    return o.length > STRING_HASH_CACHE_MIN_STRLEN\n      ? cachedHashString(o)\n      : hashString(o);\n  }\n  if (typeof o.hashCode === 'function') {\n    return o.hashCode();\n  }\n  if (type === 'object') {\n    return hashJSObj(o);\n  }\n  if (typeof o.toString === 'function') {\n    return hashString(o.toString());\n  }\n  throw new Error('Value type ' + type + ' cannot be hashed.');\n}\n\nfunction cachedHashString(string) {\n  var hash = stringHashCache[string];\n  if (hash === undefined) {\n    hash = hashString(string);\n    if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n      STRING_HASH_CACHE_SIZE = 0;\n      stringHashCache = {};\n    }\n    STRING_HASH_CACHE_SIZE++;\n    stringHashCache[string] = hash;\n  }\n  return hash;\n}\n\n// http://jsperf.com/hashing-strings\nfunction hashString(string) {\n  // This is the hash from JVM\n  // The hash code for a string is computed as\n  // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n  // where s[i] is the ith character of the string and n is the length of\n  // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n  // (exclusive) by dropping high bits.\n  var hash = 0;\n  for (var ii = 0; ii < string.length; ii++) {\n    hash = 31 * hash + string.charCodeAt(ii) | 0;\n  }\n  return smi(hash);\n}\n\nfunction hashJSObj(obj) {\n  var hash;\n  if (usingWeakMap) {\n    hash = weakMap.get(obj);\n    if (hash !== undefined) {\n      return hash;\n    }\n  }\n\n  hash = obj[UID_HASH_KEY];\n  if (hash !== undefined) {\n    return hash;\n  }\n\n  if (!canDefineProperty) {\n    hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    hash = getIENodeHash(obj);\n    if (hash !== undefined) {\n      return hash;\n    }\n  }\n\n  hash = ++objHashUID;\n  if (objHashUID & 0x40000000) {\n    objHashUID = 0;\n  }\n\n  if (usingWeakMap) {\n    weakMap.set(obj, hash);\n  } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n    throw new Error('Non-extensible objects are not allowed as keys.');\n  } else if (canDefineProperty) {\n    Object.defineProperty(obj, UID_HASH_KEY, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: hash\n    });\n  } else if (\n    obj.propertyIsEnumerable !== undefined &&\n    obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable\n  ) {\n    // Since we can't define a non-enumerable property on the object\n    // we'll hijack one of the less-used non-enumerable properties to\n    // save our hash on it. Since this is a function it will not show up in\n    // `JSON.stringify` which is what we want.\n    obj.propertyIsEnumerable = function() {\n      return this.constructor.prototype.propertyIsEnumerable.apply(\n        this,\n        arguments\n      );\n    };\n    obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n  } else if (obj.nodeType !== undefined) {\n    // At this point we couldn't get the IE `uniqueID` to use as a hash\n    // and we couldn't use a non-enumerable property to exploit the\n    // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n    // itself.\n    obj[UID_HASH_KEY] = hash;\n  } else {\n    throw new Error('Unable to set a non-enumerable property on object.');\n  }\n\n  return hash;\n}\n\n// Get references to ES5 object methods.\nvar isExtensible = Object.isExtensible;\n\n// True if Object.defineProperty works as expected. IE8 fails this test.\nvar canDefineProperty = (function() {\n  try {\n    Object.defineProperty({}, '@', {});\n    return true;\n  } catch (e) {\n    return false;\n  }\n})();\n\n// IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n// and avoid memory leaks from the IE cloneNode bug.\nfunction getIENodeHash(node) {\n  if (node && node.nodeType > 0) {\n    switch (node.nodeType) {\n      case 1: // Element\n        return node.uniqueID;\n      case 9: // Document\n        return node.documentElement && node.documentElement.uniqueID;\n    }\n  }\n}\n\n// If possible, use a WeakMap.\nvar usingWeakMap = typeof WeakMap === 'function';\nvar weakMap;\nif (usingWeakMap) {\n  weakMap = new WeakMap();\n}\n\nvar objHashUID = 0;\n\nvar UID_HASH_KEY = '__immutablehash__';\nif (typeof Symbol === 'function') {\n  UID_HASH_KEY = Symbol(UID_HASH_KEY);\n}\n\nvar STRING_HASH_CACHE_MIN_STRLEN = 16;\nvar STRING_HASH_CACHE_MAX_SIZE = 255;\nvar STRING_HASH_CACHE_SIZE = 0;\nvar stringHashCache = {};\n\nvar ToKeyedSequence = (function (KeyedSeq$$1) {\n  function ToKeyedSequence(indexed, useKeys) {\n    this._iter = indexed;\n    this._useKeys = useKeys;\n    this.size = indexed.size;\n  }\n\n  if ( KeyedSeq$$1 ) ToKeyedSequence.__proto__ = KeyedSeq$$1;\n  ToKeyedSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  ToKeyedSequence.prototype.constructor = ToKeyedSequence;\n\n  ToKeyedSequence.prototype.get = function get (key, notSetValue) {\n    return this._iter.get(key, notSetValue);\n  };\n\n  ToKeyedSequence.prototype.has = function has (key) {\n    return this._iter.has(key);\n  };\n\n  ToKeyedSequence.prototype.valueSeq = function valueSeq () {\n    return this._iter.valueSeq();\n  };\n\n  ToKeyedSequence.prototype.reverse = function reverse () {\n    var this$1 = this;\n\n    var reversedSequence = reverseFactory(this, true);\n    if (!this._useKeys) {\n      reversedSequence.valueSeq = function () { return this$1._iter.toSeq().reverse(); };\n    }\n    return reversedSequence;\n  };\n\n  ToKeyedSequence.prototype.map = function map (mapper, context) {\n    var this$1 = this;\n\n    var mappedSequence = mapFactory(this, mapper, context);\n    if (!this._useKeys) {\n      mappedSequence.valueSeq = function () { return this$1._iter.toSeq().map(mapper, context); };\n    }\n    return mappedSequence;\n  };\n\n  ToKeyedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v, k) { return fn(v, k, this$1); }, reverse);\n  };\n\n  ToKeyedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    return this._iter.__iterator(type, reverse);\n  };\n\n  return ToKeyedSequence;\n}(KeyedSeq));\nToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\nvar ToIndexedSequence = (function (IndexedSeq$$1) {\n  function ToIndexedSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( IndexedSeq$$1 ) ToIndexedSequence.__proto__ = IndexedSeq$$1;\n  ToIndexedSequence.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  ToIndexedSequence.prototype.constructor = ToIndexedSequence;\n\n  ToIndexedSequence.prototype.includes = function includes (value) {\n    return this._iter.includes(value);\n  };\n\n  ToIndexedSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(this);\n    return this._iter.__iterate(\n      function (v) { return fn(v, reverse ? this$1.size - ++i : i++, this$1); },\n      reverse\n    );\n  };\n\n  ToIndexedSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    var i = 0;\n    reverse && ensureSize(this);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(\n            type,\n            reverse ? this$1.size - ++i : i++,\n            step.value,\n            step\n          );\n    });\n  };\n\n  return ToIndexedSequence;\n}(IndexedSeq));\n\nvar ToSetSequence = (function (SetSeq$$1) {\n  function ToSetSequence(iter) {\n    this._iter = iter;\n    this.size = iter.size;\n  }\n\n  if ( SetSeq$$1 ) ToSetSequence.__proto__ = SetSeq$$1;\n  ToSetSequence.prototype = Object.create( SetSeq$$1 && SetSeq$$1.prototype );\n  ToSetSequence.prototype.constructor = ToSetSequence;\n\n  ToSetSequence.prototype.has = function has (key) {\n    return this._iter.includes(key);\n  };\n\n  ToSetSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(function (v) { return fn(v, v, this$1); }, reverse);\n  };\n\n  ToSetSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      return step.done\n        ? step\n        : iteratorValue(type, step.value, step.value, step);\n    });\n  };\n\n  return ToSetSequence;\n}(SetSeq));\n\nvar FromEntriesSequence = (function (KeyedSeq$$1) {\n  function FromEntriesSequence(entries) {\n    this._iter = entries;\n    this.size = entries.size;\n  }\n\n  if ( KeyedSeq$$1 ) FromEntriesSequence.__proto__ = KeyedSeq$$1;\n  FromEntriesSequence.prototype = Object.create( KeyedSeq$$1 && KeyedSeq$$1.prototype );\n  FromEntriesSequence.prototype.constructor = FromEntriesSequence;\n\n  FromEntriesSequence.prototype.entrySeq = function entrySeq () {\n    return this._iter.toSeq();\n  };\n\n  FromEntriesSequence.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._iter.__iterate(\n      function (entry) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return fn(\n            indexedCollection ? entry.get(1) : entry[1],\n            indexedCollection ? entry.get(0) : entry[0],\n            this$1\n          );\n        }\n      },\n      reverse\n    );\n  };\n\n  FromEntriesSequence.prototype.__iterator = function __iterator (type, reverse) {\n    var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedCollection = isCollection(entry);\n          return iteratorValue(\n            type,\n            indexedCollection ? entry.get(0) : entry[0],\n            indexedCollection ? entry.get(1) : entry[1],\n            step\n          );\n        }\n      }\n    });\n  };\n\n  return FromEntriesSequence;\n}(KeyedSeq));\n\nToIndexedSequence.prototype.cacheResult = (ToKeyedSequence.prototype.cacheResult = (ToSetSequence.prototype.cacheResult = (FromEntriesSequence.prototype.cacheResult = cacheResultThrough)));\n\nfunction flipFactory(collection) {\n  var flipSequence = makeSequence(collection);\n  flipSequence._iter = collection;\n  flipSequence.size = collection.size;\n  flipSequence.flip = function () { return collection; };\n  flipSequence.reverse = function() {\n    var reversedSequence = collection.reverse.apply(this); // super.reverse()\n    reversedSequence.flip = function () { return collection.reverse(); };\n    return reversedSequence;\n  };\n  flipSequence.has = function (key) { return collection.includes(key); };\n  flipSequence.includes = function (key) { return collection.has(key); };\n  flipSequence.cacheResult = cacheResultThrough;\n  flipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(function (v, k) { return fn(k, v, this$1) !== false; }, reverse);\n  };\n  flipSequence.__iteratorUncached = function(type, reverse) {\n    if (type === ITERATE_ENTRIES) {\n      var iterator = collection.__iterator(type, reverse);\n      return new Iterator(function () {\n        var step = iterator.next();\n        if (!step.done) {\n          var k = step.value[0];\n          step.value[0] = step.value[1];\n          step.value[1] = k;\n        }\n        return step;\n      });\n    }\n    return collection.__iterator(\n      type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n      reverse\n    );\n  };\n  return flipSequence;\n}\n\nfunction mapFactory(collection, mapper, context) {\n  var mappedSequence = makeSequence(collection);\n  mappedSequence.size = collection.size;\n  mappedSequence.has = function (key) { return collection.has(key); };\n  mappedSequence.get = function (key, notSetValue) {\n    var v = collection.get(key, NOT_SET);\n    return v === NOT_SET\n      ? notSetValue\n      : mapper.call(context, v, key, collection);\n  };\n  mappedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    return collection.__iterate(\n      function (v, k, c) { return fn(mapper.call(context, v, k, c), k, this$1) !== false; },\n      reverse\n    );\n  };\n  mappedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var key = entry[0];\n      return iteratorValue(\n        type,\n        key,\n        mapper.call(context, entry[1], key, collection),\n        step\n      );\n    });\n  };\n  return mappedSequence;\n}\n\nfunction reverseFactory(collection, useKeys) {\n  var this$1 = this;\n\n  var reversedSequence = makeSequence(collection);\n  reversedSequence._iter = collection;\n  reversedSequence.size = collection.size;\n  reversedSequence.reverse = function () { return collection; };\n  if (collection.flip) {\n    reversedSequence.flip = function() {\n      var flipSequence = flipFactory(collection);\n      flipSequence.reverse = function () { return collection.flip(); };\n      return flipSequence;\n    };\n  }\n  reversedSequence.get = function (key, notSetValue) { return collection.get(useKeys ? key : -1 - key, notSetValue); };\n  reversedSequence.has = function (key) { return collection.has(useKeys ? key : -1 - key); };\n  reversedSequence.includes = function (value) { return collection.includes(value); };\n  reversedSequence.cacheResult = cacheResultThrough;\n  reversedSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    var i = 0;\n    reverse && ensureSize(collection);\n    return collection.__iterate(\n      function (v, k) { return fn(v, useKeys ? k : reverse ? this$1.size - ++i : i++, this$1); },\n      !reverse\n    );\n  };\n  reversedSequence.__iterator = function (type, reverse) {\n    var i = 0;\n    reverse && ensureSize(collection);\n    var iterator = collection.__iterator(ITERATE_ENTRIES, !reverse);\n    return new Iterator(function () {\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      return iteratorValue(\n        type,\n        useKeys ? entry[0] : reverse ? this$1.size - ++i : i++,\n        entry[1],\n        step\n      );\n    });\n  };\n  return reversedSequence;\n}\n\nfunction filterFactory(collection, predicate, context, useKeys) {\n  var filterSequence = makeSequence(collection);\n  if (useKeys) {\n    filterSequence.has = function (key) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && !!predicate.call(context, v, key, collection);\n    };\n    filterSequence.get = function (key, notSetValue) {\n      var v = collection.get(key, NOT_SET);\n      return v !== NOT_SET && predicate.call(context, v, key, collection)\n        ? v\n        : notSetValue;\n    };\n  }\n  filterSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) {\n        if (predicate.call(context, v, k, c)) {\n          return fn(v, useKeys ? k : iterations++, this$1);\n        }\n      },\n      reverse\n    );\n    return iterations;\n  };\n  filterSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterations = 0;\n    return new Iterator(function () {\n      while (true) {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        var value = entry[1];\n        if (predicate.call(context, value, key, collection)) {\n          return iteratorValue(type, useKeys ? key : iterations++, value, step);\n        }\n      }\n    });\n  };\n  return filterSequence;\n}\n\nfunction countByFactory(collection, grouper, context) {\n  var groups = Map().asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(grouper.call(context, v, k, collection), 0, function (a) { return a + 1; });\n  });\n  return groups.asImmutable();\n}\n\nfunction groupByFactory(collection, grouper, context) {\n  var isKeyedIter = isKeyed(collection);\n  var groups = (isOrdered(collection) ? OrderedMap() : Map()).asMutable();\n  collection.__iterate(function (v, k) {\n    groups.update(\n      grouper.call(context, v, k, collection),\n      function (a) { return ((a = a || []), a.push(isKeyedIter ? [k, v] : v), a); }\n    );\n  });\n  var coerce = collectionClass(collection);\n  return groups.map(function (arr) { return reify(collection, coerce(arr)); });\n}\n\nfunction sliceFactory(collection, begin, end, useKeys) {\n  var originalSize = collection.size;\n\n  if (wholeSlice(begin, end, originalSize)) {\n    return collection;\n  }\n\n  var resolvedBegin = resolveBegin(begin, originalSize);\n  var resolvedEnd = resolveEnd(end, originalSize);\n\n  // begin or end will be NaN if they were provided as negative numbers and\n  // this collection's size is unknown. In that case, cache first so there is\n  // a known size and these do not resolve to NaN.\n  if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n    return sliceFactory(collection.toSeq().cacheResult(), begin, end, useKeys);\n  }\n\n  // Note: resolvedEnd is undefined when the original sequence's length is\n  // unknown and this slice did not supply an end and should contain all\n  // elements after resolvedBegin.\n  // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n  var resolvedSize = resolvedEnd - resolvedBegin;\n  var sliceSize;\n  if (resolvedSize === resolvedSize) {\n    sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n  }\n\n  var sliceSeq = makeSequence(collection);\n\n  // If collection.size is undefined, the size of the realized sliceSeq is\n  // unknown at this point unless the number of items to slice is 0\n  sliceSeq.size = sliceSize === 0\n    ? sliceSize\n    : (collection.size && sliceSize) || undefined;\n\n  if (!useKeys && isSeq(collection) && sliceSize >= 0) {\n    sliceSeq.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return index >= 0 && index < sliceSize\n        ? collection.get(index + resolvedBegin, notSetValue)\n        : notSetValue;\n    };\n  }\n\n  sliceSeq.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (sliceSize === 0) {\n      return 0;\n    }\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var skipped = 0;\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k) {\n      if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1) !== false &&\n          iterations !== sliceSize;\n      }\n    });\n    return iterations;\n  };\n\n  sliceSeq.__iteratorUncached = function(type, reverse) {\n    if (sliceSize !== 0 && reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    // Don't bother instantiating parent iterator if taking 0.\n    var iterator = sliceSize !== 0 && collection.__iterator(type, reverse);\n    var skipped = 0;\n    var iterations = 0;\n    return new Iterator(function () {\n      while (skipped++ < resolvedBegin) {\n        iterator.next();\n      }\n      if (++iterations > sliceSize) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (useKeys || type === ITERATE_VALUES) {\n        return step;\n      }\n      if (type === ITERATE_KEYS) {\n        return iteratorValue(type, iterations - 1, undefined, step);\n      }\n      return iteratorValue(type, iterations - 1, step.value[1], step);\n    });\n  };\n\n  return sliceSeq;\n}\n\nfunction takeWhileFactory(collection, predicate, context) {\n  var takeSequence = makeSequence(collection);\n  takeSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    collection.__iterate(\n      function (v, k, c) { return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$1); }\n    );\n    return iterations;\n  };\n  takeSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var iterating = true;\n    return new Iterator(function () {\n      if (!iterating) {\n        return iteratorDone();\n      }\n      var step = iterator.next();\n      if (step.done) {\n        return step;\n      }\n      var entry = step.value;\n      var k = entry[0];\n      var v = entry[1];\n      if (!predicate.call(context, v, k, this$1)) {\n        iterating = false;\n        return iteratorDone();\n      }\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return takeSequence;\n}\n\nfunction skipWhileFactory(collection, predicate, context, useKeys) {\n  var skipSequence = makeSequence(collection);\n  skipSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var isSkipping = true;\n    var iterations = 0;\n    collection.__iterate(function (v, k, c) {\n      if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n        iterations++;\n        return fn(v, useKeys ? k : iterations - 1, this$1);\n      }\n    });\n    return iterations;\n  };\n  skipSequence.__iteratorUncached = function(type, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(ITERATE_ENTRIES, reverse);\n    var skipping = true;\n    var iterations = 0;\n    return new Iterator(function () {\n      var step;\n      var k;\n      var v;\n      do {\n        step = iterator.next();\n        if (step.done) {\n          if (useKeys || type === ITERATE_VALUES) {\n            return step;\n          }\n          if (type === ITERATE_KEYS) {\n            return iteratorValue(type, iterations++, undefined, step);\n          }\n          return iteratorValue(type, iterations++, step.value[1], step);\n        }\n        var entry = step.value;\n        k = entry[0];\n        v = entry[1];\n        skipping && (skipping = predicate.call(context, v, k, this$1));\n      } while (skipping);\n      return type === ITERATE_ENTRIES ? step : iteratorValue(type, k, v, step);\n    });\n  };\n  return skipSequence;\n}\n\nfunction concatFactory(collection, values) {\n  var isKeyedCollection = isKeyed(collection);\n  var iters = [collection]\n    .concat(values)\n    .map(function (v) {\n      if (!isCollection(v)) {\n        v = isKeyedCollection\n          ? keyedSeqFromValue(v)\n          : indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedCollection) {\n        v = KeyedCollection(v);\n      }\n      return v;\n    })\n    .filter(function (v) { return v.size !== 0; });\n\n  if (iters.length === 0) {\n    return collection;\n  }\n\n  if (iters.length === 1) {\n    var singleton = iters[0];\n    if (\n      singleton === collection ||\n      (isKeyedCollection && isKeyed(singleton)) ||\n      (isIndexed(collection) && isIndexed(singleton))\n    ) {\n      return singleton;\n    }\n  }\n\n  var concatSeq = new ArraySeq(iters);\n  if (isKeyedCollection) {\n    concatSeq = concatSeq.toKeyedSeq();\n  } else if (!isIndexed(collection)) {\n    concatSeq = concatSeq.toSetSeq();\n  }\n  concatSeq = concatSeq.flatten(true);\n  concatSeq.size = iters.reduce(\n    function (sum, seq) {\n      if (sum !== undefined) {\n        var size = seq.size;\n        if (size !== undefined) {\n          return sum + size;\n        }\n      }\n    },\n    0\n  );\n  return concatSeq;\n}\n\nfunction flattenFactory(collection, depth, useKeys) {\n  var flatSequence = makeSequence(collection);\n  flatSequence.__iterateUncached = function(fn, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterate(fn, reverse);\n    }\n    var iterations = 0;\n    var stopped = false;\n    function flatDeep(iter, currentDepth) {\n      iter.__iterate(\n        function (v, k) {\n          if ((!depth || currentDepth < depth) && isCollection(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (\n            fn(v, useKeys ? k : iterations++, flatSequence) === false\n          ) {\n            stopped = true;\n          }\n          return !stopped;\n        },\n        reverse\n      );\n    }\n    flatDeep(collection, 0);\n    return iterations;\n  };\n  flatSequence.__iteratorUncached = function(type, reverse) {\n    if (reverse) {\n      return this.cacheResult().__iterator(type, reverse);\n    }\n    var iterator = collection.__iterator(type, reverse);\n    var stack = [];\n    var iterations = 0;\n    return new Iterator(function () {\n      while (iterator) {\n        var step = iterator.next();\n        if (step.done !== false) {\n          iterator = stack.pop();\n          continue;\n        }\n        var v = step.value;\n        if (type === ITERATE_ENTRIES) {\n          v = v[1];\n        }\n        if ((!depth || stack.length < depth) && isCollection(v)) {\n          stack.push(iterator);\n          iterator = v.__iterator(type, reverse);\n        } else {\n          return useKeys ? step : iteratorValue(type, iterations++, v, step);\n        }\n      }\n      return iteratorDone();\n    });\n  };\n  return flatSequence;\n}\n\nfunction flatMapFactory(collection, mapper, context) {\n  var coerce = collectionClass(collection);\n  return collection\n    .toSeq()\n    .map(function (v, k) { return coerce(mapper.call(context, v, k, collection)); })\n    .flatten(true);\n}\n\nfunction interposeFactory(collection, separator) {\n  var interposedSequence = makeSequence(collection);\n  interposedSequence.size = collection.size && collection.size * 2 - 1;\n  interposedSequence.__iterateUncached = function(fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    collection.__iterate(\n      function (v) { return (!iterations || fn(separator, iterations++, this$1) !== false) &&\n        fn(v, iterations++, this$1) !== false; },\n      reverse\n    );\n    return iterations;\n  };\n  interposedSequence.__iteratorUncached = function(type, reverse) {\n    var iterator = collection.__iterator(ITERATE_VALUES, reverse);\n    var iterations = 0;\n    var step;\n    return new Iterator(function () {\n      if (!step || iterations % 2) {\n        step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n      }\n      return iterations % 2\n        ? iteratorValue(type, iterations++, separator)\n        : iteratorValue(type, iterations++, step.value, step);\n    });\n  };\n  return interposedSequence;\n}\n\nfunction sortFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  var isKeyedCollection = isKeyed(collection);\n  var index = 0;\n  var entries = collection\n    .toSeq()\n    .map(function (v, k) { return [k, v, index++, mapper ? mapper(v, k, collection) : v]; })\n    .toArray();\n  entries.sort(function (a, b) { return comparator(a[3], b[3]) || a[2] - b[2]; }).forEach(\n    isKeyedCollection\n      ? function (v, i) {\n          entries[i].length = 2;\n        }\n      : function (v, i) {\n          entries[i] = v[1];\n        }\n  );\n  return isKeyedCollection\n    ? KeyedSeq(entries)\n    : isIndexed(collection) ? IndexedSeq(entries) : SetSeq(entries);\n}\n\nfunction maxFactory(collection, comparator, mapper) {\n  if (!comparator) {\n    comparator = defaultComparator;\n  }\n  if (mapper) {\n    var entry = collection\n      .toSeq()\n      .map(function (v, k) { return [v, mapper(v, k, collection)]; })\n      .reduce(function (a, b) { return maxCompare(comparator, a[1], b[1]) ? b : a; });\n    return entry && entry[0];\n  }\n  return collection.reduce(function (a, b) { return maxCompare(comparator, a, b) ? b : a; });\n}\n\nfunction maxCompare(comparator, a, b) {\n  var comp = comparator(b, a);\n  // b is considered the new max if the comparator declares them equal, but\n  // they are not equal and b is in fact a nullish value.\n  return (comp === 0 &&\n    b !== a &&\n    (b === undefined || b === null || b !== b)) ||\n    comp > 0;\n}\n\nfunction zipWithFactory(keyIter, zipper, iters) {\n  var zipSequence = makeSequence(keyIter);\n  zipSequence.size = new ArraySeq(iters).map(function (i) { return i.size; }).min();\n  // Note: this a generic base implementation of __iterate in terms of\n  // __iterator which may be more generically useful in the future.\n  zipSequence.__iterate = function(fn, reverse) {\n    var this$1 = this;\n\n    /* generic:\n    var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      iterations++;\n      if (fn(step.value[1], step.value[0], this) === false) {\n        break;\n      }\n    }\n    return iterations;\n    */\n    // indexed:\n    var iterator = this.__iterator(ITERATE_VALUES, reverse);\n    var step;\n    var iterations = 0;\n    while (!(step = iterator.next()).done) {\n      if (fn(step.value, iterations++, this$1) === false) {\n        break;\n      }\n    }\n    return iterations;\n  };\n  zipSequence.__iteratorUncached = function(type, reverse) {\n    var iterators = iters.map(\n      function (i) { return ((i = Collection(i)), getIterator(reverse ? i.reverse() : i)); }\n    );\n    var iterations = 0;\n    var isDone = false;\n    return new Iterator(function () {\n      var steps;\n      if (!isDone) {\n        steps = iterators.map(function (i) { return i.next(); });\n        isDone = steps.some(function (s) { return s.done; });\n      }\n      if (isDone) {\n        return iteratorDone();\n      }\n      return iteratorValue(\n        type,\n        iterations++,\n        zipper.apply(null, steps.map(function (s) { return s.value; }))\n      );\n    });\n  };\n  return zipSequence;\n}\n\n// #pragma Helper Functions\n\nfunction reify(iter, seq) {\n  return iter === seq ? iter : isSeq(iter) ? seq : iter.constructor(seq);\n}\n\nfunction validateEntry(entry) {\n  if (entry !== Object(entry)) {\n    throw new TypeError('Expected [K, V] tuple: ' + entry);\n  }\n}\n\nfunction collectionClass(collection) {\n  return isKeyed(collection)\n    ? KeyedCollection\n    : isIndexed(collection) ? IndexedCollection : SetCollection;\n}\n\nfunction makeSequence(collection) {\n  return Object.create(\n    (isKeyed(collection)\n      ? KeyedSeq\n      : isIndexed(collection) ? IndexedSeq : SetSeq).prototype\n  );\n}\n\nfunction cacheResultThrough() {\n  if (this._iter.cacheResult) {\n    this._iter.cacheResult();\n    this.size = this._iter.size;\n    return this;\n  }\n  return Seq.prototype.cacheResult.call(this);\n}\n\nfunction defaultComparator(a, b) {\n  if (a === undefined && b === undefined) {\n    return 0;\n  }\n\n  if (a === undefined) {\n    return 1;\n  }\n\n  if (b === undefined) {\n    return -1;\n  }\n\n  return a > b ? 1 : a < b ? -1 : 0;\n}\n\nfunction coerceKeyPath(keyPath) {\n  if (isArrayLike(keyPath) && typeof keyPath !== 'string') {\n    return keyPath;\n  }\n  if (isOrdered(keyPath)) {\n    return keyPath.toArray();\n  }\n  throw new TypeError(\n    'Invalid keyPath: expected Ordered Collection or Array: ' + keyPath\n  );\n}\n\nfunction invariant(condition, error) {\n  if (!condition) { throw new Error(error); }\n}\n\nfunction assertNotInfinite(size) {\n  invariant(\n    size !== Infinity,\n    'Cannot perform this action with an infinite size.'\n  );\n}\n\n/**\n * Converts a value to a string, adding quotes if a string was provided.\n */\nfunction quoteString(value) {\n  return typeof value === 'string' ? JSON.stringify(value) : String(value);\n}\n\nvar Map = (function (KeyedCollection$$1) {\n  function Map(value) {\n    return value === null || value === undefined\n      ? emptyMap()\n      : isMap(value) && !isOrdered(value)\n          ? value\n          : emptyMap().withMutations(function (map) {\n              var iter = KeyedCollection$$1(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v, k) { return map.set(k, v); });\n            });\n  }\n\n  if ( KeyedCollection$$1 ) Map.__proto__ = KeyedCollection$$1;\n  Map.prototype = Object.create( KeyedCollection$$1 && KeyedCollection$$1.prototype );\n  Map.prototype.constructor = Map;\n\n  Map.of = function of () {\n    var keyValues = [], len = arguments.length;\n    while ( len-- ) keyValues[ len ] = arguments[ len ];\n\n    return emptyMap().withMutations(function (map) {\n      for (var i = 0; i < keyValues.length; i += 2) {\n        if (i + 1 >= keyValues.length) {\n          throw new Error('Missing value for key: ' + keyValues[i]);\n        }\n        map.set(keyValues[i], keyValues[i + 1]);\n      }\n    });\n  };\n\n  Map.prototype.toString = function toString () {\n    return this.__toString('Map {', '}');\n  };\n\n  // @pragma Access\n\n  Map.prototype.get = function get (k, notSetValue) {\n    return this._root\n      ? this._root.get(0, undefined, k, notSetValue)\n      : notSetValue;\n  };\n\n  // @pragma Modification\n\n  Map.prototype.set = function set (k, v) {\n    return updateMap(this, k, v);\n  };\n\n  Map.prototype.setIn = function setIn (keyPath, v) {\n    return this.updateIn(keyPath, NOT_SET, function () { return v; });\n  };\n\n  Map.prototype.remove = function remove (k) {\n    return updateMap(this, k, NOT_SET);\n  };\n\n  Map.prototype.deleteIn = function deleteIn (keyPath) {\n    keyPath = [].concat( coerceKeyPath(keyPath) );\n    if (keyPath.length) {\n      var lastKey = keyPath.pop();\n      return this.updateIn(keyPath, function (c) { return c && c.remove(lastKey); });\n    }\n  };\n\n  Map.prototype.deleteAll = function deleteAll (keys) {\n    var collection = Collection(keys);\n\n    if (collection.size === 0) {\n      return this;\n    }\n\n    return this.withMutations(function (map) {\n      collection.forEach(function (key) { return map.remove(key); });\n    });\n  };\n\n  Map.prototype.update = function update (k, notSetValue, updater) {\n    return arguments.length === 1\n      ? k(this)\n      : this.updateIn([k], notSetValue, updater);\n  };\n\n  Map.prototype.updateIn = function updateIn (keyPath, notSetValue, updater) {\n    if (!updater) {\n      updater = notSetValue;\n      notSetValue = undefined;\n    }\n    var updatedValue = updateInDeepMap(\n      this,\n      coerceKeyPath(keyPath),\n      0,\n      notSetValue,\n      updater\n    );\n    return updatedValue === NOT_SET ? notSetValue : updatedValue;\n  };\n\n  Map.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._root = null;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyMap();\n  };\n\n  // @pragma Composition\n\n  Map.prototype.merge = function merge (/*...iters*/) {\n    return mergeIntoMapWith(this, undefined, arguments);\n  };\n\n  Map.prototype.mergeWith = function mergeWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoMapWith(this, merger, iters);\n  };\n\n  Map.prototype.mergeIn = function mergeIn (keyPath) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return this.updateIn(\n      keyPath,\n      emptyMap(),\n      function (m) { return typeof m.merge === 'function'\n          ? m.merge.apply(m, iters)\n          : iters[iters.length - 1]; }\n    );\n  };\n\n  Map.prototype.mergeDeep = function mergeDeep (/*...iters*/) {\n    return mergeIntoMapWith(this, deepMerger, arguments);\n  };\n\n  Map.prototype.mergeDeepWith = function mergeDeepWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n  };\n\n  Map.prototype.mergeDeepIn = function mergeDeepIn (keyPath) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return this.updateIn(\n      keyPath,\n      emptyMap(),\n      function (m) { return typeof m.mergeDeep === 'function'\n          ? m.mergeDeep.apply(m, iters)\n          : iters[iters.length - 1]; }\n    );\n  };\n\n  Map.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator));\n  };\n\n  Map.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedMap(sortFactory(this, comparator, mapper));\n  };\n\n  // @pragma Mutability\n\n  Map.prototype.withMutations = function withMutations (fn) {\n    var mutable = this.asMutable();\n    fn(mutable);\n    return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n  };\n\n  Map.prototype.asMutable = function asMutable () {\n    return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n  };\n\n  Map.prototype.asImmutable = function asImmutable () {\n    return this.__ensureOwner();\n  };\n\n  Map.prototype.wasAltered = function wasAltered () {\n    return this.__altered;\n  };\n\n  Map.prototype.__iterator = function __iterator (type, reverse) {\n    return new MapIterator(this, type, reverse);\n  };\n\n  Map.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var iterations = 0;\n    this._root &&\n      this._root.iterate(\n        function (entry) {\n          iterations++;\n          return fn(entry[1], entry[0], this$1);\n        },\n        reverse\n      );\n    return iterations;\n  };\n\n  Map.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyMap();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeMap(this.size, this._root, ownerID, this.__hash);\n  };\n\n  return Map;\n}(KeyedCollection));\n\nfunction isMap(maybeMap) {\n  return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n}\n\nMap.isMap = isMap;\n\nvar IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\nvar MapPrototype = Map.prototype;\nMapPrototype[IS_MAP_SENTINEL] = true;\nMapPrototype[DELETE] = MapPrototype.remove;\nMapPrototype.removeIn = MapPrototype.deleteIn;\nMapPrototype.removeAll = MapPrototype.deleteAll;\n\n// #pragma Trie Nodes\n\nvar ArrayMapNode = function ArrayMapNode(ownerID, entries) {\n  this.ownerID = ownerID;\n  this.entries = entries;\n};\n\nArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && entries.length === 1) {\n    return; // undefined\n  }\n\n  if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n    return createNodes(ownerID, entries, key, value);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new ArrayMapNode(ownerID, newEntries);\n};\n\nvar BitmapIndexedNode = function BitmapIndexedNode(ownerID, bitmap, nodes) {\n  this.ownerID = ownerID;\n  this.bitmap = bitmap;\n  this.nodes = nodes;\n};\n\nBitmapIndexedNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var bit = 1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK);\n  var bitmap = this.bitmap;\n  return (bitmap & bit) === 0\n    ? notSetValue\n    : this.nodes[popCount(bitmap & bit - 1)].get(\n        shift + SHIFT,\n        keyHash,\n        key,\n        notSetValue\n      );\n};\n\nBitmapIndexedNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var bit = 1 << keyHashFrag;\n  var bitmap = this.bitmap;\n  var exists = (bitmap & bit) !== 0;\n\n  if (!exists && value === NOT_SET) {\n    return this;\n  }\n\n  var idx = popCount(bitmap & bit - 1);\n  var nodes = this.nodes;\n  var node = exists ? nodes[idx] : undefined;\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n\n  if (newNode === node) {\n    return this;\n  }\n\n  if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n    return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n  }\n\n  if (\n    exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])\n  ) {\n    return nodes[idx ^ 1];\n  }\n\n  if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n    return newNode;\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n  var newNodes = exists\n    ? newNode\n        ? setIn(nodes, idx, newNode, isEditable)\n        : spliceOut(nodes, idx, isEditable)\n    : spliceIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.bitmap = newBitmap;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n};\n\nvar HashArrayMapNode = function HashArrayMapNode(ownerID, count, nodes) {\n  this.ownerID = ownerID;\n  this.count = count;\n  this.nodes = nodes;\n};\n\nHashArrayMapNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var node = this.nodes[idx];\n  return node\n    ? node.get(shift + SHIFT, keyHash, key, notSetValue)\n    : notSetValue;\n};\n\nHashArrayMapNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n  var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n  var removed = value === NOT_SET;\n  var nodes = this.nodes;\n  var node = nodes[idx];\n\n  if (removed && !node) {\n    return this;\n  }\n\n  var newNode = updateNode(\n    node,\n    ownerID,\n    shift + SHIFT,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n  if (newNode === node) {\n    return this;\n  }\n\n  var newCount = this.count;\n  if (!node) {\n    newCount++;\n  } else if (!newNode) {\n    newCount--;\n    if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n      return packNodes(ownerID, nodes, newCount, idx);\n    }\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n  if (isEditable) {\n    this.count = newCount;\n    this.nodes = newNodes;\n    return this;\n  }\n\n  return new HashArrayMapNode(ownerID, newCount, newNodes);\n};\n\nvar HashCollisionNode = function HashCollisionNode(ownerID, keyHash, entries) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entries = entries;\n};\n\nHashCollisionNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  var entries = this.entries;\n  for (var ii = 0, len = entries.length; ii < len; ii++) {\n    if (is(key, entries[ii][0])) {\n      return entries[ii][1];\n    }\n  }\n  return notSetValue;\n};\n\nHashCollisionNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  if (keyHash === undefined) {\n    keyHash = hash(key);\n  }\n\n  var removed = value === NOT_SET;\n\n  if (keyHash !== this.keyHash) {\n    if (removed) {\n      return this;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n  }\n\n  var entries = this.entries;\n  var idx = 0;\n  var len = entries.length;\n  for (; idx < len; idx++) {\n    if (is(key, entries[idx][0])) {\n      break;\n    }\n  }\n  var exists = idx < len;\n\n  if (exists ? entries[idx][1] === value : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n  (removed || !exists) && SetRef(didChangeSize);\n\n  if (removed && len === 2) {\n    return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n  }\n\n  var isEditable = ownerID && ownerID === this.ownerID;\n  var newEntries = isEditable ? entries : arrCopy(entries);\n\n  if (exists) {\n    if (removed) {\n      idx === len - 1\n        ? newEntries.pop()\n        : (newEntries[idx] = newEntries.pop());\n    } else {\n      newEntries[idx] = [key, value];\n    }\n  } else {\n    newEntries.push([key, value]);\n  }\n\n  if (isEditable) {\n    this.entries = newEntries;\n    return this;\n  }\n\n  return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n};\n\nvar ValueNode = function ValueNode(ownerID, keyHash, entry) {\n  this.ownerID = ownerID;\n  this.keyHash = keyHash;\n  this.entry = entry;\n};\n\nValueNode.prototype.get = function get (shift, keyHash, key, notSetValue) {\n  return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n};\n\nValueNode.prototype.update = function update (ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n  var removed = value === NOT_SET;\n  var keyMatch = is(key, this.entry[0]);\n  if (keyMatch ? value === this.entry[1] : removed) {\n    return this;\n  }\n\n  SetRef(didAlter);\n\n  if (removed) {\n    SetRef(didChangeSize);\n    return; // undefined\n  }\n\n  if (keyMatch) {\n    if (ownerID && ownerID === this.ownerID) {\n      this.entry[1] = value;\n      return this;\n    }\n    return new ValueNode(ownerID, this.keyHash, [key, value]);\n  }\n\n  SetRef(didChangeSize);\n  return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n};\n\n// #pragma Iterators\n\nArrayMapNode.prototype.iterate = (HashCollisionNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var entries = this.entries;\n  for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n    if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n      return false;\n    }\n  }\n});\n\nBitmapIndexedNode.prototype.iterate = (HashArrayMapNode.prototype.iterate = function(\n  fn,\n  reverse\n) {\n  var nodes = this.nodes;\n  for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n    var node = nodes[reverse ? maxIndex - ii : ii];\n    if (node && node.iterate(fn, reverse) === false) {\n      return false;\n    }\n  }\n});\n\n// eslint-disable-next-line no-unused-vars\nValueNode.prototype.iterate = function(fn, reverse) {\n  return fn(this.entry);\n};\n\nvar MapIterator = (function (Iterator$$1) {\n  function MapIterator(map, type, reverse) {\n    this._type = type;\n    this._reverse = reverse;\n    this._stack = map._root && mapIteratorFrame(map._root);\n  }\n\n  if ( Iterator$$1 ) MapIterator.__proto__ = Iterator$$1;\n  MapIterator.prototype = Object.create( Iterator$$1 && Iterator$$1.prototype );\n  MapIterator.prototype.constructor = MapIterator;\n\n  MapIterator.prototype.next = function next () {\n    var this$1 = this;\n\n    var type = this._type;\n    var stack = this._stack;\n    while (stack) {\n      var node = stack.node;\n      var index = stack.index++;\n      var maxIndex = (void 0);\n      if (node.entry) {\n        if (index === 0) {\n          return mapIteratorValue(type, node.entry);\n        }\n      } else if (node.entries) {\n        maxIndex = node.entries.length - 1;\n        if (index <= maxIndex) {\n          return mapIteratorValue(\n            type,\n            node.entries[this$1._reverse ? maxIndex - index : index]\n          );\n        }\n      } else {\n        maxIndex = node.nodes.length - 1;\n        if (index <= maxIndex) {\n          var subNode = node.nodes[this$1._reverse ? maxIndex - index : index];\n          if (subNode) {\n            if (subNode.entry) {\n              return mapIteratorValue(type, subNode.entry);\n            }\n            stack = (this$1._stack = mapIteratorFrame(subNode, stack));\n          }\n          continue;\n        }\n      }\n      stack = (this$1._stack = this$1._stack.__prev);\n    }\n    return iteratorDone();\n  };\n\n  return MapIterator;\n}(Iterator));\n\nfunction mapIteratorValue(type, entry) {\n  return iteratorValue(type, entry[0], entry[1]);\n}\n\nfunction mapIteratorFrame(node, prev) {\n  return {\n    node: node,\n    index: 0,\n    __prev: prev\n  };\n}\n\nfunction makeMap(size, root, ownerID, hash$$1) {\n  var map = Object.create(MapPrototype);\n  map.size = size;\n  map._root = root;\n  map.__ownerID = ownerID;\n  map.__hash = hash$$1;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_MAP;\nfunction emptyMap() {\n  return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n}\n\nfunction updateMap(map, k, v) {\n  var newRoot;\n  var newSize;\n  if (!map._root) {\n    if (v === NOT_SET) {\n      return map;\n    }\n    newSize = 1;\n    newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n  } else {\n    var didChangeSize = MakeRef(CHANGE_LENGTH);\n    var didAlter = MakeRef(DID_ALTER);\n    newRoot = updateNode(\n      map._root,\n      map.__ownerID,\n      0,\n      undefined,\n      k,\n      v,\n      didChangeSize,\n      didAlter\n    );\n    if (!didAlter.value) {\n      return map;\n    }\n    newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n  }\n  if (map.__ownerID) {\n    map.size = newSize;\n    map._root = newRoot;\n    map.__hash = undefined;\n    map.__altered = true;\n    return map;\n  }\n  return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n}\n\nfunction updateNode(\n  node,\n  ownerID,\n  shift,\n  keyHash,\n  key,\n  value,\n  didChangeSize,\n  didAlter\n) {\n  if (!node) {\n    if (value === NOT_SET) {\n      return node;\n    }\n    SetRef(didAlter);\n    SetRef(didChangeSize);\n    return new ValueNode(ownerID, keyHash, [key, value]);\n  }\n  return node.update(\n    ownerID,\n    shift,\n    keyHash,\n    key,\n    value,\n    didChangeSize,\n    didAlter\n  );\n}\n\nfunction isLeafNode(node) {\n  return node.constructor === ValueNode ||\n    node.constructor === HashCollisionNode;\n}\n\nfunction mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n  if (node.keyHash === keyHash) {\n    return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n  }\n\n  var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n  var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n  var newNode;\n  var nodes = idx1 === idx2\n    ? [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)]\n    : ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2\n        ? [node, newNode]\n        : [newNode, node]);\n\n  return new BitmapIndexedNode(ownerID, 1 << idx1 | 1 << idx2, nodes);\n}\n\nfunction createNodes(ownerID, entries, key, value) {\n  if (!ownerID) {\n    ownerID = new OwnerID();\n  }\n  var node = new ValueNode(ownerID, hash(key), [key, value]);\n  for (var ii = 0; ii < entries.length; ii++) {\n    var entry = entries[ii];\n    node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n  }\n  return node;\n}\n\nfunction packNodes(ownerID, nodes, count, excluding) {\n  var bitmap = 0;\n  var packedII = 0;\n  var packedNodes = new Array(count);\n  for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, (bit <<= 1)) {\n    var node = nodes[ii];\n    if (node !== undefined && ii !== excluding) {\n      bitmap |= bit;\n      packedNodes[packedII++] = node;\n    }\n  }\n  return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n}\n\nfunction expandNodes(ownerID, nodes, bitmap, including, node) {\n  var count = 0;\n  var expandedNodes = new Array(SIZE);\n  for (var ii = 0; bitmap !== 0; ii++, (bitmap >>>= 1)) {\n    expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n  }\n  expandedNodes[including] = node;\n  return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n}\n\nfunction mergeIntoMapWith(map, merger, collections) {\n  var iters = [];\n  for (var ii = 0; ii < collections.length; ii++) {\n    var value = collections[ii];\n    var iter = KeyedCollection(value);\n    if (!isCollection(value)) {\n      iter = iter.map(function (v) { return fromJS(v); });\n    }\n    iters.push(iter);\n  }\n  return mergeIntoCollectionWith(map, merger, iters);\n}\n\nfunction deepMerger(oldVal, newVal) {\n  return oldVal && oldVal.mergeDeep && isCollection(newVal)\n    ? oldVal.mergeDeep(newVal)\n    : is(oldVal, newVal) ? oldVal : newVal;\n}\n\nfunction deepMergerWith(merger) {\n  return function (oldVal, newVal, key) {\n    if (oldVal && oldVal.mergeDeepWith && isCollection(newVal)) {\n      return oldVal.mergeDeepWith(merger, newVal);\n    }\n    var nextValue = merger(oldVal, newVal, key);\n    return is(oldVal, nextValue) ? oldVal : nextValue;\n  };\n}\n\nfunction mergeIntoCollectionWith(collection, merger, iters) {\n  iters = iters.filter(function (x) { return x.size !== 0; });\n  if (iters.length === 0) {\n    return collection;\n  }\n  if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n    return collection.constructor(iters[0]);\n  }\n  return collection.withMutations(function (collection) {\n    var mergeIntoMap = merger\n      ? function (value, key) {\n          collection.update(\n            key,\n            NOT_SET,\n            function (oldVal) { return oldVal === NOT_SET ? value : merger(oldVal, value, key); }\n          );\n        }\n      : function (value, key) {\n          collection.set(key, value);\n        };\n    for (var ii = 0; ii < iters.length; ii++) {\n      iters[ii].forEach(mergeIntoMap);\n    }\n  });\n}\n\nfunction updateInDeepMap(existing, keyPath, i, notSetValue, updater) {\n  var isNotSet = existing === NOT_SET;\n  if (i === keyPath.length) {\n    var existingValue = isNotSet ? notSetValue : existing;\n    var newValue = updater(existingValue);\n    return newValue === existingValue ? existing : newValue;\n  }\n  if (!(isNotSet || (existing && existing.set))) {\n    throw new TypeError(\n      'Invalid keyPath: Value at [' +\n        keyPath.slice(0, i).map(quoteString) +\n        '] does not have a .set() method and cannot be updated: ' +\n        existing\n    );\n  }\n  var key = keyPath[i];\n  var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n  var nextUpdated = updateInDeepMap(\n    nextExisting,\n    keyPath,\n    i + 1,\n    notSetValue,\n    updater\n  );\n  return nextUpdated === nextExisting\n    ? existing\n    : nextUpdated === NOT_SET\n        ? existing.remove(key)\n        : (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n}\n\nfunction popCount(x) {\n  x -= x >> 1 & 0x55555555;\n  x = (x & 0x33333333) + (x >> 2 & 0x33333333);\n  x = x + (x >> 4) & 0x0f0f0f0f;\n  x += x >> 8;\n  x += x >> 16;\n  return x & 0x7f;\n}\n\nfunction setIn(array, idx, val, canEdit) {\n  var newArray = canEdit ? array : arrCopy(array);\n  newArray[idx] = val;\n  return newArray;\n}\n\nfunction spliceIn(array, idx, val, canEdit) {\n  var newLen = array.length + 1;\n  if (canEdit && idx + 1 === newLen) {\n    array[idx] = val;\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      newArray[ii] = val;\n      after = -1;\n    } else {\n      newArray[ii] = array[ii + after];\n    }\n  }\n  return newArray;\n}\n\nfunction spliceOut(array, idx, canEdit) {\n  var newLen = array.length - 1;\n  if (canEdit && idx === newLen) {\n    array.pop();\n    return array;\n  }\n  var newArray = new Array(newLen);\n  var after = 0;\n  for (var ii = 0; ii < newLen; ii++) {\n    if (ii === idx) {\n      after = 1;\n    }\n    newArray[ii] = array[ii + after];\n  }\n  return newArray;\n}\n\nvar MAX_ARRAY_MAP_SIZE = SIZE / 4;\nvar MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\nvar MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\nvar List = (function (IndexedCollection$$1) {\n  function List(value) {\n    var empty = emptyList();\n    if (value === null || value === undefined) {\n      return empty;\n    }\n    if (isList(value)) {\n      return value;\n    }\n    var iter = IndexedCollection$$1(value);\n    var size = iter.size;\n    if (size === 0) {\n      return empty;\n    }\n    assertNotInfinite(size);\n    if (size > 0 && size < SIZE) {\n      return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n    }\n    return empty.withMutations(function (list) {\n      list.setSize(size);\n      iter.forEach(function (v, i) { return list.set(i, v); });\n    });\n  }\n\n  if ( IndexedCollection$$1 ) List.__proto__ = IndexedCollection$$1;\n  List.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  List.prototype.constructor = List;\n\n  List.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  List.prototype.toString = function toString () {\n    return this.__toString('List [', ']');\n  };\n\n  // @pragma Access\n\n  List.prototype.get = function get (index, notSetValue) {\n    index = wrapIndex(this, index);\n    if (index >= 0 && index < this.size) {\n      index += this._origin;\n      var node = listNodeFor(this, index);\n      return node && node.array[index & MASK];\n    }\n    return notSetValue;\n  };\n\n  // @pragma Modification\n\n  List.prototype.set = function set (index, value) {\n    return updateList(this, index, value);\n  };\n\n  List.prototype.remove = function remove (index) {\n    return !this.has(index)\n      ? this\n      : index === 0\n          ? this.shift()\n          : index === this.size - 1 ? this.pop() : this.splice(index, 1);\n  };\n\n  List.prototype.insert = function insert (index, value) {\n    return this.splice(index, 0, value);\n  };\n\n  List.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = (this._origin = (this._capacity = 0));\n      this._level = SHIFT;\n      this._root = (this._tail = null);\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyList();\n  };\n\n  List.prototype.push = function push (/*...values*/) {\n    var values = arguments;\n    var oldSize = this.size;\n    return this.withMutations(function (list) {\n      setListBounds(list, 0, oldSize + values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(oldSize + ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.pop = function pop () {\n    return setListBounds(this, 0, -1);\n  };\n\n  List.prototype.unshift = function unshift (/*...values*/) {\n    var values = arguments;\n    return this.withMutations(function (list) {\n      setListBounds(list, -values.length);\n      for (var ii = 0; ii < values.length; ii++) {\n        list.set(ii, values[ii]);\n      }\n    });\n  };\n\n  List.prototype.shift = function shift () {\n    return setListBounds(this, 1);\n  };\n\n  // @pragma Composition\n\n  List.prototype.merge = function merge (/*...iters*/) {\n    return mergeIntoListWith(this, undefined, arguments);\n  };\n\n  List.prototype.mergeWith = function mergeWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoListWith(this, merger, iters);\n  };\n\n  List.prototype.mergeDeep = function mergeDeep (/*...iters*/) {\n    return mergeIntoListWith(this, deepMerger, arguments);\n  };\n\n  List.prototype.mergeDeepWith = function mergeDeepWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return mergeIntoListWith(this, deepMergerWith(merger), iters);\n  };\n\n  List.prototype.setSize = function setSize (size) {\n    return setListBounds(this, 0, size);\n  };\n\n  // @pragma Iteration\n\n  List.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    if (wholeSlice(begin, end, size)) {\n      return this;\n    }\n    return setListBounds(\n      this,\n      resolveBegin(begin, size),\n      resolveEnd(end, size)\n    );\n  };\n\n  List.prototype.__iterator = function __iterator (type, reverse) {\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    return new Iterator(function () {\n      var value = values();\n      return value === DONE\n        ? iteratorDone()\n        : iteratorValue(type, reverse ? --index : index++, value);\n    });\n  };\n\n  List.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var index = reverse ? this.size : 0;\n    var values = iterateList(this, reverse);\n    var value;\n    while ((value = values()) !== DONE) {\n      if (fn(value, reverse ? --index : index++, this$1) === false) {\n        break;\n      }\n    }\n    return index;\n  };\n\n  List.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyList();\n      }\n      this.__ownerID = ownerID;\n      return this;\n    }\n    return makeList(\n      this._origin,\n      this._capacity,\n      this._level,\n      this._root,\n      this._tail,\n      ownerID,\n      this.__hash\n    );\n  };\n\n  return List;\n}(IndexedCollection));\n\nfunction isList(maybeList) {\n  return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n}\n\nList.isList = isList;\n\nvar IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\nvar ListPrototype = List.prototype;\nListPrototype[IS_LIST_SENTINEL] = true;\nListPrototype[DELETE] = ListPrototype.remove;\nListPrototype.setIn = MapPrototype.setIn;\nListPrototype.deleteIn = (ListPrototype.removeIn = MapPrototype.removeIn);\nListPrototype.update = MapPrototype.update;\nListPrototype.updateIn = MapPrototype.updateIn;\nListPrototype.mergeIn = MapPrototype.mergeIn;\nListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\nListPrototype.withMutations = MapPrototype.withMutations;\nListPrototype.asMutable = MapPrototype.asMutable;\nListPrototype.asImmutable = MapPrototype.asImmutable;\nListPrototype.wasAltered = MapPrototype.wasAltered;\n\nvar VNode = function VNode(array, ownerID) {\n  this.array = array;\n  this.ownerID = ownerID;\n};\n\n// TODO: seems like these methods are very similar\n\nVNode.prototype.removeBefore = function removeBefore (ownerID, level, index) {\n  if (index === level ? 1 << level : 0 || this.array.length === 0) {\n    return this;\n  }\n  var originIndex = index >>> level & MASK;\n  if (originIndex >= this.array.length) {\n    return new VNode([], ownerID);\n  }\n  var removingFirst = originIndex === 0;\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[originIndex];\n    newChild = oldChild &&\n      oldChild.removeBefore(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && removingFirst) {\n      return this;\n    }\n  }\n  if (removingFirst && !newChild) {\n    return this;\n  }\n  var editable = editableVNode(this, ownerID);\n  if (!removingFirst) {\n    for (var ii = 0; ii < originIndex; ii++) {\n      editable.array[ii] = undefined;\n    }\n  }\n  if (newChild) {\n    editable.array[originIndex] = newChild;\n  }\n  return editable;\n};\n\nVNode.prototype.removeAfter = function removeAfter (ownerID, level, index) {\n  if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n    return this;\n  }\n  var sizeIndex = index - 1 >>> level & MASK;\n  if (sizeIndex >= this.array.length) {\n    return this;\n  }\n\n  var newChild;\n  if (level > 0) {\n    var oldChild = this.array[sizeIndex];\n    newChild = oldChild &&\n      oldChild.removeAfter(ownerID, level - SHIFT, index);\n    if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n      return this;\n    }\n  }\n\n  var editable = editableVNode(this, ownerID);\n  editable.array.splice(sizeIndex + 1);\n  if (newChild) {\n    editable.array[sizeIndex] = newChild;\n  }\n  return editable;\n};\n\nvar DONE = {};\n\nfunction iterateList(list, reverse) {\n  var left = list._origin;\n  var right = list._capacity;\n  var tailPos = getTailOffset(right);\n  var tail = list._tail;\n\n  return iterateNodeOrLeaf(list._root, list._level, 0);\n\n  function iterateNodeOrLeaf(node, level, offset) {\n    return level === 0\n      ? iterateLeaf(node, offset)\n      : iterateNode(node, level, offset);\n  }\n\n  function iterateLeaf(node, offset) {\n    var array = offset === tailPos ? tail && tail.array : node && node.array;\n    var from = offset > left ? 0 : left - offset;\n    var to = right - offset;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      if (from === to) {\n        return DONE;\n      }\n      var idx = reverse ? --to : from++;\n      return array && array[idx];\n    };\n  }\n\n  function iterateNode(node, level, offset) {\n    var values;\n    var array = node && node.array;\n    var from = offset > left ? 0 : left - offset >> level;\n    var to = (right - offset >> level) + 1;\n    if (to > SIZE) {\n      to = SIZE;\n    }\n    return function () {\n      while (true) {\n        if (values) {\n          var value = values();\n          if (value !== DONE) {\n            return value;\n          }\n          values = null;\n        }\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        values = iterateNodeOrLeaf(\n          array && array[idx],\n          level - SHIFT,\n          offset + (idx << level)\n        );\n      }\n    };\n  }\n}\n\nfunction makeList(origin, capacity, level, root, tail, ownerID, hash) {\n  var list = Object.create(ListPrototype);\n  list.size = capacity - origin;\n  list._origin = origin;\n  list._capacity = capacity;\n  list._level = level;\n  list._root = root;\n  list._tail = tail;\n  list.__ownerID = ownerID;\n  list.__hash = hash;\n  list.__altered = false;\n  return list;\n}\n\nvar EMPTY_LIST;\nfunction emptyList() {\n  return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n}\n\nfunction updateList(list, index, value) {\n  index = wrapIndex(list, index);\n\n  if (index !== index) {\n    return list;\n  }\n\n  if (index >= list.size || index < 0) {\n    return list.withMutations(function (list) {\n      index < 0\n        ? setListBounds(list, index).set(0, value)\n        : setListBounds(list, 0, index + 1).set(index, value);\n    });\n  }\n\n  index += list._origin;\n\n  var newTail = list._tail;\n  var newRoot = list._root;\n  var didAlter = MakeRef(DID_ALTER);\n  if (index >= getTailOffset(list._capacity)) {\n    newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n  } else {\n    newRoot = updateVNode(\n      newRoot,\n      list.__ownerID,\n      list._level,\n      index,\n      value,\n      didAlter\n    );\n  }\n\n  if (!didAlter.value) {\n    return list;\n  }\n\n  if (list.__ownerID) {\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n}\n\nfunction updateVNode(node, ownerID, level, index, value, didAlter) {\n  var idx = index >>> level & MASK;\n  var nodeHas = node && idx < node.array.length;\n  if (!nodeHas && value === undefined) {\n    return node;\n  }\n\n  var newNode;\n\n  if (level > 0) {\n    var lowerNode = node && node.array[idx];\n    var newLowerNode = updateVNode(\n      lowerNode,\n      ownerID,\n      level - SHIFT,\n      index,\n      value,\n      didAlter\n    );\n    if (newLowerNode === lowerNode) {\n      return node;\n    }\n    newNode = editableVNode(node, ownerID);\n    newNode.array[idx] = newLowerNode;\n    return newNode;\n  }\n\n  if (nodeHas && node.array[idx] === value) {\n    return node;\n  }\n\n  SetRef(didAlter);\n\n  newNode = editableVNode(node, ownerID);\n  if (value === undefined && idx === newNode.array.length - 1) {\n    newNode.array.pop();\n  } else {\n    newNode.array[idx] = value;\n  }\n  return newNode;\n}\n\nfunction editableVNode(node, ownerID) {\n  if (ownerID && node && ownerID === node.ownerID) {\n    return node;\n  }\n  return new VNode(node ? node.array.slice() : [], ownerID);\n}\n\nfunction listNodeFor(list, rawIndex) {\n  if (rawIndex >= getTailOffset(list._capacity)) {\n    return list._tail;\n  }\n  if (rawIndex < 1 << list._level + SHIFT) {\n    var node = list._root;\n    var level = list._level;\n    while (node && level > 0) {\n      node = node.array[rawIndex >>> level & MASK];\n      level -= SHIFT;\n    }\n    return node;\n  }\n}\n\nfunction setListBounds(list, begin, end) {\n  // Sanitize begin & end using this shorthand for ToInt32(argument)\n  // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n  if (begin !== undefined) {\n    begin |= 0;\n  }\n  if (end !== undefined) {\n    end |= 0;\n  }\n  var owner = list.__ownerID || new OwnerID();\n  var oldOrigin = list._origin;\n  var oldCapacity = list._capacity;\n  var newOrigin = oldOrigin + begin;\n  var newCapacity = end === undefined\n    ? oldCapacity\n    : end < 0 ? oldCapacity + end : oldOrigin + end;\n  if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n    return list;\n  }\n\n  // If it's going to end after it starts, it's empty.\n  if (newOrigin >= newCapacity) {\n    return list.clear();\n  }\n\n  var newLevel = list._level;\n  var newRoot = list._root;\n\n  // New origin might need creating a higher root.\n  var offsetShift = 0;\n  while (newOrigin + offsetShift < 0) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [undefined, newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n    offsetShift += 1 << newLevel;\n  }\n  if (offsetShift) {\n    newOrigin += offsetShift;\n    oldOrigin += offsetShift;\n    newCapacity += offsetShift;\n    oldCapacity += offsetShift;\n  }\n\n  var oldTailOffset = getTailOffset(oldCapacity);\n  var newTailOffset = getTailOffset(newCapacity);\n\n  // New size might need creating a higher root.\n  while (newTailOffset >= 1 << newLevel + SHIFT) {\n    newRoot = new VNode(\n      newRoot && newRoot.array.length ? [newRoot] : [],\n      owner\n    );\n    newLevel += SHIFT;\n  }\n\n  // Locate or create the new tail.\n  var oldTail = list._tail;\n  var newTail = newTailOffset < oldTailOffset\n    ? listNodeFor(list, newCapacity - 1)\n    : newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n  // Merge Tail into tree.\n  if (\n    oldTail &&\n    newTailOffset > oldTailOffset &&\n    newOrigin < oldCapacity &&\n    oldTail.array.length\n  ) {\n    newRoot = editableVNode(newRoot, owner);\n    var node = newRoot;\n    for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n      var idx = oldTailOffset >>> level & MASK;\n      node = (node.array[idx] = editableVNode(node.array[idx], owner));\n    }\n    node.array[oldTailOffset >>> SHIFT & MASK] = oldTail;\n  }\n\n  // If the size has been reduced, there's a chance the tail needs to be trimmed.\n  if (newCapacity < oldCapacity) {\n    newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n  }\n\n  // If the new origin is within the tail, then we do not need a root.\n  if (newOrigin >= newTailOffset) {\n    newOrigin -= newTailOffset;\n    newCapacity -= newTailOffset;\n    newLevel = SHIFT;\n    newRoot = null;\n    newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n  } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n    offsetShift = 0;\n\n    // Identify the new top root node of the subtree of the old root.\n    while (newRoot) {\n      var beginIndex = newOrigin >>> newLevel & MASK;\n      if (beginIndex !== newTailOffset >>> newLevel & MASK) {\n        break;\n      }\n      if (beginIndex) {\n        offsetShift += (1 << newLevel) * beginIndex;\n      }\n      newLevel -= SHIFT;\n      newRoot = newRoot.array[beginIndex];\n    }\n\n    // Trim the new sides of the new root.\n    if (newRoot && newOrigin > oldOrigin) {\n      newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n    }\n    if (newRoot && newTailOffset < oldTailOffset) {\n      newRoot = newRoot.removeAfter(\n        owner,\n        newLevel,\n        newTailOffset - offsetShift\n      );\n    }\n    if (offsetShift) {\n      newOrigin -= offsetShift;\n      newCapacity -= offsetShift;\n    }\n  }\n\n  if (list.__ownerID) {\n    list.size = newCapacity - newOrigin;\n    list._origin = newOrigin;\n    list._capacity = newCapacity;\n    list._level = newLevel;\n    list._root = newRoot;\n    list._tail = newTail;\n    list.__hash = undefined;\n    list.__altered = true;\n    return list;\n  }\n  return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n}\n\nfunction mergeIntoListWith(list, merger, collections) {\n  var iters = [];\n  var maxSize = 0;\n  for (var ii = 0; ii < collections.length; ii++) {\n    var value = collections[ii];\n    var iter = IndexedCollection(value);\n    if (iter.size > maxSize) {\n      maxSize = iter.size;\n    }\n    if (!isCollection(value)) {\n      iter = iter.map(function (v) { return fromJS(v); });\n    }\n    iters.push(iter);\n  }\n  if (maxSize > list.size) {\n    list = list.setSize(maxSize);\n  }\n  return mergeIntoCollectionWith(list, merger, iters);\n}\n\nfunction getTailOffset(size) {\n  return size < SIZE ? 0 : size - 1 >>> SHIFT << SHIFT;\n}\n\nvar OrderedMap = (function (Map$$1) {\n  function OrderedMap(value) {\n    return value === null || value === undefined\n      ? emptyOrderedMap()\n      : isOrderedMap(value)\n          ? value\n          : emptyOrderedMap().withMutations(function (map) {\n              var iter = KeyedCollection(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v, k) { return map.set(k, v); });\n            });\n  }\n\n  if ( Map$$1 ) OrderedMap.__proto__ = Map$$1;\n  OrderedMap.prototype = Object.create( Map$$1 && Map$$1.prototype );\n  OrderedMap.prototype.constructor = OrderedMap;\n\n  OrderedMap.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedMap.prototype.toString = function toString () {\n    return this.__toString('OrderedMap {', '}');\n  };\n\n  // @pragma Access\n\n  OrderedMap.prototype.get = function get (k, notSetValue) {\n    var index = this._map.get(k);\n    return index !== undefined ? this._list.get(index)[1] : notSetValue;\n  };\n\n  // @pragma Modification\n\n  OrderedMap.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._map.clear();\n      this._list.clear();\n      return this;\n    }\n    return emptyOrderedMap();\n  };\n\n  OrderedMap.prototype.set = function set (k, v) {\n    return updateOrderedMap(this, k, v);\n  };\n\n  OrderedMap.prototype.remove = function remove (k) {\n    return updateOrderedMap(this, k, NOT_SET);\n  };\n\n  OrderedMap.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered() || this._list.wasAltered();\n  };\n\n  OrderedMap.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._list.__iterate(\n      function (entry) { return entry && fn(entry[1], entry[0], this$1); },\n      reverse\n    );\n  };\n\n  OrderedMap.prototype.__iterator = function __iterator (type, reverse) {\n    return this._list.fromEntrySeq().__iterator(type, reverse);\n  };\n\n  OrderedMap.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    var newList = this._list.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyOrderedMap();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      this._list = newList;\n      return this;\n    }\n    return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n  };\n\n  return OrderedMap;\n}(Map));\n\nfunction isOrderedMap(maybeOrderedMap) {\n  return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n}\n\nOrderedMap.isOrderedMap = isOrderedMap;\n\nOrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\nOrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\nfunction makeOrderedMap(map, list, ownerID, hash) {\n  var omap = Object.create(OrderedMap.prototype);\n  omap.size = map ? map.size : 0;\n  omap._map = map;\n  omap._list = list;\n  omap.__ownerID = ownerID;\n  omap.__hash = hash;\n  return omap;\n}\n\nvar EMPTY_ORDERED_MAP;\nfunction emptyOrderedMap() {\n  return EMPTY_ORDERED_MAP ||\n    (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n}\n\nfunction updateOrderedMap(omap, k, v) {\n  var map = omap._map;\n  var list = omap._list;\n  var i = map.get(k);\n  var has = i !== undefined;\n  var newMap;\n  var newList;\n  if (v === NOT_SET) {\n    // removed\n    if (!has) {\n      return omap;\n    }\n    if (list.size >= SIZE && list.size >= map.size * 2) {\n      newList = list.filter(function (entry, idx) { return entry !== undefined && i !== idx; });\n      newMap = newList.toKeyedSeq().map(function (entry) { return entry[0]; }).flip().toMap();\n      if (omap.__ownerID) {\n        newMap.__ownerID = (newList.__ownerID = omap.__ownerID);\n      }\n    } else {\n      newMap = map.remove(k);\n      newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n    }\n  } else if (has) {\n    if (v === list.get(i)[1]) {\n      return omap;\n    }\n    newMap = map;\n    newList = list.set(i, [k, v]);\n  } else {\n    newMap = map.set(k, list.size);\n    newList = list.set(list.size, [k, v]);\n  }\n  if (omap.__ownerID) {\n    omap.size = newMap.size;\n    omap._map = newMap;\n    omap._list = newList;\n    omap.__hash = undefined;\n    return omap;\n  }\n  return makeOrderedMap(newMap, newList);\n}\n\nvar Stack = (function (IndexedCollection$$1) {\n  function Stack(value) {\n    return value === null || value === undefined\n      ? emptyStack()\n      : isStack(value) ? value : emptyStack().pushAll(value);\n  }\n\n  if ( IndexedCollection$$1 ) Stack.__proto__ = IndexedCollection$$1;\n  Stack.prototype = Object.create( IndexedCollection$$1 && IndexedCollection$$1.prototype );\n  Stack.prototype.constructor = Stack;\n\n  Stack.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Stack.prototype.toString = function toString () {\n    return this.__toString('Stack [', ']');\n  };\n\n  // @pragma Access\n\n  Stack.prototype.get = function get (index, notSetValue) {\n    var head = this._head;\n    index = wrapIndex(this, index);\n    while (head && index--) {\n      head = head.next;\n    }\n    return head ? head.value : notSetValue;\n  };\n\n  Stack.prototype.peek = function peek () {\n    return this._head && this._head.value;\n  };\n\n  // @pragma Modification\n\n  Stack.prototype.push = function push (/*...values*/) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      return this;\n    }\n    var newSize = this.size + arguments.length;\n    var head = this._head;\n    for (var ii = arguments.length - 1; ii >= 0; ii--) {\n      head = {\n        value: arguments$1[ii],\n        next: head\n      };\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pushAll = function pushAll (iter) {\n    iter = IndexedCollection$$1(iter);\n    if (iter.size === 0) {\n      return this;\n    }\n    if (this.size === 0 && isStack(iter)) {\n      return iter;\n    }\n    assertNotInfinite(iter.size);\n    var newSize = this.size;\n    var head = this._head;\n    iter.__iterate(\n      function (value) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      },\n      /* reverse */ true\n    );\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  Stack.prototype.pop = function pop () {\n    return this.slice(1);\n  };\n\n  Stack.prototype.clear = function clear () {\n    if (this.size === 0) {\n      return this;\n    }\n    if (this.__ownerID) {\n      this.size = 0;\n      this._head = undefined;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return emptyStack();\n  };\n\n  Stack.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    var resolvedBegin = resolveBegin(begin, this.size);\n    var resolvedEnd = resolveEnd(end, this.size);\n    if (resolvedEnd !== this.size) {\n      // super.slice(begin, end);\n      return IndexedCollection$$1.prototype.slice.call(this, begin, end);\n    }\n    var newSize = this.size - resolvedBegin;\n    var head = this._head;\n    while (resolvedBegin--) {\n      head = head.next;\n    }\n    if (this.__ownerID) {\n      this.size = newSize;\n      this._head = head;\n      this.__hash = undefined;\n      this.__altered = true;\n      return this;\n    }\n    return makeStack(newSize, head);\n  };\n\n  // @pragma Mutability\n\n  Stack.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptyStack();\n      }\n      this.__ownerID = ownerID;\n      this.__altered = false;\n      return this;\n    }\n    return makeStack(this.size, this._head, ownerID, this.__hash);\n  };\n\n  // @pragma Iteration\n\n  Stack.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterate(\n        function (v, k) { return fn(v, k, this$1); },\n        reverse\n      );\n    }\n    var iterations = 0;\n    var node = this._head;\n    while (node) {\n      if (fn(node.value, iterations++, this$1) === false) {\n        break;\n      }\n      node = node.next;\n    }\n    return iterations;\n  };\n\n  Stack.prototype.__iterator = function __iterator (type, reverse) {\n    if (reverse) {\n      return new ArraySeq(this.toArray()).__iterator(type, reverse);\n    }\n    var iterations = 0;\n    var node = this._head;\n    return new Iterator(function () {\n      if (node) {\n        var value = node.value;\n        node = node.next;\n        return iteratorValue(type, iterations++, value);\n      }\n      return iteratorDone();\n    });\n  };\n\n  return Stack;\n}(IndexedCollection));\n\nfunction isStack(maybeStack) {\n  return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n}\n\nStack.isStack = isStack;\n\nvar IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\nvar StackPrototype = Stack.prototype;\nStackPrototype[IS_STACK_SENTINEL] = true;\nStackPrototype.withMutations = MapPrototype.withMutations;\nStackPrototype.asMutable = MapPrototype.asMutable;\nStackPrototype.asImmutable = MapPrototype.asImmutable;\nStackPrototype.wasAltered = MapPrototype.wasAltered;\nStackPrototype.shift = StackPrototype.pop;\nStackPrototype.unshift = StackPrototype.push;\nStackPrototype.unshiftAll = StackPrototype.pushAll;\n\nfunction makeStack(size, head, ownerID, hash) {\n  var map = Object.create(StackPrototype);\n  map.size = size;\n  map._head = head;\n  map.__ownerID = ownerID;\n  map.__hash = hash;\n  map.__altered = false;\n  return map;\n}\n\nvar EMPTY_STACK;\nfunction emptyStack() {\n  return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n}\n\nfunction deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (\n    !isCollection(b) ||\n    (a.size !== undefined && b.size !== undefined && a.size !== b.size) ||\n    (a.__hash !== undefined &&\n      b.__hash !== undefined &&\n      a.__hash !== b.__hash) ||\n    isKeyed(a) !== isKeyed(b) ||\n    isIndexed(a) !== isIndexed(b) ||\n    isOrdered(a) !== isOrdered(b)\n  ) {\n    return false;\n  }\n\n  if (a.size === 0 && b.size === 0) {\n    return true;\n  }\n\n  var notAssociative = !isAssociative(a);\n\n  if (isOrdered(a)) {\n    var entries = a.entries();\n    return b.every(function (v, k) {\n      var entry = entries.next().value;\n      return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n    }) && entries.next().done;\n  }\n\n  var flipped = false;\n\n  if (a.size === undefined) {\n    if (b.size === undefined) {\n      if (typeof a.cacheResult === 'function') {\n        a.cacheResult();\n      }\n    } else {\n      flipped = true;\n      var _ = a;\n      a = b;\n      b = _;\n    }\n  }\n\n  var allEqual = true;\n  var bSize = b.__iterate(function (v, k) {\n    if (\n      notAssociative\n        ? !a.has(v)\n        : flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)\n    ) {\n      allEqual = false;\n      return false;\n    }\n  });\n\n  return allEqual && a.size === bSize;\n}\n\n/**\n * Contributes additional methods to a constructor\n */\nfunction mixin(ctor, methods) {\n  var keyCopier = function (key) {\n    ctor.prototype[key] = methods[key];\n  };\n  Object.keys(methods).forEach(keyCopier);\n  Object.getOwnPropertySymbols &&\n    Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n  return ctor;\n}\n\nvar Set = (function (SetCollection$$1) {\n  function Set(value) {\n    return value === null || value === undefined\n      ? emptySet()\n      : isSet(value) && !isOrdered(value)\n          ? value\n          : emptySet().withMutations(function (set) {\n              var iter = SetCollection$$1(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v) { return set.add(v); });\n            });\n  }\n\n  if ( SetCollection$$1 ) Set.__proto__ = SetCollection$$1;\n  Set.prototype = Object.create( SetCollection$$1 && SetCollection$$1.prototype );\n  Set.prototype.constructor = Set;\n\n  Set.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  Set.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  Set.intersect = function intersect (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.intersect.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.union = function union (sets) {\n    sets = Collection(sets).toArray();\n    return sets.length\n      ? SetPrototype.union.apply(Set(sets.pop()), sets)\n      : emptySet();\n  };\n\n  Set.prototype.toString = function toString () {\n    return this.__toString('Set {', '}');\n  };\n\n  // @pragma Access\n\n  Set.prototype.has = function has (value) {\n    return this._map.has(value);\n  };\n\n  // @pragma Modification\n\n  Set.prototype.add = function add (value) {\n    return updateSet(this, this._map.set(value, true));\n  };\n\n  Set.prototype.remove = function remove (value) {\n    return updateSet(this, this._map.remove(value));\n  };\n\n  Set.prototype.clear = function clear () {\n    return updateSet(this, this._map.clear());\n  };\n\n  // @pragma Composition\n\n  Set.prototype.union = function union () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    iters = iters.filter(function (x) { return x.size !== 0; });\n    if (iters.length === 0) {\n      return this;\n    }\n    if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n      return this.constructor(iters[0]);\n    }\n    return this.withMutations(function (set) {\n      for (var ii = 0; ii < iters.length; ii++) {\n        SetCollection$$1(iters[ii]).forEach(function (value) { return set.add(value); });\n      }\n    });\n  };\n\n  Set.prototype.intersect = function intersect () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    iters = iters.map(function (iter) { return SetCollection$$1(iter); });\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (!iters.every(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.subtract = function subtract () {\n    var iters = [], len = arguments.length;\n    while ( len-- ) iters[ len ] = arguments[ len ];\n\n    if (iters.length === 0) {\n      return this;\n    }\n    var toRemove = [];\n    this.forEach(function (value) {\n      if (iters.some(function (iter) { return iter.includes(value); })) {\n        toRemove.push(value);\n      }\n    });\n    return this.withMutations(function (set) {\n      toRemove.forEach(function (value) {\n        set.remove(value);\n      });\n    });\n  };\n\n  Set.prototype.merge = function merge () {\n    return this.union.apply(this, arguments);\n  };\n\n  Set.prototype.mergeWith = function mergeWith (merger) {\n    var iters = [], len = arguments.length - 1;\n    while ( len-- > 0 ) iters[ len ] = arguments[ len + 1 ];\n\n    return this.union.apply(this, iters);\n  };\n\n  Set.prototype.sort = function sort (comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator));\n  };\n\n  Set.prototype.sortBy = function sortBy (mapper, comparator) {\n    // Late binding\n    return OrderedSet(sortFactory(this, comparator, mapper));\n  };\n\n  Set.prototype.wasAltered = function wasAltered () {\n    return this._map.wasAltered();\n  };\n\n  Set.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    return this._map.__iterate(function (_, k) { return fn(k, k, this$1); }, reverse);\n  };\n\n  Set.prototype.__iterator = function __iterator (type, reverse) {\n    return this._map.map(function (_, k) { return k; }).__iterator(type, reverse);\n  };\n\n  Set.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n    if (ownerID === this.__ownerID) {\n      return this;\n    }\n    var newMap = this._map.__ensureOwner(ownerID);\n    if (!ownerID) {\n      if (this.size === 0) {\n        return emptySet();\n      }\n      this.__ownerID = ownerID;\n      this._map = newMap;\n      return this;\n    }\n    return this.__make(newMap, ownerID);\n  };\n\n  return Set;\n}(SetCollection));\n\nfunction isSet(maybeSet) {\n  return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n}\n\nSet.isSet = isSet;\n\nvar IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\nvar SetPrototype = Set.prototype;\nSetPrototype[IS_SET_SENTINEL] = true;\nSetPrototype[DELETE] = SetPrototype.remove;\nSetPrototype.mergeDeep = SetPrototype.merge;\nSetPrototype.mergeDeepWith = SetPrototype.mergeWith;\nSetPrototype.withMutations = MapPrototype.withMutations;\nSetPrototype.asMutable = MapPrototype.asMutable;\nSetPrototype.asImmutable = MapPrototype.asImmutable;\n\nSetPrototype.__empty = emptySet;\nSetPrototype.__make = makeSet;\n\nfunction updateSet(set, newMap) {\n  if (set.__ownerID) {\n    set.size = newMap.size;\n    set._map = newMap;\n    return set;\n  }\n  return newMap === set._map\n    ? set\n    : newMap.size === 0 ? set.__empty() : set.__make(newMap);\n}\n\nfunction makeSet(map, ownerID) {\n  var set = Object.create(SetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_SET;\nfunction emptySet() {\n  return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n}\n\n/**\n * Returns a lazy seq of nums from start (inclusive) to end\n * (exclusive), by step, where start defaults to 0, step to 1, and end to\n * infinity. When start is equal to end, returns empty list.\n */\nvar Range = (function (IndexedSeq$$1) {\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      return new Range(start, end, step);\n    }\n    invariant(step !== 0, 'Cannot step a Range by 0');\n    start = start || 0;\n    if (end === undefined) {\n      end = Infinity;\n    }\n    step = step === undefined ? 1 : Math.abs(step);\n    if (end < start) {\n      step = -step;\n    }\n    this._start = start;\n    this._end = end;\n    this._step = step;\n    this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n    if (this.size === 0) {\n      if (EMPTY_RANGE) {\n        return EMPTY_RANGE;\n      }\n      EMPTY_RANGE = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Range.__proto__ = IndexedSeq$$1;\n  Range.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Range.prototype.constructor = Range;\n\n  Range.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Range []';\n    }\n    return 'Range [ ' +\n      this._start +\n      '...' +\n      this._end +\n      (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n  };\n\n  Range.prototype.get = function get (index, notSetValue) {\n    return this.has(index)\n      ? this._start + wrapIndex(this, index) * this._step\n      : notSetValue;\n  };\n\n  Range.prototype.includes = function includes (searchValue) {\n    var possibleIndex = (searchValue - this._start) / this._step;\n    return possibleIndex >= 0 &&\n      possibleIndex < this.size &&\n      possibleIndex === Math.floor(possibleIndex);\n  };\n\n  Range.prototype.slice = function slice (begin, end) {\n    if (wholeSlice(begin, end, this.size)) {\n      return this;\n    }\n    begin = resolveBegin(begin, this.size);\n    end = resolveEnd(end, this.size);\n    if (end <= begin) {\n      return new Range(0, 0);\n    }\n    return new Range(\n      this.get(begin, this._end),\n      this.get(end, this._end),\n      this._step\n    );\n  };\n\n  Range.prototype.indexOf = function indexOf (searchValue) {\n    var offsetValue = searchValue - this._start;\n    if (offsetValue % this._step === 0) {\n      var index = offsetValue / this._step;\n      if (index >= 0 && index < this.size) {\n        return index;\n      }\n    }\n    return -1;\n  };\n\n  Range.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    return this.indexOf(searchValue);\n  };\n\n  Range.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    while (i !== size) {\n      if (fn(value, reverse ? size - ++i : i++, this$1) === false) {\n        break;\n      }\n      value += reverse ? -step : step;\n    }\n    return i;\n  };\n\n  Range.prototype.__iterator = function __iterator (type, reverse) {\n    var size = this.size;\n    var step = this._step;\n    var value = reverse ? this._start + (size - 1) * step : this._start;\n    var i = 0;\n    return new Iterator(function () {\n      if (i === size) {\n        return iteratorDone();\n      }\n      var v = value;\n      value += reverse ? -step : step;\n      return iteratorValue(type, reverse ? size - ++i : i++, v);\n    });\n  };\n\n  Range.prototype.equals = function equals (other) {\n    return other instanceof Range\n      ? this._start === other._start &&\n          this._end === other._end &&\n          this._step === other._step\n      : deepEqual(this, other);\n  };\n\n  return Range;\n}(IndexedSeq));\n\nvar EMPTY_RANGE;\n\n// Note: all of these methods are deprecated.\nCollection.isIterable = isCollection;\nCollection.isKeyed = isKeyed;\nCollection.isIndexed = isIndexed;\nCollection.isAssociative = isAssociative;\nCollection.isOrdered = isOrdered;\n\nCollection.Iterator = Iterator;\n\nmixin(Collection, {\n  // ### Conversion to other types\n\n  toArray: function toArray() {\n    assertNotInfinite(this.size);\n    var array = new Array(this.size || 0);\n    this.valueSeq().__iterate(function (v, i) {\n      array[i] = v;\n    });\n    return array;\n  },\n\n  toIndexedSeq: function toIndexedSeq() {\n    return new ToIndexedSequence(this);\n  },\n\n  toJS: function toJS$1() {\n    return this.toSeq().map(toJS).toJSON();\n  },\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, true);\n  },\n\n  toMap: function toMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return Map(this.toKeyedSeq());\n  },\n\n  toObject: function toObject() {\n    assertNotInfinite(this.size);\n    var object = {};\n    this.__iterate(function (v, k) {\n      object[k] = v;\n    });\n    return object;\n  },\n\n  toOrderedMap: function toOrderedMap() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedMap(this.toKeyedSeq());\n  },\n\n  toOrderedSet: function toOrderedSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSet: function toSet() {\n    // Use Late Binding here to solve the circular dependency.\n    return Set(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toSetSeq: function toSetSeq() {\n    return new ToSetSequence(this);\n  },\n\n  toSeq: function toSeq() {\n    return isIndexed(this)\n      ? this.toIndexedSeq()\n      : isKeyed(this) ? this.toKeyedSeq() : this.toSetSeq();\n  },\n\n  toStack: function toStack() {\n    // Use Late Binding here to solve the circular dependency.\n    return Stack(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  toList: function toList() {\n    // Use Late Binding here to solve the circular dependency.\n    return List(isKeyed(this) ? this.valueSeq() : this);\n  },\n\n  // ### Common JavaScript methods and properties\n\n  toString: function toString() {\n    return '[Collection]';\n  },\n\n  __toString: function __toString(head, tail) {\n    if (this.size === 0) {\n      return head + tail;\n    }\n    return head +\n      ' ' +\n      this.toSeq().map(this.__toStringMapper).join(', ') +\n      ' ' +\n      tail;\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  concat: function concat() {\n    var values = [], len = arguments.length;\n    while ( len-- ) values[ len ] = arguments[ len ];\n\n    return reify(this, concatFactory(this, values));\n  },\n\n  includes: function includes(searchValue) {\n    return this.some(function (value) { return is(value, searchValue); });\n  },\n\n  entries: function entries() {\n    return this.__iterator(ITERATE_ENTRIES);\n  },\n\n  every: function every(predicate, context) {\n    assertNotInfinite(this.size);\n    var returnValue = true;\n    this.__iterate(function (v, k, c) {\n      if (!predicate.call(context, v, k, c)) {\n        returnValue = false;\n        return false;\n      }\n    });\n    return returnValue;\n  },\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, true));\n  },\n\n  find: function find(predicate, context, notSetValue) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[1] : notSetValue;\n  },\n\n  forEach: function forEach(sideEffect, context) {\n    assertNotInfinite(this.size);\n    return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n  },\n\n  join: function join(separator) {\n    assertNotInfinite(this.size);\n    separator = separator !== undefined ? '' + separator : ',';\n    var joined = '';\n    var isFirst = true;\n    this.__iterate(function (v) {\n      isFirst ? (isFirst = false) : (joined += separator);\n      joined += v !== null && v !== undefined ? v.toString() : '';\n    });\n    return joined;\n  },\n\n  keys: function keys() {\n    return this.__iterator(ITERATE_KEYS);\n  },\n\n  map: function map(mapper, context) {\n    return reify(this, mapFactory(this, mapper, context));\n  },\n\n  reduce: function reduce$1(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      false\n    );\n  },\n\n  reduceRight: function reduceRight(reducer, initialReduction, context) {\n    return reduce(\n      this,\n      reducer,\n      initialReduction,\n      context,\n      arguments.length < 2,\n      true\n    );\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, true));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, true));\n  },\n\n  some: function some(predicate, context) {\n    return !this.every(not(predicate), context);\n  },\n\n  sort: function sort(comparator) {\n    return reify(this, sortFactory(this, comparator));\n  },\n\n  values: function values() {\n    return this.__iterator(ITERATE_VALUES);\n  },\n\n  // ### More sequential methods\n\n  butLast: function butLast() {\n    return this.slice(0, -1);\n  },\n\n  isEmpty: function isEmpty() {\n    return this.size !== undefined ? this.size === 0 : !this.some(function () { return true; });\n  },\n\n  count: function count(predicate, context) {\n    return ensureSize(\n      predicate ? this.toSeq().filter(predicate, context) : this\n    );\n  },\n\n  countBy: function countBy(grouper, context) {\n    return countByFactory(this, grouper, context);\n  },\n\n  equals: function equals(other) {\n    return deepEqual(this, other);\n  },\n\n  entrySeq: function entrySeq() {\n    var collection = this;\n    if (collection._cache) {\n      // We cache as an entries array, so we can just return the cache!\n      return new ArraySeq(collection._cache);\n    }\n    var entriesSequence = collection.toSeq().map(entryMapper).toIndexedSeq();\n    entriesSequence.fromEntrySeq = function () { return collection.toSeq(); };\n\n    // Entries are plain Array, which do not define toJS, so it must\n    // manually converts keys and values before conversion.\n    entriesSequence.toJS = function() {\n      return this.map(function (entry) { return [toJS(entry[0]), toJS(entry[1])]; }).toJSON();\n    };\n\n    return entriesSequence;\n  },\n\n  filterNot: function filterNot(predicate, context) {\n    return this.filter(not(predicate), context);\n  },\n\n  findEntry: function findEntry(predicate, context, notSetValue) {\n    var found = notSetValue;\n    this.__iterate(function (v, k, c) {\n      if (predicate.call(context, v, k, c)) {\n        found = [k, v];\n        return false;\n      }\n    });\n    return found;\n  },\n\n  findKey: function findKey(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry && entry[0];\n  },\n\n  findLast: function findLast(predicate, context, notSetValue) {\n    return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n  },\n\n  findLastEntry: function findLastEntry(predicate, context, notSetValue) {\n    return this.toKeyedSeq()\n      .reverse()\n      .findEntry(predicate, context, notSetValue);\n  },\n\n  findLastKey: function findLastKey(predicate, context) {\n    return this.toKeyedSeq().reverse().findKey(predicate, context);\n  },\n\n  first: function first() {\n    return this.find(returnTrue);\n  },\n\n  flatMap: function flatMap(mapper, context) {\n    return reify(this, flatMapFactory(this, mapper, context));\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, true));\n  },\n\n  fromEntrySeq: function fromEntrySeq() {\n    return new FromEntriesSequence(this);\n  },\n\n  get: function get(searchKey, notSetValue) {\n    return this.find(function (_, key) { return is(key, searchKey); }, undefined, notSetValue);\n  },\n\n  getIn: function getIn(searchKeyPath, notSetValue) {\n    var nested = this;\n    var keyPath = coerceKeyPath(searchKeyPath);\n    var i = 0;\n    while (i !== keyPath.length) {\n      if (!nested || !nested.get) {\n        throw new TypeError(\n          'Invalid keyPath: Value at [' +\n            keyPath.slice(0, i).map(quoteString) +\n            '] does not have a .get() method: ' +\n            nested\n        );\n      }\n      nested = nested.get(keyPath[i++], NOT_SET);\n      if (nested === NOT_SET) {\n        return notSetValue;\n      }\n    }\n    return nested;\n    // var step;\n    // while (!(step = iter.next()).done) {\n    //   var key = step.value;\n    //   nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n    //   if (nested === NOT_SET) {\n    //     return notSetValue;\n    //   }\n    // }\n    // return nested;\n  },\n\n  groupBy: function groupBy(grouper, context) {\n    return groupByFactory(this, grouper, context);\n  },\n\n  has: function has(searchKey) {\n    return this.get(searchKey, NOT_SET) !== NOT_SET;\n  },\n\n  hasIn: function hasIn(searchKeyPath) {\n    return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n  },\n\n  isSubset: function isSubset(iter) {\n    iter = typeof iter.includes === 'function' ? iter : Collection(iter);\n    return this.every(function (value) { return iter.includes(value); });\n  },\n\n  isSuperset: function isSuperset(iter) {\n    iter = typeof iter.isSubset === 'function' ? iter : Collection(iter);\n    return iter.isSubset(this);\n  },\n\n  keyOf: function keyOf(searchValue) {\n    return this.findKey(function (value) { return is(value, searchValue); });\n  },\n\n  keySeq: function keySeq() {\n    return this.toSeq().map(keyMapper).toIndexedSeq();\n  },\n\n  last: function last() {\n    return this.toSeq().reverse().first();\n  },\n\n  lastKeyOf: function lastKeyOf(searchValue) {\n    return this.toKeyedSeq().reverse().keyOf(searchValue);\n  },\n\n  max: function max(comparator) {\n    return maxFactory(this, comparator);\n  },\n\n  maxBy: function maxBy(mapper, comparator) {\n    return maxFactory(this, comparator, mapper);\n  },\n\n  min: function min(comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator\n    );\n  },\n\n  minBy: function minBy(mapper, comparator) {\n    return maxFactory(\n      this,\n      comparator ? neg(comparator) : defaultNegComparator,\n      mapper\n    );\n  },\n\n  rest: function rest() {\n    return this.slice(1);\n  },\n\n  skip: function skip(amount) {\n    return amount === 0 ? this : this.slice(Math.max(0, amount));\n  },\n\n  skipLast: function skipLast(amount) {\n    return amount === 0 ? this : this.slice(0, -Math.max(0, amount));\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, true));\n  },\n\n  skipUntil: function skipUntil(predicate, context) {\n    return this.skipWhile(not(predicate), context);\n  },\n\n  sortBy: function sortBy(mapper, comparator) {\n    return reify(this, sortFactory(this, comparator, mapper));\n  },\n\n  take: function take(amount) {\n    return this.slice(0, Math.max(0, amount));\n  },\n\n  takeLast: function takeLast(amount) {\n    return this.slice(-Math.max(0, amount));\n  },\n\n  takeWhile: function takeWhile(predicate, context) {\n    return reify(this, takeWhileFactory(this, predicate, context));\n  },\n\n  takeUntil: function takeUntil(predicate, context) {\n    return this.takeWhile(not(predicate), context);\n  },\n\n  update: function update(fn) {\n    return fn(this);\n  },\n\n  valueSeq: function valueSeq() {\n    return this.toIndexedSeq();\n  },\n\n  // ### Hashable Object\n\n  hashCode: function hashCode() {\n    return this.__hash || (this.__hash = hashCollection(this));\n  }\n\n  // ### Internal\n\n  // abstract __iterate(fn, reverse)\n\n  // abstract __iterator(type, reverse)\n});\n\nvar CollectionPrototype = Collection.prototype;\nCollectionPrototype[IS_ITERABLE_SENTINEL] = true;\nCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.values;\nCollectionPrototype.toJSON = CollectionPrototype.toArray;\nCollectionPrototype.__toStringMapper = quoteString;\nCollectionPrototype.inspect = (CollectionPrototype.toSource = function() {\n  return this.toString();\n});\nCollectionPrototype.chain = CollectionPrototype.flatMap;\nCollectionPrototype.contains = CollectionPrototype.includes;\n\nmixin(KeyedCollection, {\n  // ### More sequential methods\n\n  flip: function flip() {\n    return reify(this, flipFactory(this));\n  },\n\n  mapEntries: function mapEntries(mapper, context) {\n    var this$1 = this;\n\n    var iterations = 0;\n    return reify(\n      this,\n      this.toSeq()\n        .map(function (v, k) { return mapper.call(context, [k, v], iterations++, this$1); })\n        .fromEntrySeq()\n    );\n  },\n\n  mapKeys: function mapKeys(mapper, context) {\n    var this$1 = this;\n\n    return reify(\n      this,\n      this.toSeq().flip().map(function (k, v) { return mapper.call(context, k, v, this$1); }).flip()\n    );\n  }\n});\n\nvar KeyedCollectionPrototype = KeyedCollection.prototype;\nKeyedCollectionPrototype[IS_KEYED_SENTINEL] = true;\nKeyedCollectionPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nKeyedCollectionPrototype.toJSON = CollectionPrototype.toObject;\nKeyedCollectionPrototype.__toStringMapper = function (v, k) { return quoteString(k) + ': ' + quoteString(v); };\n\nmixin(IndexedCollection, {\n  // ### Conversion to other types\n\n  toKeyedSeq: function toKeyedSeq() {\n    return new ToKeyedSequence(this, false);\n  },\n\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  filter: function filter(predicate, context) {\n    return reify(this, filterFactory(this, predicate, context, false));\n  },\n\n  findIndex: function findIndex(predicate, context) {\n    var entry = this.findEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  indexOf: function indexOf(searchValue) {\n    var key = this.keyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  lastIndexOf: function lastIndexOf(searchValue) {\n    var key = this.lastKeyOf(searchValue);\n    return key === undefined ? -1 : key;\n  },\n\n  reverse: function reverse() {\n    return reify(this, reverseFactory(this, false));\n  },\n\n  slice: function slice(begin, end) {\n    return reify(this, sliceFactory(this, begin, end, false));\n  },\n\n  splice: function splice(index, removeNum /*, ...values*/) {\n    var numArgs = arguments.length;\n    removeNum = Math.max(removeNum || 0, 0);\n    if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n      return this;\n    }\n    // If index is negative, it should resolve relative to the size of the\n    // collection. However size may be expensive to compute if not cached, so\n    // only call count() if the number is in fact negative.\n    index = resolveBegin(index, index < 0 ? this.count() : this.size);\n    var spliced = this.slice(0, index);\n    return reify(\n      this,\n      numArgs === 1\n        ? spliced\n        : spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n    );\n  },\n\n  // ### More collection methods\n\n  findLastIndex: function findLastIndex(predicate, context) {\n    var entry = this.findLastEntry(predicate, context);\n    return entry ? entry[0] : -1;\n  },\n\n  first: function first() {\n    return this.get(0);\n  },\n\n  flatten: function flatten(depth) {\n    return reify(this, flattenFactory(this, depth, false));\n  },\n\n  get: function get(index, notSetValue) {\n    index = wrapIndex(this, index);\n    return index < 0 ||\n      (this.size === Infinity || (this.size !== undefined && index > this.size))\n      ? notSetValue\n      : this.find(function (_, key) { return key === index; }, undefined, notSetValue);\n  },\n\n  has: function has(index) {\n    index = wrapIndex(this, index);\n    return index >= 0 &&\n      (this.size !== undefined\n        ? this.size === Infinity || index < this.size\n        : this.indexOf(index) !== -1);\n  },\n\n  interpose: function interpose(separator) {\n    return reify(this, interposeFactory(this, separator));\n  },\n\n  interleave: function interleave(/*...collections*/) {\n    var collections = [this].concat(arrCopy(arguments));\n    var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, collections);\n    var interleaved = zipped.flatten(true);\n    if (zipped.size) {\n      interleaved.size = zipped.size * collections.length;\n    }\n    return reify(this, interleaved);\n  },\n\n  keySeq: function keySeq() {\n    return Range(0, this.size);\n  },\n\n  last: function last() {\n    return this.get(-1);\n  },\n\n  skipWhile: function skipWhile(predicate, context) {\n    return reify(this, skipWhileFactory(this, predicate, context, false));\n  },\n\n  zip: function zip(/*, ...collections */) {\n    var collections = [this].concat(arrCopy(arguments));\n    return reify(this, zipWithFactory(this, defaultZipper, collections));\n  },\n\n  zipWith: function zipWith(zipper /*, ...collections */) {\n    var collections = arrCopy(arguments);\n    collections[0] = this;\n    return reify(this, zipWithFactory(this, zipper, collections));\n  }\n});\n\nvar IndexedCollectionPrototype = IndexedCollection.prototype;\nIndexedCollectionPrototype[IS_INDEXED_SENTINEL] = true;\nIndexedCollectionPrototype[IS_ORDERED_SENTINEL] = true;\n\nmixin(SetCollection, {\n  // ### ES6 Collection methods (ES6 Array and Map)\n\n  get: function get(value, notSetValue) {\n    return this.has(value) ? value : notSetValue;\n  },\n\n  includes: function includes(value) {\n    return this.has(value);\n  },\n\n  // ### More sequential methods\n\n  keySeq: function keySeq() {\n    return this.valueSeq();\n  }\n});\n\nSetCollection.prototype.has = CollectionPrototype.includes;\nSetCollection.prototype.contains = SetCollection.prototype.includes;\n\n// Mixin subclasses\n\nmixin(KeyedSeq, KeyedCollection.prototype);\nmixin(IndexedSeq, IndexedCollection.prototype);\nmixin(SetSeq, SetCollection.prototype);\n\n// #pragma Helper functions\n\nfunction reduce(collection, reducer, reduction, context, useFirst, reverse) {\n  assertNotInfinite(collection.size);\n  collection.__iterate(\n    function (v, k, c) {\n      if (useFirst) {\n        useFirst = false;\n        reduction = v;\n      } else {\n        reduction = reducer.call(context, reduction, v, k, c);\n      }\n    },\n    reverse\n  );\n  return reduction;\n}\n\nfunction keyMapper(v, k) {\n  return k;\n}\n\nfunction entryMapper(v, k) {\n  return [k, v];\n}\n\nfunction toJS(value) {\n  return value && typeof value.toJS === 'function' ? value.toJS() : value;\n}\n\nfunction not(predicate) {\n  return function() {\n    return !predicate.apply(this, arguments);\n  };\n}\n\nfunction neg(predicate) {\n  return function() {\n    return -predicate.apply(this, arguments);\n  };\n}\n\nfunction defaultZipper() {\n  return arrCopy(arguments);\n}\n\nfunction defaultNegComparator(a, b) {\n  return a < b ? 1 : a > b ? -1 : 0;\n}\n\nfunction hashCollection(collection) {\n  if (collection.size === Infinity) {\n    return 0;\n  }\n  var ordered = isOrdered(collection);\n  var keyed = isKeyed(collection);\n  var h = ordered ? 1 : 0;\n  var size = collection.__iterate(\n    keyed\n      ? ordered\n          ? function (v, k) {\n              h = 31 * h + hashMerge(hash(v), hash(k)) | 0;\n            }\n          : function (v, k) {\n              h = h + hashMerge(hash(v), hash(k)) | 0;\n            }\n      : ordered\n          ? function (v) {\n              h = 31 * h + hash(v) | 0;\n            }\n          : function (v) {\n              h = h + hash(v) | 0;\n            }\n  );\n  return murmurHashOfSize(size, h);\n}\n\nfunction murmurHashOfSize(size, h) {\n  h = imul(h, 0xcc9e2d51);\n  h = imul(h << 15 | h >>> -15, 0x1b873593);\n  h = imul(h << 13 | h >>> -13, 5);\n  h = (h + 0xe6546b64 | 0) ^ size;\n  h = imul(h ^ h >>> 16, 0x85ebca6b);\n  h = imul(h ^ h >>> 13, 0xc2b2ae35);\n  h = smi(h ^ h >>> 16);\n  return h;\n}\n\nfunction hashMerge(a, b) {\n  return a ^ b + 0x9e3779b9 + (a << 6) + (a >> 2) | 0; // int\n}\n\nvar OrderedSet = (function (Set$$1) {\n  function OrderedSet(value) {\n    return value === null || value === undefined\n      ? emptyOrderedSet()\n      : isOrderedSet(value)\n          ? value\n          : emptyOrderedSet().withMutations(function (set) {\n              var iter = SetCollection(value);\n              assertNotInfinite(iter.size);\n              iter.forEach(function (v) { return set.add(v); });\n            });\n  }\n\n  if ( Set$$1 ) OrderedSet.__proto__ = Set$$1;\n  OrderedSet.prototype = Object.create( Set$$1 && Set$$1.prototype );\n  OrderedSet.prototype.constructor = OrderedSet;\n\n  OrderedSet.of = function of (/*...values*/) {\n    return this(arguments);\n  };\n\n  OrderedSet.fromKeys = function fromKeys (value) {\n    return this(KeyedCollection(value).keySeq());\n  };\n\n  OrderedSet.prototype.toString = function toString () {\n    return this.__toString('OrderedSet {', '}');\n  };\n\n  return OrderedSet;\n}(Set));\n\nfunction isOrderedSet(maybeOrderedSet) {\n  return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n}\n\nOrderedSet.isOrderedSet = isOrderedSet;\n\nvar OrderedSetPrototype = OrderedSet.prototype;\nOrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\nOrderedSetPrototype.zip = IndexedCollectionPrototype.zip;\nOrderedSetPrototype.zipWith = IndexedCollectionPrototype.zipWith;\n\nOrderedSetPrototype.__empty = emptyOrderedSet;\nOrderedSetPrototype.__make = makeOrderedSet;\n\nfunction makeOrderedSet(map, ownerID) {\n  var set = Object.create(OrderedSetPrototype);\n  set.size = map ? map.size : 0;\n  set._map = map;\n  set.__ownerID = ownerID;\n  return set;\n}\n\nvar EMPTY_ORDERED_SET;\nfunction emptyOrderedSet() {\n  return EMPTY_ORDERED_SET ||\n    (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n}\n\nvar Record = function Record(defaultValues, name) {\n  var hasInitialized;\n\n  var RecordType = function Record(values) {\n    var this$1 = this;\n\n    if (values instanceof RecordType) {\n      return values;\n    }\n    if (!(this instanceof RecordType)) {\n      return new RecordType(values);\n    }\n    if (!hasInitialized) {\n      hasInitialized = true;\n      var keys = Object.keys(defaultValues);\n      var indices = (RecordTypePrototype._indices = {});\n      RecordTypePrototype._name = name;\n      RecordTypePrototype._keys = keys;\n      RecordTypePrototype._defaultValues = defaultValues;\n      for (var i = 0; i < keys.length; i++) {\n        var propName = keys[i];\n        indices[propName] = i;\n        if (RecordTypePrototype[propName]) {\n          /* eslint-disable no-console */\n          typeof console === 'object' &&\n            console.warn &&\n            console.warn(\n              'Cannot define ' +\n                recordName(this$1) +\n                ' with property \"' +\n                propName +\n                '\" since that property name is part of the Record API.'\n            );\n          /* eslint-enable no-console */\n        } else {\n          setProp(RecordTypePrototype, propName);\n        }\n      }\n    }\n    this.__ownerID = undefined;\n    this._values = List().withMutations(function (l) {\n      l.setSize(this$1._keys.length);\n      KeyedCollection(values).forEach(function (v, k) {\n        l.set(this$1._indices[k], v === this$1._defaultValues[k] ? undefined : v);\n      });\n    });\n  };\n\n  var RecordTypePrototype = (RecordType.prototype = Object.create(\n    RecordPrototype\n  ));\n  RecordTypePrototype.constructor = RecordType;\n\n  return RecordType;\n};\n\nRecord.prototype.toString = function toString () {\n    var this$1 = this;\n\n  var str = recordName(this) + ' { ';\n  var keys = this._keys;\n  var k;\n  for (var i = 0, l = keys.length; i !== l; i++) {\n    k = keys[i];\n    str += (i ? ', ' : '') + k + ': ' + quoteString(this$1.get(k));\n  }\n  return str + ' }';\n};\n\nRecord.prototype.equals = function equals (other) {\n  return this === other ||\n    (this._keys === other._keys && recordSeq(this).equals(recordSeq(other)));\n};\n\nRecord.prototype.hashCode = function hashCode () {\n  return recordSeq(this).hashCode();\n};\n\n// @pragma Access\n\nRecord.prototype.has = function has (k) {\n  return this._indices.hasOwnProperty(k);\n};\n\nRecord.prototype.get = function get (k, notSetValue) {\n  if (!this.has(k)) {\n    return notSetValue;\n  }\n  var index = this._indices[k];\n  var value = this._values.get(index);\n  return value === undefined ? this._defaultValues[k] : value;\n};\n\n// @pragma Modification\n\nRecord.prototype.set = function set (k, v) {\n  if (this.has(k)) {\n    var newValues = this._values.set(\n      this._indices[k],\n      v === this._defaultValues[k] ? undefined : v\n    );\n    if (newValues !== this._values && !this.__ownerID) {\n      return makeRecord(this, newValues);\n    }\n  }\n  return this;\n};\n\nRecord.prototype.remove = function remove (k) {\n  return this.set(k);\n};\n\nRecord.prototype.clear = function clear () {\n  var newValues = this._values.clear().setSize(this._keys.length);\n  return this.__ownerID ? this : makeRecord(this, newValues);\n};\n\nRecord.prototype.wasAltered = function wasAltered () {\n  return this._values.wasAltered();\n};\n\nRecord.prototype.toSeq = function toSeq () {\n  return recordSeq(this);\n};\n\nRecord.prototype.toJS = function toJS () {\n  return recordSeq(this).toJS();\n};\n\nRecord.prototype.__iterator = function __iterator (type, reverse) {\n  return recordSeq(this).__iterator(type, reverse);\n};\n\nRecord.prototype.__iterate = function __iterate (fn, reverse) {\n  return recordSeq(this).__iterate(fn, reverse);\n};\n\nRecord.prototype.__ensureOwner = function __ensureOwner (ownerID) {\n  if (ownerID === this.__ownerID) {\n    return this;\n  }\n  var newValues = this._values.__ensureOwner(ownerID);\n  if (!ownerID) {\n    this.__ownerID = ownerID;\n    this._values = newValues;\n    return this;\n  }\n  return makeRecord(this, newValues, ownerID);\n};\n\nRecord.isRecord = isRecord;\nRecord.getDescriptiveName = recordName;\nvar RecordPrototype = Record.prototype;\nRecordPrototype[IS_RECORD_SENTINEL] = true;\nRecordPrototype[DELETE] = RecordPrototype.remove;\nRecordPrototype.getIn = CollectionPrototype.getIn;\nRecordPrototype.hasIn = CollectionPrototype.hasIn;\nRecordPrototype.merge = MapPrototype.merge;\nRecordPrototype.mergeWith = MapPrototype.mergeWith;\nRecordPrototype.mergeIn = MapPrototype.mergeIn;\nRecordPrototype.mergeDeep = MapPrototype.mergeDeep;\nRecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\nRecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\nRecordPrototype.setIn = MapPrototype.setIn;\nRecordPrototype.update = MapPrototype.update;\nRecordPrototype.updateIn = MapPrototype.updateIn;\nRecordPrototype.withMutations = MapPrototype.withMutations;\nRecordPrototype.asMutable = MapPrototype.asMutable;\nRecordPrototype.asImmutable = MapPrototype.asImmutable;\nRecordPrototype[ITERATOR_SYMBOL] = CollectionPrototype.entries;\nRecordPrototype.toJSON = (RecordPrototype.toObject = CollectionPrototype.toObject);\nRecordPrototype.inspect = (RecordPrototype.toSource = CollectionPrototype.toSource);\n\nfunction makeRecord(likeRecord, values, ownerID) {\n  var record = Object.create(Object.getPrototypeOf(likeRecord));\n  record._values = values;\n  record.__ownerID = ownerID;\n  return record;\n}\n\nfunction recordName(record) {\n  return record._name || record.constructor.name || 'Record';\n}\n\nfunction recordSeq(record) {\n  return keyedSeqFromValue(record._keys.map(function (k) { return [k, record.get(k)]; }));\n}\n\nfunction setProp(prototype, name) {\n  try {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  } catch (error) {\n    // Object.defineProperty failed. Probably IE8.\n  }\n}\n\n/**\n * Returns a lazy Seq of `value` repeated `times` times. When `times` is\n * undefined, returns an infinite sequence of `value`.\n */\nvar Repeat = (function (IndexedSeq$$1) {\n  function Repeat(value, times) {\n    if (!(this instanceof Repeat)) {\n      return new Repeat(value, times);\n    }\n    this._value = value;\n    this.size = times === undefined ? Infinity : Math.max(0, times);\n    if (this.size === 0) {\n      if (EMPTY_REPEAT) {\n        return EMPTY_REPEAT;\n      }\n      EMPTY_REPEAT = this;\n    }\n  }\n\n  if ( IndexedSeq$$1 ) Repeat.__proto__ = IndexedSeq$$1;\n  Repeat.prototype = Object.create( IndexedSeq$$1 && IndexedSeq$$1.prototype );\n  Repeat.prototype.constructor = Repeat;\n\n  Repeat.prototype.toString = function toString () {\n    if (this.size === 0) {\n      return 'Repeat []';\n    }\n    return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n  };\n\n  Repeat.prototype.get = function get (index, notSetValue) {\n    return this.has(index) ? this._value : notSetValue;\n  };\n\n  Repeat.prototype.includes = function includes (searchValue) {\n    return is(this._value, searchValue);\n  };\n\n  Repeat.prototype.slice = function slice (begin, end) {\n    var size = this.size;\n    return wholeSlice(begin, end, size)\n      ? this\n      : new Repeat(\n          this._value,\n          resolveEnd(end, size) - resolveBegin(begin, size)\n        );\n  };\n\n  Repeat.prototype.reverse = function reverse () {\n    return this;\n  };\n\n  Repeat.prototype.indexOf = function indexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return 0;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.lastIndexOf = function lastIndexOf (searchValue) {\n    if (is(this._value, searchValue)) {\n      return this.size;\n    }\n    return -1;\n  };\n\n  Repeat.prototype.__iterate = function __iterate (fn, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    while (i !== size) {\n      if (fn(this$1._value, reverse ? size - ++i : i++, this$1) === false) {\n        break;\n      }\n    }\n    return i;\n  };\n\n  Repeat.prototype.__iterator = function __iterator (type, reverse) {\n    var this$1 = this;\n\n    var size = this.size;\n    var i = 0;\n    return new Iterator(\n      function () { return i === size\n          ? iteratorDone()\n          : iteratorValue(type, reverse ? size - ++i : i++, this$1._value); }\n    );\n  };\n\n  Repeat.prototype.equals = function equals (other) {\n    return other instanceof Repeat\n      ? is(this._value, other._value)\n      : deepEqual(other);\n  };\n\n  return Repeat;\n}(IndexedSeq));\n\nvar EMPTY_REPEAT;\n\nvar Immutable = {\n  Collection: Collection,\n  // Note: Iterable is deprecated\n  Iterable: Collection,\n\n  Seq: Seq,\n  Map: Map,\n  OrderedMap: OrderedMap,\n  List: List,\n  Stack: Stack,\n  Set: Set,\n  OrderedSet: OrderedSet,\n\n  Record: Record,\n  Range: Range,\n  Repeat: Repeat,\n\n  is: is,\n  fromJS: fromJS,\n  hash: hash,\n\n  isImmutable: isImmutable,\n  isCollection: isCollection,\n  isKeyed: isKeyed,\n  isIndexed: isIndexed,\n  isAssociative: isAssociative,\n  isOrdered: isOrdered,\n  isValueObject: isValueObject\n};\n\n// Note: Iterable is deprecated\nvar Iterable = Collection;\n\nexports['default'] = Immutable;\nexports.Collection = Collection;\nexports.Iterable = Iterable;\nexports.Seq = Seq;\nexports.Map = Map;\nexports.OrderedMap = OrderedMap;\nexports.List = List;\nexports.Stack = Stack;\nexports.Set = Set;\nexports.OrderedSet = OrderedSet;\nexports.Record = Record;\nexports.Range = Range;\nexports.Repeat = Repeat;\nexports.is = is;\nexports.fromJS = fromJS;\nexports.hash = hash;\nexports.isImmutable = isImmutable;\nexports.isCollection = isCollection;\nexports.isKeyed = isKeyed;\nexports.isIndexed = isIndexed;\nexports.isAssociative = isAssociative;\nexports.isOrdered = isOrdered;\nexports.isValueObject = isValueObject;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","import {\n    Dangle,\n    Direction,\n    Edge,\n    EdgeOperation,\n    Face,\n    faces,\n    Matrix2,\n    make_matrix2,\n    Partition,\n    Point2,\n } from './datatypes';\n\nimport {is, List, Map, Set} from 'immutable';\n\nlet face_vertices = Map<Face, Matrix2>([\n    [Face.t, make_matrix2([\n        [0,  1,  2 ],\n        [9,  25, 15],\n        [16, 24, 22]])],\n    [Face.b, make_matrix2([\n        [20, 19, 18],\n        [13, 12, 11],\n        [8,  7,  6 ]])],\n    [Face.n, make_matrix2([\n        [2,  1,  0 ],\n        [5,  4,  3 ],\n        [8,  7,  6 ]])],\n    [Face.e, make_matrix2([\n        [22, 15, 2 ],\n        [21, 14, 5 ],\n        [20, 13, 8 ]])],\n    [Face.s, make_matrix2([\n        [16, 24, 22],\n        [17, 23, 21],\n        [18, 19, 20]])],\n    [Face.w, make_matrix2([\n        [0,  9,  16],\n        [3,  10, 17],\n        [6,  11, 18]])]\n]);\n\nlet face_quadrants = Map<Face, Matrix2>([\n    [Face.t, make_matrix2([\n        [0,  1 ],\n        [2,  3 ]])],\n    [Face.b, make_matrix2([\n        [4,  5 ],\n        [6,  7 ]])],\n    [Face.n, make_matrix2([\n        [8,  9 ],\n        [10, 11]])],\n    [Face.e, make_matrix2([\n        [12, 13],\n        [14, 15]])],\n    [Face.s, make_matrix2([\n        [16, 17],\n        [18, 19]])],\n    [Face.w, make_matrix2([\n        [20, 21],\n        [22, 23]])],\n]);\n\nfunction build_edge_quadrant_mappings(): [Map<number, List<Edge>>, Map<Edge, List<number>>] {\n    let quadrant_2_edges = Map<number, List<Edge>>();\n    let edge_2_quadrants = Map<Edge, List<number>>();\n\n    for (let f of faces){\n        let vs = face_vertices.get(f);\n        let qs = face_quadrants.get(f);\n        for (let [x, y] of [[0,0], [1,0], [0,1], [1,1]]){\n            let q_edges = get_quadrant_edges(vs, x, y);\n            quadrant_2_edges = quadrant_2_edges.set(qs.get(x, y), q_edges);\n            q_edges.forEach(function (qe) {\n                let q = qs.get(x, y);\n                if (edge_2_quadrants.has(qe)) {\n                    edge_2_quadrants = edge_2_quadrants.update(qe, (xs) => xs.push(q));\n                } else {\n                    edge_2_quadrants = edge_2_quadrants.set(qe, List<number>([q]));\n                }\n            });\n        }\n    }\n\n    return [quadrant_2_edges, edge_2_quadrants];\n}\n\nfunction get_quadrant_edges(m: Matrix2, x: number, y: number): List<Edge> {\n    let offsets = [\n        [0,0,0,1],\n        [0,0,1,0],\n        [1,1,0,1],\n        [1,1,1,0]\n    ];\n    let edges = List<Edge>();\n    for (let [x1, y1, x2, y2] of offsets){\n        let e1 = m.get(x+x1, y+y1);\n        let e2 = m.get(x+x2, y+y2);\n        if (e2 < e1){\n            edges = edges.push(new Edge(e2, e1));\n        } else {\n            edges = edges.push(new Edge(e1, e2));\n        }\n    }\n    return edges;\n}\n\nexport let [quadrant_2_edges, edge_2_quadrants] = build_edge_quadrant_mappings();\n\nfunction get_quadrant_partition(quadrant: number, cut_edges: List<Edge>) {\n    let current_partition = Set<number>([quadrant]).asMutable();\n    let horizon = List<Edge>(quadrant_2_edges.get(quadrant)).asMutable();\n\n    while (horizon.size > 0){\n        let e = horizon.first(); horizon = horizon.shift();\n        if (cut_edges.contains(e)){\n            continue;\n        }\n        let next_qs = Set<number>(edge_2_quadrants.get(e));\n        let new_qs = next_qs.subtract(current_partition);\n        if (new_qs.size > 0) {\n            new_qs.forEach(function (q){\n                horizon.push(...quadrant_2_edges.get(q).toArray());\n                current_partition.add(q);\n            });\n        }\n    }\n    return current_partition.asImmutable();\n}\n\nfunction range(x: number){\n    let arr: number[] = [];\n    for (let i = 0; i < x; i++){\n         arr.push(i);\n    } \n    return arr;\n}\n\nfunction get_partitions(cut_edges: List<Edge>){\n    let partitions = List<Partition>().asMutable();\n    let quadrants = Set<number>(range(24)).asMutable();\n    while (quadrants.size > 0){\n        let q = quadrants.first(); quadrants.remove(q);\n        let partition = get_quadrant_partition(q, cut_edges);\n        partitions.push(partition);\n        quadrants.subtract(partition);\n    }\n    return partitions.asImmutable();\n}\n\nexport class FaceMesh {\n    readonly vertices: Matrix2;\n    readonly quadrants: Matrix2;\n\n    constructor(vertices: Matrix2, quadrants: Matrix2){\n        this.vertices = vertices;\n        this.quadrants = quadrants;\n    }\n\n    rotate(degrees: number) {\n        return new FaceMesh(this.vertices.rotate(degrees), this.quadrants.rotate(degrees));\n    }\n}\n\ninterface BoxMeshParams {\n    dimensions?: [number, number, number],\n    face_meshes?: Map<Face, FaceMesh>,\n    cut_edges?: List<Edge>\n}\n\nexport class BoxMesh{\n    readonly dimensions: [number, number, number];\n    readonly face_meshes: Map<Face, FaceMesh>;\n    readonly cut_edges: List<Edge>;\n\n    constructor({dimensions, face_meshes, cut_edges}: BoxMeshParams){\n        this.dimensions = dimensions;\n        \n        if (face_meshes === undefined) {\n            face_meshes = Map<Face, FaceMesh>();\n            for (let f of faces){\n                face_meshes = face_meshes.set(f,\n                    new FaceMesh(face_vertices.get(f), face_quadrants.get(f)));\n            }\n        }\n        this.face_meshes = face_meshes;\n\n        if (cut_edges === undefined){\n            cut_edges = List<Edge>();\n        }\n        this.cut_edges = cut_edges;\n    }\n\n    update({dimensions, face_meshes, cut_edges}: BoxMeshParams){\n        if (dimensions === undefined){\n            dimensions = this.dimensions;\n        }\n\n        if (face_meshes === undefined){\n            face_meshes = this.face_meshes;\n        }\n\n        if (cut_edges === undefined){\n            cut_edges = this.cut_edges;\n        }\n        return new BoxMesh({dimensions, face_meshes, cut_edges});\n    }\n\n    cut(face: Face, start: Point2, end: Point2){\n        return this.cut_or_tape(EdgeOperation.cut, face, start, end);\n    }\n\n    tape(face: Face, start: Point2, end: Point2){\n        return this.cut_or_tape(EdgeOperation.tape, face, start, end);\n    }\n\n    cut_or_tape(operation: EdgeOperation, face: Face, start: Point2, end: Point2): BoxMesh {\n        let [x1, y1] = start;\n        let [x2, y2] = end;\n\n        if (Math.abs(x2 - x1) + Math.abs(y2 - y1) != 1){\n            throw `start and end points of cut/tape are not adjacent: ${start} and ${end}`;\n        }\n\n        let f = this.face_meshes.get(face).vertices;\n        let fs = f.get(x1, y1);\n        let fe = f.get(x2, y2);\n\n        let new_edge = new Edge(fs, fe);\n\n        let new_cut_edges = this.cut_edges;\n        if (operation == EdgeOperation.cut && !new_cut_edges.contains(new_edge)) {\n            new_cut_edges = new_cut_edges.push(new_edge);\n        }\n\n        if (operation == EdgeOperation.tape && new_cut_edges.contains(new_edge)) {\n            new_cut_edges = new_cut_edges.remove(new_cut_edges.indexOf(new_edge));\n        }\n\n        return this.update({cut_edges: new_cut_edges});\n    }\n\n    get_rends() {\n        return get_partitions(this.cut_edges);\n    }\n\n    get_free_rends() {\n        return this.get_rends().filter(x => !this.is_partition_fixed(x));\n    }\n\n    is_partition_fixed(partition: Set<number>) {\n        let face_membership = this.get_partition_face_membership(partition);\n        return face_membership.get(Face.b) > 0;\n    }\n\n    get_partition_face_membership(partition: Partition) {\n        let face_membership = Map<Face, number>().asMutable();\n        for (let f of faces) {\n            let total = 0;\n            let quadrants = this.face_meshes.get(f).quadrants;\n            partition.forEach(function (q) {\n                if (quadrants.contains(q)){\n                    total += 1;\n                }\n            });\n            face_membership.set(f, total);\n        }\n        return face_membership.asImmutable();\n    }\n\n    get_quadrant_face(quadrant: number){\n        for (let f of faces){\n            if (this.face_meshes.get(f).quadrants.contains(quadrant)) {\n                return f;\n            }\n        }\n    }\n\n    get_dangles() {\n        let rends = this.get_rends();\n        let fixed_rends = rends.filter(x => this.is_partition_fixed(x));\n\n        let dangles = List<Dangle>().asMutable();\n        let inner_this = this;\n\n        this.get_box_edges().forEach(function ([e1, e2]) {\n            let e_2_q_2_f = Map<Edge, Map<number, Face>>().asMutable();\n            for (let e of [e1, e2]){ //initialize e_2_q_2_f\n                let inner_map = Map<number, Face>().asMutable();\n                edge_2_quadrants.get(e).forEach(function (q) {\n                    inner_map.set(q, inner_this.get_quadrant_face(q));\n                });\n                 inner_map = inner_map.asImmutable()\n                e_2_q_2_f.set(e, inner_map);\n            }\n            e_2_q_2_f = e_2_q_2_f.asImmutable();\n\n            let edge_dangles = List<Dangle>().asMutable();\n\n            for (let es of [[e1, e2], [e1], [e2]]) {\n                let new_cut_edges = inner_this.cut_edges.push(...es);\n                let new_partitions = get_partitions(new_cut_edges);\n\n                if (new_partitions.size != rends.size) {\n\n                    new_partitions.forEach(function (np) {\n                        if (rends.contains(np)){\n                            return;\n                        }\n\n                        if (inner_this.is_partition_fixed(np)) {\n                            return;\n                        }\n\n                        let any_intersections = false;\n                        fixed_rends.forEach(function (fixed_rend) {\n                            if (np.intersect(fixed_rend).size > 0){\n                                any_intersections = true;\n                            }\n                        });\n                        if (!any_intersections) {\n                            return;\n                        }\n\n                        let any_dangle_matches = false;\n                        edge_dangles.forEach(function (ed) {\n                            if (is(np, ed.partition)){\n                                any_dangle_matches = true;\n                                return;\n                            }\n                        });\n                        if (any_dangle_matches){\n                            return;\n                        }\n\n                        let q_2_fs = List<Map<number, Face>>().asMutable();\n                        for (let e of es) {\n                            q_2_fs.push(e_2_q_2_f.get(e));\n                        }\n                        q_2_fs = q_2_fs.asImmutable();\n\n                        let fixed_fs = List<Face>().asMutable();\n                        let dangle_fs = List<Face>().asMutable();\n\n                        q_2_fs.forEach(function (q_2_f) {\n                            q_2_f.entrySeq().forEach(function ([q, f]) {\n                                if (np.contains(q)) {\n                                    dangle_fs = dangle_fs.push(f);\n                                } else {\n                                    fixed_fs = fixed_fs.push(f);\n                                }\n                            });\n                        });\n                        fixed_fs = fixed_fs.asImmutable();\n                        dangle_fs = dangle_fs.asImmutable();\n\n                        if (fixed_fs.toSet().size != 1 || dangle_fs.toSet().size != 1) {\n                            return;\n                        }\n\n                        edge_dangles.push(new Dangle(\n                            np, List<Edge>(es), fixed_fs.get(0), dangle_fs.get(0)));\n                    });\n                }\n            }\n            edge_dangles = edge_dangles.asImmutable();\n            dangles.push(...edge_dangles.toArray());\n        });\n        dangles = List<Dangle>(dangles.sortBy(x => x.partition.size));\n\n        let final_dangles = List<Dangle>().asMutable();\n\n        for (let i = 0; i < dangles.size; i++) {\n            let p = dangles.get(i).partition;\n\n            let any_supersets = false;\n            dangles.skip(i+1).forEach(function (d) {\n                if (p.isSubset(d.partition)) {\n                    any_supersets = true;\n                }\n            })\n            if (!any_supersets) {\n                final_dangles.push(dangles.get(i));\n            }\n        }\n        final_dangles = final_dangles.asImmutable();\n\n        return final_dangles;\n    }\n\n    get_box_edges() {\n        let edges = List<[Edge, Edge]>();\n\n        let t_b_edge_coords: [number, number][][] = [\n            [[0,0], [0,1], [0,2]],\n            [[0,0], [1,0], [2,0]],\n            [[2,0], [2,1], [2,2]],\n            [[0,2], [1,2], [2,2]]\n        ];\n\n        for (let f of [Face.t, Face.b]) {\n            let m = this.face_meshes.get(f).vertices;\n\n            for (let [[p1x, p1y], [p2x, p2y], [p3x, p3y]] of t_b_edge_coords) {\n                let v1 = m.get(p1x, p1y);\n                let v2 = m.get(p2x, p2y);\n                let v3 = m.get(p3x, p3y);\n\n                let e1 = new Edge(v1, v2);\n\n                let e2 = new Edge(v2, v3);\n\n                edges = edges.push([e1, e2]);\n            }\n        }\n\n        for (let f of [Face.n, Face.e, Face.s, Face.w]) {\n            let m = this.face_meshes.get(f).vertices;\n\n            let v1 = m.get(0,0);\n            let v2 = m.get(0,1);\n            let v3 = m.get(0,2);\n\n            let e1 = new Edge(v1, v2);\n\n            let e2 = new Edge(v2, v3);\n\n            edges = edges.push([e1, e2]);\n\n        }\n        return edges;\n    }    \n\n    rotate_y(degrees: number) {\n        //validate degrees somehow\n\n        if (degrees == 0 || degrees == 360) {\n            return this;\n        }\n\n        let new_faces = rotate_y_faces(this.face_meshes, degrees);\n    \n        if (degrees = 180) {\n            return this.update({face_meshes: new_faces});\n        } else {\n            let [x, y, z] = this.dimensions;\n            return this.update({dimensions: [z, y, x], face_meshes: new_faces});\n        }\n    }\n\n    roll(direction: Direction){\n        let [x, y, z] = this.dimensions;\n        let new_x, new_y, new_z;\n        if (direction == Direction.n || direction == Direction.s) {\n            [new_x, new_y, new_z] = [x, y, z];\n        } else {\n            [new_x, new_y, new_z] = [y, x, z];\n        }\n\n        let new_faces = roll_faces(this.face_meshes, direction);\n\n        return this.update({dimensions: [new_x, new_y, new_z], face_meshes: new_faces});\n    }\n\n    description(){\n        let face_descr = Map<Face, string>([\n            [Face.t, 'top'],\n            [Face.b, 'bottom'],\n            [Face.n, 'back'],\n            [Face.e, 'right'],\n            [Face.s, 'front'],\n            [Face.w, 'left']\n        ]);\n\n        let [x, y, z] = this.dimensions;\n\n        let result = `The box's dimensions measure ${x} by ${y} by ${z}`;\n\n        let rends = this.get_free_rends();\n        let inner_this = this;\n\n        rends.forEach(function (fr) {\n            let face_membership = inner_this.get_partition_face_membership(fr);\n            let faces_present: Face[] =[];\n            for (let f of faces){\n                if (face_membership.get(f) > 0) {\n                    faces_present.push(f);\n                }\n            }\n\n            let faces_text: string;\n            if (faces_present.length == 1) {\n                faces_text = face_descr.get(faces_present[0]) + ' face';\n            } else {\n                faces_text = faces_present.slice(0, -1).map(f => face_descr.get(f)).join(', ');\n                faces_text += ` and ${face_descr.get(faces_present[faces_present.length-1])} faces`;\n            }\n\n            result += `\\nA portion of the box's ${faces_text} has been rended free; it lies on the floor off to the side.`;\n        });\n\n        let dangles = this.get_dangles();\n\n        dangles.forEach(function (d) {\n            let face_membership = inner_this.get_partition_face_membership(d.partition);\n            let faces_present: Face[] = [];\n            for (let f of faces){\n                if (face_membership.get(f) > 0) {\n                    faces_present.push(f);\n                }\n            }\n\n            let faces_text: string;\n            if (faces_present.length == 1) {\n                faces_text = face_descr.get(faces_present[0]) + ' face';\n            } else {\n                faces_text = faces_present.slice(0, -1).map(f => face_descr.get(f)).join(', ');\n                faces_text += ` and ${face_descr.get(faces_present[faces_present.length-1])} faces`;\n            }\n\n            result += `\\nA portion of the box's ${faces_text} sits on a free hinge; from the ${face_descr.get(d.free_face)} face it can be swung to the ${face_descr.get(d.fixed_face)}.`;\n        });\n\n        return result;\n    }\n}\n\nfunction rotate_y_faces(fs: Map<Face, FaceMesh>, degrees: number) {\n    if (degrees == 0 || degrees == 360) {\n        return fs;\n    }\n\n    let shift = degrees / 90;\n    let face_cycle = [Face.n, Face.w, Face.s, Face.e, Face.n, Face.w, Face.s, Face.e];\n\n    let new_faces = Map<Face, FaceMesh>();\n\n    for (let f of [Face.n, Face.e, Face.s, Face.w]){\n        let ind = face_cycle.indexOf(f);\n        new_faces = new_faces.set(f, fs.get(face_cycle[ind + shift]));\n    }\n\n    for (let f of [Face.t, Face.b]){\n        new_faces = new_faces.set(f, fs.get(f).rotate(degrees));\n    }\n\n    return new_faces;\n}\n\nfunction roll_faces(fs: Map<Face, FaceMesh>, direction: Direction){\n    let new_faces = Map<Face, FaceMesh>().asMutable();\n\n    if (direction == Direction.n) {\n        new_faces.set(\n            Face.n, fs.get(Face.t).rotate(180)).set(\n            Face.t, fs.get(Face.s)).set(\n            Face.s, fs.get(Face.b)).set(\n            Face.b, fs.get(Face.n).rotate(180)).set(\n            Face.e, fs.get(Face.e).rotate(90)).set(\n            Face.w, fs.get(Face.w).rotate(270));\n    } else if (direction == Direction.s) {\n        new_faces.set(\n            Face.s, fs.get(Face.t)).set(\n            Face.t, fs.get(Face.n).rotate(180)).set(\n            Face.n, fs.get(Face.b)).set(\n            Face.b, fs.get(Face.s).rotate(180)).set(\n            Face.e, fs.get(Face.e).rotate(270)).set(\n            Face.w, fs.get(Face.w).rotate(90));\n    } else if (direction == Direction.e) {\n        new_faces.set(\n            Face.e, fs.get(Face.t).rotate(90)).set(\n            Face.t, fs.get(Face.w).rotate(90)).set(\n            Face.w, fs.get(Face.b).rotate(270)).set(\n            Face.b, fs.get(Face.e).rotate(270)).set(\n            Face.n, fs.get(Face.n).rotate(270)).set(\n            Face.s, fs.get(Face.s).rotate(90));\n    } else if (direction == Direction.w) {\n        new_faces.set(\n            Face.w, fs.get(Face.t).rotate(270)).set(\n            Face.t, fs.get(Face.e).rotate(270)).set(\n            Face.e, fs.get(Face.b).rotate(90)).set(\n            Face.b, fs.get(Face.w).rotate(90)).set(\n            Face.n, fs.get(Face.n).rotate(90)).set(\n            Face.s, fs.get(Face.s).rotate(270));\n    }\n\n    return new_faces.asImmutable();\n}\n\n\nexport function test(){\n    let bm = new BoxMesh({dimensions: [2,3,4]});\n\n    let bm2 = bm.cut(Face.t, [0,0], [1,0]).cut(Face.t, [1,0], [1,1]).cut(Face.t, [1,1], [0,1]).cut(Face.t, [0,1], [0,0]);\n    let bm3 = bm2.cut(Face.t, [0,1], [0,2]).cut(Face.s, [0, 0], [0, 1]).cut(Face.s, [0,1], [1,1]).cut(Face.s, [1,1], [1,0]).cut(Face.t, [1, 2], [1,1])\n\n    let bm4 = bm.cut(Face.t, [0,0], [1,0]).roll(Direction.s).cut(Face.t, [0,2], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,2]);\n\n    let bm5 = bm.cut(Face.n, [0,0], [1,0]).cut(Face.n, [1,0], [2,0]).cut(Face.n, [2,0], [2,1]).cut(Face.n, [2,1], [1,1]).cut(Face.n, [1,1], [0,1]).cut(Face.n, [1,1], [1, 0]).cut(Face.n, [0,1], [0,0]);\n\n    let bm6 = bm.cut(Face.t, [0,0], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,0]);\n    let bm7 = bm2.cut(Face.t, [0,1], [0,2]).cut(Face.t, [1,1], [1,2]);\n\n    let bm8 = (bm.cut(Face.t, [0,0], [1,0]).cut(Face.t, [1,0], [2,0]).cut(Face.t, [2,0], [2,1]).cut(Face.t, [2,1], [2,2])\n             .cut(Face.t, [0,2], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,2])\n             .cut(Face.s, [1,0], [1,1]).cut(Face.s, [1,1], [0,1])\n             .cut(Face.w, [0,0], [0,1]).cut(Face.w, [0,1], [1,1]).cut(Face.w, [1,1], [2,1]));\n\n    let bms: BoxMesh[] = [bm, bm2, bm3, bm4, bm5, bm6, bm7, bm8];\n    for (let i = 0; i < bms.length; i++) {\n        let b = bms[i];\n\n        console.log('Box #', i+1);\n        console.log();\n        console.log(b.description());\n        console.log();\n        console.log();\n    }\n}\n","import {Map} from 'immutable';\nimport {Direction, EdgeOperation, EdgeDirection, Face, RelativePosition, RendOperation} from './datatypes';\n\nexport type Token = string;\n\nexport type HorizPositionWord = 'left' | 'center' | 'right';\nexport type VertPositionWord = 'top' | 'middle' | 'bottom';\n\nexport type PositionWord = HorizPositionWord | VertPositionWord;\nexport let word_2_relative_position = Map<PositionWord, RelativePosition>([\n    ['left', RelativePosition.left],\n    ['center', RelativePosition.center],\n    ['right', RelativePosition.right],\n    ['top', RelativePosition.top],\n    ['middle', RelativePosition.middle],\n    ['bottom', RelativePosition.bottom]\n]);\n\nexport type FaceWord = 'back' | 'front' | 'right' | 'left' | 'top' | 'bottom';\nexport let word_2_face = Map<FaceWord, Face>([\n    ['back', Face.n],\n    ['front', Face.s],\n    ['right', Face.e],\n    ['left', Face.w],\n    ['top', Face.t],\n    ['bottom', Face.b]\n]);\n\nexport type RendOpWord = 'open' | 'close';\nexport let word_2_rend_op = Map<RendOpWord, RendOperation>([\n    ['open', RendOperation.open],\n    ['close', RendOperation.close]\n]);\n\nexport type EdgeOpWord = 'cut' | 'tape';\nexport let word_2_edge_op = Map<EdgeOpWord, EdgeOperation>([\n    ['cut', EdgeOperation.cut],\n    ['tape', EdgeOperation.tape]\n]);\n\nexport type EdgeDirWord = 'horizontally' | 'vertically';\nexport let word_2_edge_dir = Map<EdgeDirWord, EdgeDirection>([\n    ['horizontally', EdgeDirection.horizontal],\n    ['vertically', EdgeDirection.vertical]\n]);\n\nexport type RotateYDirWord = \"left\" | \"right\";\nexport let word_2_degrees = Map<RotateYDirWord, number>([\n    ['left', 270],\n    ['right', 90]\n]);\n\nexport type RollDirWord = \"forward\" | \"backward\" | \"left\" | \"right\";\nexport let word_2_dir = Map<RollDirWord, Direction>([\n    ['forward', Direction.n],\n    ['backward', Direction.s],\n    ['left', Direction.w],\n    ['right', Direction.e]\n]);","import {\n    Collection,\n    hash,\n    isImmutable,\n    List,\n    Map,\n    Set\n} from 'immutable';\n\nexport type Partition = Set<number>;\n\nexport class Edge {\n    readonly start: number;\n    readonly end: number;\n\n    constructor(start: number, end: number){\n        if (end < start){\n            this.start = end;\n            this.end = start;\n        } else {\n            this.start = start;\n            this.end = end;\n        }\n    }\n\n    equals(other:Edge){\n        return (this.start == other.start && this.end == other.end);\n    }\n\n    hashCode() {\n        return hash(hash(this.start) + hash(this.end));\n        // fuck\n        // return ( this.end << 16 ) ^ this.start;\n    }\n}\n\nexport enum Face {\n    n = 0,\n    s = 1,\n    e = 2,\n    w = 3,\n    t = 4,\n    b = 5\n}\n\nexport let faces = [Face.n, Face.s, Face.e, Face.w, Face.t, Face.b];\n\nexport enum Direction {\n    n = 0,\n    s = 1,\n    e = 2,\n    w = 3\n}\n\nexport let directions = [Direction.n, Direction.s, Direction.e, Direction.w];\n\nexport let direction_2_face = Map<Direction, Face>([\n    [Direction.n, Face.n],\n    [Direction.s, Face.s],\n    [Direction.e, Face.e],\n    [Direction.w, Face.w]\n]);\n\nexport class Dangle {\n    readonly partition: Partition;\n    readonly edges: List<Edge>;\n    readonly fixed_face: Face;\n    readonly free_face: Face;\n\n    constructor(partition: Partition, edges: List<Edge>, fixed_face: Face, free_face: Face) {\n        this.partition = partition;\n        this.edges = edges;\n        this.fixed_face = fixed_face;\n        this.free_face = free_face;\n    }\n\n    equals(other: Dangle){\n        return (\n            this.partition.equals(other.partition)\n            && this.edges.equals(other.edges)\n            && this.fixed_face === other.fixed_face\n            && this.free_face === other.free_face);\n    }\n\n    hashCode() {\n        return hash(hash(this.partition) + hash(this.edges) + hash(this.fixed_face) + hash(this.free_face));\n        //let faces_hash = (this.fixed_face << 16) ^ this.free_face; //fuck!\n        //return this.partition.hashCode() + this.edges.hashCode() + faces_hash;\n    }\n}\n\nexport type Point2 = [number, number];\n\nexport function make_matrix2(data_obj: number[][]) {\n    let dim_y = data_obj.length;\n    let dim_x = data_obj[0].length;\n\n    let data = new Int16Array(data_obj.reduce((x, y) => x.concat(y)));\n    // TODO complain if the total length is wrong\n    return new Matrix2(data, dim_x, dim_y);\n}\n\nexport class Matrix2 {\n    readonly dim_x: number;\n    readonly dim_y: number;\n    readonly data: Int16Array;\n    \n    constructor (data: Int16Array, dim_x: number, dim_y: number) {\n        this.data = data;\n        this.dim_x = dim_x;\n        this.dim_y = dim_y;\n    }\n\n    get(x: number, y: number): number {\n        return this.data[y * this.dim_x + x];\n    }\n\n    set(x: number, y: number, value: number) {\n        this.data[y * this.dim_x + x] = value;\n    }\n\n    rotate(degrees: number): Matrix2 {\n        //validate input better\n\n        if (degrees == 360 || degrees == 0) {\n            return this;\n        }\n\n        const n_rotations = degrees / 90;\n        let m: Matrix2 = this;\n        const dim_x = this.dim_x;\n        const dim_y = this.dim_y;\n        for (let i = 0; i < n_rotations; i++){\n            let new_data = new Int16Array(dim_x * dim_y);\n            let new_mat2 = new Matrix2(new_data, dim_y, dim_x);\n            for (let y = 0; y < dim_y; y++){\n                for (let x = 0; x < dim_x; x++){\n                    new_mat2.set(dim_y - 1 - y, x, m.get(x, y));\n                }\n            }\n            m = new_mat2;\n        }\n        return m\n    }\n\n    contains(value: number): boolean{\n        return this.data.indexOf(value) !== -1;\n    }\n}\n\n\nexport enum CardboardEdge {\n    intact = 0,\n    cut = 1,\n}\n\nexport enum TapeEdge {\n    untaped = 0,\n    taped = 1,\n    cut = 2\n}\n\nexport class EdgeState {\n    readonly cardboard: CardboardEdge;\n    readonly tape: TapeEdge;\n\n    constructor (cardboard?: CardboardEdge, tape?: TapeEdge){\n        if (cardboard === undefined) {\n            cardboard = CardboardEdge.intact;\n        }\n        this.cardboard = cardboard;\n\n        if (tape === undefined) {\n            tape = TapeEdge.untaped;\n        }\n        this.tape = tape;\n    }\n\n    cut() {\n        let new_tape: TapeEdge;\n        if (this.tape == TapeEdge.taped) {\n            new_tape = TapeEdge.cut;\n        } else {\n            new_tape = this.tape\n        }\n\n        return new EdgeState(CardboardEdge.cut, new_tape);\n    }\n\n\n    apply_tape() {\n        return new EdgeState(this.cardboard, TapeEdge.taped);\n    }\n}\n\nexport enum EdgeOperation {\n    cut = 0,\n    tape = 1\n}\n\nexport enum EdgeDirection {\n    horizontal = 0,\n    vertical = 1\n}\n\nexport enum RendState {\n    closed = 0,\n    open = 1\n}\n\nexport enum RendOperation {\n    close = 0,\n    open = 1\n}\n\nexport enum SpillageLevel {\n    none = 0,\n    light = 1,\n    heavy = 2\n}\n\nexport enum Weight {\n    empty = 0,\n    very_light = 1,\n    light = 2,\n    medium = 3,\n    heavy = 4,\n    very_heavy = 5\n}\n\nexport abstract class Item {\n    abstract weight(): Weight;\n    abstract name(): string;\n    abstract pre_gestalt(): string;\n    abstract post_gestalt(): string;\n    article(): string {\n        return 'a';\n    }\n}\n\n\nexport type Counter<T> = Map<T, number>;\n\nexport function counter_add<T>(counter: Counter<T>, key: T, inc: number){\n    let cur_val = 0;\n    if (counter.has(key)){\n        cur_val = counter.get(key);\n    }\n    return counter.set(key, cur_val + inc);\n}\n\nexport function counter_get<T>(counter: Counter<T>, key: T){\n    let cur_val = 0;\n    if (counter.has(key)){\n        cur_val = counter.get(key);\n    }\n    return cur_val;\n}\n\nexport function counter_update<T>(counter1: Counter<T>, counter2: Counter<T>){\n    let switch_to_immutable = isImmutable(counter1);\n    let result = counter1.asMutable();\n\n    counter2.forEach(function (v, k){\n        counter_add(result, k, v);\n    });\n\n    if (switch_to_immutable) {\n        result = result.asImmutable();\n    }\n    return result;\n}\n\nexport function counter_order<T>(counter: Counter<T>, include_zero=false){\n    let result = counter.sort();\n    if (!include_zero) {\n        result = result.filter((count) => count > 0);\n    }\n    return result.keySeq().toList().reverse();\n}\n\nexport enum RelativePosition {\n    left = 0, center = 1, right = 2,\n    top = 3, middle = 4, bottom = 5\n}\n\nexport class WreckError extends Error {}\n\n// used to signal errors caused by trying to update world state in a way that breaks the reality of the world\n// so assumes that commands are already valid, the attempted update *could work* if the state were different\nexport class WorldUpdateError extends WreckError {}\n\n// used to signal that a command/pseudo command is not specified legally\n// the command cannot be executed because it *cannot be interpreted*\nexport class CommandError extends WreckError {}","import {Item, Weight} from './datatypes'\n\nexport class Codex extends Item {\n    weight() {\n        return Weight.medium;\n    }\n\n    name() {\n        return 'codex';\n    }\n\n    pre_gestalt() {\n        return 'something thick and aged';\n    }\n\n    post_gestalt() {\n        return 'a thick, rotten codex with strange markings on the front';\n    }\n}\n\nexport class CityKey extends Item {\n    weight() {\n        return Weight.light;\n    }\n\n    name() {\n        return 'Key to the City';\n    }\n\n    pre_gestalt() {\n        return 'something glistening and golden';\n    }\n\n    post_gestalt() {\n        return 'a large, heavy golden key';\n    }\n\n    article() {\n        return 'the';\n    }\n}\n\nexport class Pinecone extends Item {\n    weight() {\n        return Weight.very_light;\n    }\n\n    name() {\n        return 'pinecone';\n    }\n\n    pre_gestalt() {\n        return 'something small, brown and flaky';\n    }\n\n    post_gestalt() {\n        return 'a small, brown pinecone that smells of the outdoors';\n    }\n}","\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJqcXVlcnkudGVybWluYWwuZC50cyIsInNvdXJjZXNDb250ZW50IjpbXX0=","import {List} from 'immutable';\nimport {CityKey, Codex, Pinecone} from './items';\nimport {Item} from './datatypes';\nimport {Box, SingleBoxWorld, WorldDriver} from './world';\n\ndeclare var jQuery: any;\n\njQuery(function($: any) {\n    let contents = List<Item>([new Codex(), new Pinecone(), new CityKey()]);\n    let world = new SingleBoxWorld({box: new Box({contents: contents})});\n    let world_driver = new WorldDriver(world);\n\n    $('#term').terminal(function(command: string) {\n        if (command !== '') {\n            try {\n                var result = world_driver.run(command);\n                if (result !== undefined) {\n                    this.echo(new String(result));\n                }\n            } catch(e) {\n                this.error(new String(e));\n            }\n        } else {\n           this.echo('');\n        }\n    }, {\n        greetings: 'Demo Parser Interface for The Wreck',\n        name: 'wreck_demo',\n        height: 500,\n        prompt: '> '\n    });\n});","import {Face} from './datatypes';\n\nimport {List, Map} from 'immutable';\n\nexport function uncapitalize(msg: string) {\n    return msg[0].toLowerCase() + msg.slice(1);\n}\n\nexport function capitalize(msg: string) {\n    return msg[0].toUpperCase() + msg.slice(1);\n}\n\nexport function face_message(face_order: List<Face>, f_code_2_name?: Map<Face, string>){\n    if (f_code_2_name === undefined) {\n        f_code_2_name = Map<Face, string>([\n            [Face.n, 'back'],\n            [Face.s, 'front'],\n            [Face.e, 'right'],\n            [Face.w, 'left'],\n            [Face.t, 'top'],\n            [Face.b, 'bottom']\n        ]);\n    }\n\n    if (face_order.size == 1) {\n        return f_code_2_name.get(face_order.first()) + ' face';\n    } else {\n        return face_order.butLast().map(f_code_2_name.get).join(', ') + ' and ' + f_code_2_name.get(face_order.last()) + ' faces';\n    }\n}","import {BoxMesh, edge_2_quadrants, FaceMesh} from './box_geometry';\n\nimport {\n    CardboardEdge,\n    CommandError,\n    Counter,\n    counter_order,\n    counter_update,\n    Dangle,\n    Direction,\n    directions,\n    direction_2_face,\n    Edge,\n    EdgeDirection,\n    EdgeOperation,\n    EdgeState,\n    Face,\n    Item,\n    Partition,\n    Point2,\n    RelativePosition,\n    RendOperation,\n    RendState,\n    SpillageLevel,\n    TapeEdge,\n    Weight,\n    WorldUpdateError\n} from './datatypes';\n\nimport {\n    EdgeDirWord,\n    EdgeOpWord,\n    FaceWord,\n    PositionWord,\n    RendOpWord,\n    RollDirWord,\n    RotateYDirWord,\n    Token,\n    word_2_degrees,\n    word_2_dir,\n    word_2_edge_dir,\n    word_2_edge_op,\n    word_2_face,\n    word_2_relative_position,\n    word_2_rend_op\n} from './commands'\n\nimport {WorldUpdateEffects, with_world_update, world_update} from './world_update_effects';\n\nimport {CityKey, Codex, Pinecone} from './items';\n\nimport {capitalize, face_message, uncapitalize} from './text_tools';\n\nimport {List, Map, Set} from 'immutable';\n\nexport interface BoxParams {\n    box_mesh?: BoxMesh,\n    rend_state?: Map<Partition, RendState>,\n    dangle_state?: Map<Dangle, RendState>,\n    edge_state?: Map<Edge, EdgeState>,\n    contents?: List<Item>\n}\n\nexport class Box {\n    readonly box_mesh: BoxMesh;\n    readonly rend_state: Map<Partition, RendState>;\n    readonly dangle_state: Map<Dangle, RendState>;\n    readonly edge_state: Map<Edge, EdgeState>;\n    readonly contents: List<Item>;\n\n    constructor({box_mesh, rend_state, dangle_state, edge_state, contents}: BoxParams){\n        if (box_mesh === undefined) {\n            box_mesh = new BoxMesh({dimensions: [2, 2, 2]});\n        }\n        this.box_mesh = box_mesh;\n\n        if (rend_state === undefined) {\n            rend_state = this.default_rend_state(this.box_mesh);\n        }\n        this.rend_state = rend_state;\n\n        if (dangle_state === undefined) {\n            dangle_state = this.default_dangle_state(this.box_mesh);\n        }\n        this.dangle_state = dangle_state;\n\n        if (edge_state === undefined) {\n            edge_state = Map<Edge, EdgeState>();\n        }\n        this.edge_state = edge_state;\n\n        if (contents === undefined) {\n            contents = List<Item>();\n        }\n        this.contents = contents;\n    }\n\n    update({box_mesh, rend_state, dangle_state, edge_state, contents}: BoxParams){\n        if (box_mesh === undefined) {\n            box_mesh = this.box_mesh;\n        }\n\n        if (rend_state === undefined) {\n            rend_state = this.rend_state;\n        }\n\n        if (dangle_state === undefined) {\n            dangle_state = this.dangle_state;\n        }\n\n        if (edge_state === undefined) {\n            edge_state = this.edge_state;\n        }\n        \n        if (contents === undefined) {\n            contents = this.contents;\n        }\n\n        return new Box({box_mesh, rend_state, dangle_state, edge_state, contents});\n    }\n\n    default_rend_state(box_mesh: BoxMesh) {\n        let rends = box_mesh.get_free_rends();\n        let result = Map<Partition, RendState>().asMutable();\n        rends.forEach(function (r) {\n            result.set(r, RendState.closed);\n        });\n        return result.asImmutable();\n    }\n\n    default_dangle_state(box_mesh: BoxMesh) {\n        let dangles = box_mesh.get_dangles();\n        let result = Map<Dangle, RendState>().asMutable();\n        dangles.forEach(function (d) {\n            result.set(d, RendState.closed);\n        });\n        return result.asImmutable();\n    }\n\n    open_or_close_rend(operation: RendOperation, rend: Partition) {\n        let box_rends = this.box_mesh.get_rends();\n\n        if (!box_rends.contains(rend)){\n            throw new CommandError('rend does not exist on the box');\n        }\n\n        if (this.box_mesh.is_partition_fixed(rend)) {\n            throw new WorldUpdateError('cannot open or close a fixed rend');\n        }\n\n        let new_rend_state = this.rend_state;\n        let intended_new_state = operation == RendOperation.close ? RendState.closed : RendState.open;\n        if (intended_new_state == new_rend_state.get(rend)) {\n            throw new WorldUpdateError(`cannot ${operation} a rend that is already ${intended_new_state}`);\n        }\n\n        new_rend_state = new_rend_state.set(rend, intended_new_state);\n\n        let new_box = this.update({rend_state: new_rend_state});\n\n        if (new_box.is_collapsed()) {\n            let effects = world_update.effects;\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_box.contents.toArray());\n            let new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    open_or_close_dangle(operation: RendOperation, dangle: Dangle) {\n        if (this.box_mesh.is_partition_fixed(dangle.partition)) {\n            throw new WorldUpdateError('cannot open or close a fixed dangle');\n        }\n\n        let box_dangles = this.box_mesh.get_dangles();\n\n        if (box_dangles.some((d) => dangle == d)){\n            throw new CommandError('dangle does not exist on the box');\n        }\n\n        let intended_new_state = operation == RendOperation.close ? RendState.closed : RendState.open;\n        if (this.dangle_state.get(dangle) == intended_new_state) {\n            throw new WorldUpdateError('cannot ${operation} a dangle that is already ${intended_new_state}');\n        }\n\n        let new_dangle_state = this.dangle_state.set(dangle, intended_new_state);\n\n        let new_box = this.update({dangle_state: new_dangle_state});\n        if (new_box.is_collapsed()) {\n            let effects = world_update.effects;\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_box.contents.toArray());\n            let new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n        return new_box;\n    }\n\n    rotate_y(degrees: number) {\n        let new_box_mesh = this.box_mesh.rotate_y(degrees);\n        return this.update(new_box_mesh);\n    }\n\n    roll(direction: Direction) {\n        if (this.dangle_state.some((state) => state == RendState.open)) {\n            throw new WorldUpdateError('cannot roll a box with open dangles');\n        }\n\n        let new_box_mesh = this.box_mesh.roll(direction);\n        let dir_face: Face = direction_2_face.get(direction);\n\n        let new_contents = this.contents;\n        let rend_state_updates = this.rend_state;\n        let dangle_state_updates = this.dangle_state;\n\n        let inner_this = this;\n        let effects = world_update.effects;\n\n        if (new_contents.size > 0){\n            let dir_2_opposite = Map<Face, Face>([\n                [Face.n, Face.s],\n                [Face.s, Face.n],\n                [Face.e, Face.w],\n                [Face.w, Face.e]]);\n \n            let heavy_spill_faces: [Face, Face][] = [\n                [dir_face, Face.b],\n                [Face.t, dir_face],\n                [Face.b, dir_2_opposite.get(dir_face)]];\n            let light_spill_faces = ([Face.n, Face.s, Face.e, Face.w]\n                .filter((d) => d !== dir_face && d !== dir_2_opposite.get(dir_face))\n            );\n                \n            this.rend_state.forEach(function (state, r) {\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                        \n                for (let [test_face, spill_face] of heavy_spill_faces) {\n                    if (face_membership.get(test_face) > 0) {\n                        effects.spill_faces = effects.spill_faces.push(spill_face);\n                        effects.spillage_level = SpillageLevel.heavy;\n                        effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                        new_contents = List<Item>();\n\n                        if (state == RendState.closed) {\n                            effects.spilled_rends == effects.spilled_rends.add(r);\n                            rend_state_updates = rend_state_updates.set(r, RendState.open);\n                        }\n\n                    }\n                }\n\n                for (let spill_face of light_spill_faces) {\n                    if (face_membership.get(spill_face) > 0) {\n                        effects.spill_faces = effects.spill_faces.push(spill_face);\n                        if (effects.spillage_level < SpillageLevel.light) {\n                            effects.spillage_level = SpillageLevel.light;\n                        }\n                        if (new_contents.size > 0) {\n                            effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                            new_contents = new_contents.rest();\n                        }\n                    }\n                }\n            });\n\n            this.box_mesh.get_dangles().forEach(function (d) {\n                let spillage_level = SpillageLevel.none;\n                let spill_face: Face;\n                if (d.free_face == Face.t) {\n                    spillage_level = SpillageLevel.heavy;\n                    spill_face = dir_face;\n                } else if (d.free_face == dir_face) {\n                    spillage_level = SpillageLevel.heavy;\n                    spill_face = Face.b;\n                } else if (light_spill_faces.indexOf(d.free_face) !== -1) {\n                    spillage_level = SpillageLevel.light;\n                    spill_face = d.free_face;\n                }\n\n                if (spillage_level !== SpillageLevel.none) {\n                    if (spillage_level > effects.spillage_level) {\n                        effects.spillage_level = spillage_level;\n                    }\n                    effects.spill_faces = effects.spill_faces.push(spill_face);\n\n                    if (spillage_level == SpillageLevel.light) {\n                        if (new_contents.size > 0) {\n                            effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                            new_contents = new_contents.rest();\n                        }\n                    } else if (spillage_level == SpillageLevel.heavy) {\n                        effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                        new_contents = List<Item>();\n                    }\n\n                    effects.spilled_dangles = effects.spilled_dangles.add(d);\n                    dangle_state_updates = dangle_state_updates.set(d, RendState.open);\n                }\n            });\n            \n            new_box_mesh.get_dangles().forEach(function (d) {\n                if (d.free_face == dir_2_opposite.get(dir_face)) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces = effects.spill_faces.push(dir_2_opposite.get(dir_face));\n\n                    effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                    new_contents = List<Item>();\n\n                    effects.spilled_dangles = effects.spilled_dangles.add(d);\n                    dangle_state_updates = dangle_state_updates.set(d, RendState.open);\n                }\n            });\n        }\n        let new_box = this.update({\n            box_mesh: new_box_mesh,\n            rend_state: rend_state_updates,\n            dangle_state: dangle_state_updates,\n            contents: new_contents\n        });\n\n        if (new_box.is_collapsed()) {\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_contents.toArray());\n            new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    lift() {\n        let effects = world_update.effects;\n        let inner_this = this;\n\n        let new_contents = this.contents;\n        let new_rend_state = this.rend_state;\n        let new_dangle_state = this.dangle_state;\n\n        if (new_contents.size > 0) {\n            let test_box_mesh = this.box_mesh.roll(Direction.s).roll(Direction.s);\n\n            test_box_mesh.get_free_rends().forEach(function (r) {\n                let face_membership = test_box_mesh.get_partition_face_membership(r);\n                let test_faces = [Face.b, Face.n, Face.s, Face.e, Face.w];\n                let count = test_faces.map(face_membership.get).reduce((x, y) => x + y);\n                if (face_membership.get(Face.t) > count) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces = effects.spill_faces.push(Face.b);\n\n                    effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                    new_contents = List<Item>();\n\n                    if (new_rend_state.get(r, RendState.closed) == RendState.closed) {\n                        effects.spilled_rends = effects.spilled_rends.add(r);\n                        new_rend_state = new_rend_state.set(r, RendState.open);\n                    }\n                }\n            });\n\n            test_box_mesh.get_dangles().forEach(function (d) {\n                if (d.free_face == Face.t) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces = effects.spill_faces.push(Face.b);\n\n                    effects.spilled_items = effects.spilled_items.push(...new_contents.toArray());\n                    new_contents = List<Item>();\n\n                    effects.spilled_dangles = effects.spilled_dangles.add(d);\n                    new_dangle_state = new_dangle_state.set(d, RendState.open);\n                }\n            });\n\n            this.rend_state.forEach(function (state, r) {\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                let light_spill_faces = [Face.n, Face.s, Face.e, Face.w].filter((f) => face_membership.get(f) > 0);\n                if (light_spill_faces.length > 0) {\n                    if (effects.spillage_level < SpillageLevel.light) {\n                        effects.spillage_level = SpillageLevel.light;\n                    }\n                    effects.spill_faces.push(...light_spill_faces);\n\n                    if (new_contents.size > 0) {\n                        effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                        new_contents = new_contents.rest();\n                    }\n                    if (state == RendState.closed) {\n                        effects.spilled_rends.add(r);\n                        new_rend_state = new_rend_state.set(r, RendState.open);\n                    }\n                }\n            });\n\n            this.dangle_state.forEach(function (state, d) {\n                if ([Face.n, Face.s, Face.e, Face.w].indexOf(d.free_face) !== -1) {\n                    if (effects.spillage_level < SpillageLevel.light) {\n                        effects.spillage_level = SpillageLevel.light;\n                    }\n                    effects.spill_faces.push(d.free_face);\n\n                    if (new_contents.size > 0) {\n                        effects.spilled_items = effects.spilled_items.push(new_contents.first());\n                        new_contents = new_contents.rest();\n                    }\n                }\n            });\n        }\n\n        let new_box = this.update({rend_state: new_rend_state, dangle_state: new_dangle_state, contents: new_contents});\n\n        if (new_box.is_collapsed()) {\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items = effects.collapse_spilled_items.push(...new_contents.toArray());\n            new_contents = List<Item>();\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    cut(face: Face, start: Point2, end: Point2) {\n        return this.cut_or_tape(EdgeOperation.cut, face, start, end);\n    }\n\n    tape(face: Face, start: Point2, end: Point2) {\n        return this.cut_or_tape(EdgeOperation.tape, face, start, end);\n    }\n\n    cut_or_tape(operation: EdgeOperation, face: Face, start: Point2, end: Point2) {\n        let effects = world_update.effects;\n        let inner_this = this;\n\n        if (face !== Face.s && face !== Face.t) {\n            throw new WorldUpdateError('cannot cut or tape sides other than top or front');\n        }\n\n        let [x1, y1] = start;\n        let [x2, y2] = end;\n        let v1 = this.box_mesh.face_meshes.get(face).vertices.get(x1, y1);\n        let v2 = this.box_mesh.face_meshes.get(face).vertices.get(x2, y2);\n\n        let edge = new Edge(v1, v2);\n\n        let quadrants = edge_2_quadrants.get(edge);\n\n        this.rend_state.forEach(function (state, r) {\n            if (state == RendState.open && quadrants.every(r.contains)) {\n                throw new WorldUpdateError('cannot cut or tape on an open rend');\n            }\n        });\n\n        this.dangle_state.forEach(function (state, d) {\n            if (state == RendState.open && quadrants.every(d.partition.contains)) {\n                throw new WorldUpdateError('cannot cut or tape on an open dangle');\n            }\n        });\n\n        let new_box_mesh: BoxMesh;\n        if (operation == EdgeOperation.cut) {\n            new_box_mesh = this.box_mesh.cut(face, start, end);\n        } else {\n            new_box_mesh = this.box_mesh.tape(face, start, end);\n        }\n\n        let new_rend_state = this.default_rend_state(new_box_mesh);\n        this.rend_state.forEach(function (state, r) {\n            if (new_rend_state.has(r)) {\n                new_rend_state = new_rend_state.set(r, state);\n            } else {\n                effects.repaired_rends = effects.repaired_rends.push(r);\n            }\n        });\n\n        new_rend_state.forEach(function (state, new_r) {\n            if (!inner_this.rend_state.has(new_r)) {\n                effects.new_rends = effects.new_rends.push(new_r);\n            }\n        });\n\n        let new_dangle_state = this.default_dangle_state(new_box_mesh);\n        this.dangle_state.forEach(function (state, d) {\n            if (new_dangle_state.has(d)) {\n                new_dangle_state = new_dangle_state.set(d, state);\n            } else {\n                effects.repaired_dangles = effects.repaired_dangles.push(d);\n            }\n        });\n\n        new_dangle_state.forEach(function (state, new_d) {\n            if (!inner_this.dangle_state.has(new_d)) {\n                effects.new_dangles = effects.new_dangles.push(new_d);\n            }\n        });\n\n        let new_edge_state = this.edge_state;\n        if (operation == EdgeOperation.cut) {\n            new_edge_state = new_edge_state.set(edge, new_edge_state.get(edge, new EdgeState()).cut());\n        } else {\n            new_edge_state = new_edge_state.set(edge, new_edge_state.get(edge, new EdgeState()).apply_tape());\n        }\n\n        return this.update({box_mesh: new_box_mesh, rend_state: new_rend_state, dangle_state: new_dangle_state});\n    }\n\n    take_next_item() {\n        let effects = world_update.effects;\n\n        if (this.contents.size == 0) {\n            throw new WorldUpdateError('cannot take an item from an empty box');\n        }\n\n        if (!this.appears_open()) {\n            throw new WorldUpdateError('cannot take an item from a box with no visible openings');\n        }\n\n        let new_contents = this.contents;\n        effects.taken_items = effects.taken_items.push(new_contents.first());\n        new_contents = new_contents.rest();\n\n        return this.update({contents: new_contents});\n    }\n\n    next_item() {\n        if (this.contents.size == 0) {\n            return null;\n        }\n        return this.contents.first();\n    }\n\n    appears_open() {\n        if (this.rend_state.some((state) => state == RendState.open)) {\n            return true;\n        }\n        if (this.dangle_state.some((state) => state == RendState.open)) {\n            return true;\n        }\n        return false;\n    }\n\n    appears_empty() {\n        return this.appears_open() && this.contents.size == 0;\n    }\n\n    is_collapsed(){\n        let open_faces = Map<Face, number>().asMutable();\n        let inner_this = this;\n        \n        this.rend_state.forEach(function (state, r) {\n            if (state == RendState.open){\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                counter_update(open_faces, face_membership);\n            }\n        });\n\n        this.dangle_state.forEach(function (state, d) {\n            if (state == RendState.open){\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(d.partition);\n                counter_update(open_faces, face_membership);\n            }\n        });\n\n        let total_open_sides = 0;\n        open_faces.forEach(function (count, face) {\n            if (count > 0) {\n                total_open_sides += 1;\n            }\n        });\n\n        return total_open_sides >= 3;\n    }\n}\n\nexport interface SingleBoxWorldParams {\n    box?: Box,\n    taken_items?: List<Item>,\n    spilled_items?: List<Item>\n}\n\nexport type CommandResult = [SingleBoxWorld, string];\n\nexport class SingleBoxWorld {\n    readonly box: Box;\n    readonly taken_items: List<Item>;\n    readonly spilled_items: List<Item>;\n\n    constructor({box, taken_items, spilled_items}: SingleBoxWorldParams) {\n        if (box === undefined) {\n            box = new Box({});\n        }\n        this.box = box;\n\n        if (taken_items === undefined) {\n            taken_items = List<Item>();\n        }\n        this.taken_items = taken_items;\n\n        if (spilled_items === undefined) {\n            spilled_items = List<Item>();\n        }\n        this.spilled_items = spilled_items;\n    }\n\n    update({box, taken_items, spilled_items}: SingleBoxWorldParams) {\n        if (box === undefined) {\n            box = this.box;\n        }\n\n        if (taken_items === undefined) {\n            taken_items = this.taken_items;\n        }\n\n        if (spilled_items === undefined) {\n            spilled_items = this.spilled_items;\n        }\n\n        return new SingleBoxWorld({box, taken_items, spilled_items});\n    }\n\n    command_rotate_y_box(dir: RotateYDirWord): CommandResult {\n        let degrees = dir == 'right' ? 90 : 270;\n        let new_box = this.box.rotate_y(degrees);\n        let new_world = this.update({box: new_box});\n\n        let message = `You turn the box 90 degrees to the ${dir}`;\n\n        return [new_world, message];\n    }\n\n    command_roll_box(cmd: RollDirWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let direction = word_2_dir.get(cmd);\n            let new_box = inner_this.box.roll(direction);\n\n            let dir_msg = (cmd == 'left' || cmd == 'right') ? `over to the ${cmd}` : cmd;\n\n            let message: string;\n            let new_world: SingleBoxWorld;\n            if (effects.spillage_level == SpillageLevel.none) {\n                message = `You roll the box ${dir_msg}.`;\n                new_world = inner_this.update({box: new_box});\n            } else {\n                let spill_msg = uncapitalize(inner_this.spill_message(new_box));\n                message = `As you roll the box ${dir_msg}, ${spill_msg}`;\n\n                new_world = inner_this.update({box: new_box, spilled_items: effects.spilled_items});\n            }\n\n            if (effects.box_collapsed) {\n                message += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    message += ' ';\n                    message += inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n\n            return [new_world, message];\n        });\n    }\n\n    command_lift_box(): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let new_box = inner_this.box.lift();\n\n            let msg: string;\n            let new_world: SingleBoxWorld;\n            if (effects.spillage_level == SpillageLevel.none) {\n                msg = 'You lift up the box in place.';\n                new_world = inner_this.update({box: new_box});\n            } else {\n                let spill_msg = uncapitalize(inner_this.spill_message(new_box));\n                msg = 'As you start to lift up the box, ' + spill_msg;\n                new_world = inner_this.update({box: new_box, spilled_items: effects.spilled_items});\n            }\n\n            if (effects.spillage_level <= SpillageLevel.heavy && !effects.box_collapsed) {\n                let total_weight = new_box.contents.reduce((x, i) => x + i.weight(), 0);\n                total_weight = Math.floor(total_weight / 2.9); //rule of thumb for translating \"normal item weights\" to \"normal box weights\"\n\n                if (total_weight > Weight.very_heavy) {\n                    total_weight = Weight.very_heavy;\n                }\n                let weight_2_msg = Map<Weight, string>([\n                    [Weight.empty, 'so light as to be empty'],\n                    [Weight.very_light, 'quite light'],\n                    [Weight.light, 'light'],\n                    [Weight.medium, 'medium'],\n                    [Weight.heavy, 'somewhat heavy'],\n                    [Weight.very_heavy, 'very heavy']\n                ]);\n                let weight_msg = weight_2_msg.get(total_weight);\n                let subject = effects.spillage_level == SpillageLevel.none ? 'It' : 'The box';\n                msg += `\\n${subject} feels ${weight_msg}. You set it back down.`;\n            }\n\n            if (effects.box_collapsed) {\n                msg += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    msg += ' ' + inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n\n            return [new_world, msg];\n        });\n    }\n\n    cut_or_tape_box(operation: EdgeOpWord, face_w: FaceWord, dir: EdgeDirWord, start_pos_a: PositionWord, start_pos_b: PositionWord, end_pos_b: PositionWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let face = word_2_face.get(face_w);\n            if (face !== Face.t && face !== Face.s) {\n                throw new CommandError(`face must be either top or front. got ${face}`);\n            }\n\n            let dim_2_pos = [\n                ['left', 'center', 'right'],\n                ['top','middle', 'bottom']\n            ];\n\n            let dim_a: number;\n            let dim_b: number;\n\n            if (dir == 'vertically') {\n                dim_a = 0;\n                dim_b = 1\n            } else {\n                dim_a = 1;\n                dim_b = 0;\n            }\n\n            if (dim_2_pos[dim_a].indexOf(start_pos_a) == -1) {\n                throw new CommandError(`invalid start_pos_a for ${dir} ${operation}: ${start_pos_a}`);\n            }\n            if (dim_2_pos[dim_b].indexOf(start_pos_b) == -1) {\n                throw new CommandError(`invalid start_pos_b for ${dir} ${operation}: ${start_pos_b}`);\n            }\n            if (dim_2_pos[dim_b].indexOf(end_pos_b) == -1) {\n                throw new CommandError(`invalid end_pos_b for ${dir} ${operation}: ${end_pos_b}`);\n            }\n\n            let pt1: Point2 = [null, null];\n            let pt2: Point2 = [null, null];\n\n            pt1[dim_a] = pt2[dim_a] = dim_2_pos[dim_a].indexOf(start_pos_a);\n\n            pt1[dim_b] = dim_2_pos[dim_b].indexOf(start_pos_b);\n            pt2[dim_b] = dim_2_pos[dim_b].indexOf(end_pos_b);\n\n            if (Math.abs(pt1[dim_b] - pt2[dim_b]) == 0) {\n                throw new CommandError('no change between start_pos_b and end_pos_b.');\n            }\n\n            let cut_points: [Point2, Point2][];\n            if (Math.abs(pt1[dim_b] - pt2[dim_b]) == 2) {\n                let pt3: Point2 = [null, null];\n                pt3[dim_a] = dim_2_pos[dim_a].indexOf(start_pos_a);\n                pt3[dim_b] = 1;\n\n                cut_points = [[pt1, pt3], [pt3, pt2]];\n            } else {\n                cut_points = [[pt1, pt2]];\n            }\n\n            let cut_edge_states = List<EdgeState>();\n\n            let new_box = inner_this.box;\n\n            cut_points.forEach(function ([p1, p2]) {\n                let vertices = new_box.box_mesh.face_meshes.get(face).vertices;\n                let v1 = vertices.get(p1[0], p1[1]);\n                let v2 = vertices.get(p2[0], p2[1]);\n                let edge = new Edge(v1, v2);\n\n                cut_edge_states = cut_edge_states.push(new_box.edge_state.get(edge, new EdgeState()));\n                new_box = new_box.cut_or_tape(word_2_edge_op.get(operation), face, p1, p2);\n            });\n\n            effects.new_dangles.forEach(function (nd) {\n                if (effects.new_rends.contains(nd.partition)) {\n                    effects.new_dangles = effects.new_dangles.remove(effects.new_dangles.indexOf(nd));\n                }\n            });\n\n            effects.repaired_dangles.forEach(function (rd) {\n                if (effects.new_rends.contains(rd.partition)) {\n                    effects.repaired_dangles = effects.repaired_dangles.remove(effects.repaired_dangles.indexOf(rd));\n                }\n            });\n\n            let message: string;\n            if (operation == 'cut') {\n                message = inner_this.cut_message(new_box, cut_edge_states, effects);\n            } else {\n                message = inner_this.tape_message(new_box, cut_edge_states, effects);\n            }\n\n            return [inner_this.update({box: new_box}), message];\n        });\n    }\n\n    cut_message(new_box: Box, cut_edge_states: List<EdgeState>, effects: WorldUpdateEffects) {\n        let cut_message: string;\n        if (cut_edge_states.get(0).cardboard == CardboardEdge.intact) {\n            cut_message = 'You slide your blade along the cardboard';\n            if (cut_edge_states.get(0).tape == TapeEdge.taped) {\n                cut_message += ' and tape';\n            }\n            cut_message += '.';\n        } else {\n            if (cut_edge_states.get(0).tape == TapeEdge.taped) {\n                cut_message = 'You draw your blade easily along the line. It slits open the thin layer of tape covering the gap in the cardboard.';\n            } else {\n                cut_message = 'You slide your blade along the line, but nothing is there to resist it.';\n            }\n        }\n\n        if (cut_edge_states.size > 1) {\n            if (cut_edge_states.get(1).cardboard != cut_edge_states.get(0).cardboard) {\n                if (cut_edge_states.get(1).cardboard == CardboardEdge.intact) {\n                    cut_message += ' Halfway across, it catches on solid cardboard, and you pull it along the rest of the way.';\n                } else {\n                    if (cut_edge_states.get(1).tape == TapeEdge.taped) {\n                        cut_message += ' Halfway across, you reach a gap in the cardboard, and your blade slides easily along the thin layer of tape.';\n                    } else {\n                        cut_message += ' Halfway across, you reach a gap in the cardboard, and your blade is met with no further resistance.';\n                    }\n                }\n            }\n        }\n\n        let message = cut_message;\n        if (effects.new_rends.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.new_rends.forEach(function (r) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(r);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let new_rends_message: string;\n            if (effects.new_rends.size == 1) {\n                new_rends_message = `A new section of cardboard comes free on the ${face_msg}.`;\n            } else {\n                new_rends_message = `${face_order.size} new sections of cardboard come free on the ${face_msg}`;\n            }\n            message += '\\n' + new_rends_message;\n        }\n\n        if (effects.new_dangles.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.new_dangles.forEach(function (d) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(d.partition);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let new_rends_message: string;\n            if (effects.new_dangles.size == 1) {\n                new_rends_message = `A new section of cardboard on the ${face_msg} can be swung freely on a hinge.`;\n            } else {\n                new_rends_message = `${face_order.size} new sections of cardboard on the ${face_msg} can be swung freely on a hinge`;\n            }\n            message += '\\n' + new_rends_message;\n        }\n        return message;\n    }\n\n    tape_message(new_box: Box, cut_edge_states: List<EdgeState>, effects: WorldUpdateEffects) {\n        let tape_message: string;\n        if (cut_edge_states.some((ces) => ces.cardboard == CardboardEdge.intact)) {\n            tape_message = 'You draw out a length of tape and fasten it to the cardboard.';\n        } else {\n            if (cut_edge_states.some((ces) => ces.tape == TapeEdge.taped)) {\n                tape_message = 'You lay another length of tape over the cut edge.';\n            } else {\n                tape_message = 'You seal the gap in the cardboard with a length of tape.';\n            }\n        }\n\n        let message = tape_message;\n        if (effects.repaired_dangles.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.repaired_dangles.forEach(function (d) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(d.partition);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let repaired_dangles_message: string;\n            if (effects.new_rends.size == 1) {\n                repaired_dangles_message = `A formerly freely-swinging section of cardboard on the ${face_msg} can no longer swing on its hinge.`;\n            } else {\n                repaired_dangles_message = `${face_order.size} formerly freely-swinging sections of cardboard on the ${face_msg} can no longer swing on their hinges.`;\n            }\n            message += '\\n' + repaired_dangles_message;\n        }\n        return message;\n    }\n\n    command_cut_box(face_w: FaceWord, dir: EdgeDirWord, start_pos_a: PositionWord, start_pos_b: PositionWord, end_pos_b: PositionWord): CommandResult {\n        return this.cut_or_tape_box('cut', face_w, dir, start_pos_a, start_pos_b, end_pos_b);\n    }\n\n    command_tape_box(face_w: FaceWord, dir: EdgeDirWord, start_pos_a: PositionWord, start_pos_b: PositionWord, end_pos_b: PositionWord): CommandResult {\n        return this.cut_or_tape_box('tape', face_w, dir, start_pos_a, start_pos_b, end_pos_b);\n    }\n\n    item_spill_message(spilled_items: List<Item>){\n        let si = spilled_items;\n        let during_spill_msg: string;\n        let after_spill_msg: string;\n\n        if (si.size == 1) {\n            let item_msg = si.get(0).pre_gestalt();\n            during_spill_msg = `${capitalize(item_msg)} spills out before you.`;\n            after_spill_msg = `It's ${si.get(0).article()} ${si.get(0).name()} - ${si.get(0).post_gestalt()}.`;\n        } else {\n            let item_msg = si.butLast().map((i) => i.pre_gestalt()).join(', ') + ' and ' + si.last().pre_gestalt();\n            during_spill_msg = capitalize(`${item_msg} spill out before you.`);\n\n            let after_msgs = si.map((i) => `${i.article()} ${i.name()} - ${i.post_gestalt()}`);\n            after_spill_msg = \"It's \" + after_msgs.butLast().join(', ') + ' and ' + after_msgs.last() + '.';\n        }\n\n        let spill_msg = during_spill_msg + ' ' + after_spill_msg;\n        return spill_msg;\n    }\n\n    spill_message(new_box: Box) {\n        let effects = world_update.effects;\n\n        let structural_dmg_msgs = List<string>();\n\n        if (effects.spilled_rends.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.spilled_rends.forEach(function (sr) {\n                let sr_mem = new_box.box_mesh.get_partition_face_membership(sr);\n                total_face_membership = counter_update(total_face_membership, sr_mem);\n            });\n            let sr_faces = counter_order(total_face_membership);\n            let f_msg = face_message(sr_faces);\n            let spilled_rends_msg = `free cardboard on the ${f_msg} falls away`;\n            structural_dmg_msgs = structural_dmg_msgs.push(spilled_rends_msg);\n        }\n\n        if (effects.spilled_dangles.size > 0) {\n            let total_face_membership = Map<Face, number>();\n            effects.spilled_dangles.forEach(function (sd) {\n                let sd_mem = new_box.box_mesh.get_partition_face_membership(sd.partition);\n                total_face_membership = counter_update(total_face_membership, sd_mem);\n            });\n            let sd_faces = counter_order(total_face_membership);\n            let f_msg = face_message(sd_faces);\n            let spilled_dangles_msg = `dangling cardboard on the ${f_msg} swings open`;\n            structural_dmg_msgs = structural_dmg_msgs.push(spilled_dangles_msg);\n        }\n\n        let spill_msg = this.item_spill_message(effects.spilled_items);\n        let result: string;\n\n        if (structural_dmg_msgs.size > 0) {\n            let structure_dmg_msg = structural_dmg_msgs.join(' and ');\n            result = `${structure_dmg_msg}. ${spill_msg}`;\n        } else {\n            result = spill_msg;\n        }\n        return result;\n    }\n\n    command_open_dangle(face: FaceWord): CommandResult {\n        return this.open_or_close_dangle('open', face);\n    }\n\n    command_close_dangle(face: FaceWord): CommandResult {\n        return this.open_or_close_dangle('close', face);\n    }\n\n    open_or_close_dangle(operation: RendOpWord, face_w: FaceWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let face = word_2_face.get(face_w)\n            let applicable_dangles = inner_this.box.dangle_state.keySeq().filter((d) => d.free_face == face);\n            let new_box = inner_this.box;\n            let updated = List<Dangle>();\n            applicable_dangles.forEach(function (d){\n                let err = false;\n                try {\n                    new_box = new_box.open_or_close_dangle(word_2_rend_op.get(operation), d);\n                } catch (e) {\n                    err = true;\n                    if (!(e instanceof WorldUpdateError)) {\n                        throw e;\n                    }\n                }\n                if (!err) {\n                    updated = updated.push(d);\n                }\n            });\n            if (updated.size == 0) {\n                throw new WorldUpdateError(`No dangles to ${operation} on ${face} face`);\n            }\n\n            let swing_dir_msg = operation == 'close' ? 'in' : 'out';\n            let num_hinges = updated.map((d) => d.fixed_face).toSet().size;\n            let hinge_msg: string;\n            if (num_hinges == 1) {\n                hinge_msg = 'hinge';\n            } else {\n                hinge_msg = 'hinges';\n            }\n\n            let message = `You swing the cardboard on the ${Face[face]} of the box ${swing_dir_msg} on its ${hinge_msg}`;\n            if (!inner_this.box.appears_open() && new_box.appears_open()) {\n                message += '\\nYou get a glimpse inside the box through the opening.';\n\n                if (new_box.appears_empty()) {\n                    message += \" It's empty.\";\n                } else {\n                    message += ` You can see ${new_box.next_item().pre_gestalt()} inside.`;\n                }\n            }\n            if (effects.box_collapsed) {\n                message += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    message += ' ' + inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n            return [inner_this.update({box: new_box}), message];\n        });\n    }\n\n    command_open_rend(face_w: FaceWord): CommandResult {\n        return this.open_or_close_rend('open', face_w);\n    }\n\n    command_close_rend(face_w: FaceWord): CommandResult {\n        return this.open_or_close_rend('close', face_w);\n    }\n\n    open_or_close_rend(operation: RendOpWord, face_w: FaceWord): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let face = word_2_face.get(face_w);\n            let applicable_rends = List<Partition>();\n            inner_this.box.rend_state.forEach(function (s, r) {\n                let face_membership = inner_this.box.box_mesh.get_partition_face_membership(r);\n                if (face_membership.get(face) > 0) {\n                    applicable_rends = applicable_rends.push(r);\n                }\n            });\n\n            let new_box = inner_this.box;\n            let updated = List<Partition>();\n            applicable_rends.forEach(function (r){\n                let err = false;\n                try {\n                    new_box = new_box.open_or_close_rend(word_2_rend_op.get(operation), r);\n                } catch (e) {\n                    err = true;\n                    if (!(e instanceof WorldUpdateError)) {\n                        throw e;\n                    }\n                }\n                if (!err) {\n                    updated = updated.push(r);\n                }\n            });\n            if (updated.size == 0) {\n                throw new WorldUpdateError(`No rends to ${operation} on ${face} face`);\n            }\n\n            let total_face_membership = Map<Face, number>();\n            total_face_membership = updated.reduce(\n                (total, r) => counter_update(\n                    total,\n                    inner_this.box.box_mesh.get_partition_face_membership(r)),\n                total_face_membership);\n\n            let face_msg = face_message(counter_order(total_face_membership));\n\n            let message: string;\n            if (operation == 'open') {\n                message = `You remove the free cardboard from the ${face_msg} and place it to the side.`;\n            } else {\n                `You replace the missing cardboard from the ${face_msg}.`;\n            }\n\n            if (!inner_this.box.appears_open() && new_box.appears_open()) {\n                message += '\\nYou get a glimpse inside the box through the opening.';\n\n                if (new_box.appears_empty()) {\n                    message += \" It's empty.\";\n                } else {\n                    message += ` You can see ${new_box.next_item().pre_gestalt()} inside.`;\n                }\n            }\n            if (effects.box_collapsed) {\n                message += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.size > 0) {\n                    message += ' ' + inner_this.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n            return [inner_this.update({box: new_box}), message];\n        });\n    }\n\n    command_take_item_box(): CommandResult {\n        let inner_this = this;\n        return with_world_update(function (effects) {\n            let new_box = inner_this.box.take_next_item();\n\n            let new_taken_items = inner_this.taken_items;\n            new_taken_items.push(...effects.taken_items.toArray());\n\n            let item = effects.taken_items.get(0);\n            let message = `You reach in and take ${item.pre_gestalt()}. It's ${item.post_gestalt()}; ${item.article()} ${item.name()}.`;\n        \n            if (new_box.appears_empty()) {\n                message += '\\nThe box is empty now.';\n            } else {\n                message += `\\nYou can now see ${new_box.next_item().pre_gestalt()} inside the box.`;\n            }\n\n            return [inner_this.update({box: new_box, taken_items: new_taken_items}), message];\n        });\n    }\n}\n\nexport class WorldDriver {\n    world: SingleBoxWorld;\n\n    constructor (initial_world: SingleBoxWorld) {\n        this.world = initial_world;\n    }\n\n    apply_command(cmd_name: Token, ...cmd_args: Token[]) {\n        let cmd_method: (...cmd_args: Token[]) => CommandResult;\n        switch (cmd_name) {\n            case 'rotate_y_box':\n                cmd_method = this.world.command_rotate_y_box;\n                break;\n            case 'roll_box':\n                cmd_method = this.world.command_roll_box;\n                break;\n            case 'lift_box':\n                cmd_method = this.world.command_lift_box;\n                break;\n            case 'cut_box':\n                cmd_method = this.world.command_cut_box;\n                break;\n            case 'tape_box':\n                cmd_method = this.world.command_tape_box;\n                break;\n            case 'open_dangle':\n                cmd_method = this.world.command_open_dangle;\n                break;\n            case 'close_dangle':\n                cmd_method = this.world.command_close_dangle;\n                break;\n            case 'open_rend':\n                cmd_method = this.world.command_open_rend;\n                break;\n            case 'close_rend':\n                cmd_method = this.world.command_close_rend;\n                break;\n            case 'take_item_box':\n                cmd_method = this.world.command_take_item_box;\n                break;\n            default:\n                throw new CommandError(`invalid cmd_name given: ${cmd_name}`);\n        }\n        let [new_world, msg] = cmd_method.apply(this.world, cmd_args);\n        let tokens: Token[] = [cmd_name];\n        tokens.push(...cmd_args);\n        //console.log('> ' + tokens.join(' ') + '\\n');\n        //console.log(msg + '\\n');\n        this.world = new_world;\n        return msg\n    }\n\n    run(cmd: string) {\n        let [cmd_name, cmd_args]: [Token, Token[]] = parse_command(cmd);\n        return this.apply_command(cmd_name, ...cmd_args);\n    }\n}\n\nexport function parse_command(cmd: string): [Token, Token[]] {\n    let tokens = cmd.split(/\\s+/);\n    console.log(tokens);\n    return [tokens[0], tokens.slice(1)];\n}\n\nexport function test() {\n    let contents = List<Item>([new Codex(), new Pinecone(), new CityKey()]);\n    let world = new SingleBoxWorld({box: new Box({contents: contents})});\n\n    console.log('NEW WORLD: test heavy spillage when rolling\\n\\n\\n');\n\n    let d = new WorldDriver(world);\n    d.apply_command('lift_box');\n    d.apply_command('roll_box', 'forward');\n    d.apply_command('rotate_y_box', 'left');\n\n    // cut the top face vertically along the center from top to bottom\n    d.apply_command('cut_box', 'top', 'vertically', 'center', 'top', 'bottom');\n\n    // cut the top face vertically along the right edge from top to bottom\n    d.apply_command('cut_box', 'top', 'vertically', 'right', 'top', 'bottom');\n\n    // should result in a dangle\n    // cut the top face horizontally along the top edge from center to right\n    d.apply_command('cut_box', 'top', 'horizontally', 'top', 'center', 'right');\n\n    // should result in a rend\n    // cut the top face horizontally along the bottom edge from center to right\n    d.apply_command('cut_box', 'top', 'horizontally', 'bottom', 'center', 'right');\n\n    d.apply_command('roll_box', 'forward');\n\n    // should result in the rend facing straight down, maybe spilling\n    d.apply_command('roll_box', 'forward');\n\n    d.apply_command('lift_box');\n\n    console.log('\\n\\n\\nNEW WORLD: test heavy spillage and collapse from bottom when lifting\\n\\n\\n');\n    let d2 = new WorldDriver(world);\n\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('rotate_y_box', 'left');\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('rotate_y_box', 'left');\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('rotate_y_box', 'left');\n    d2.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d2.apply_command('lift_box');\n    \n    console.log('\\n\\n\\nNEW WORLD: test taping\\n\\n\\n');\n    let d3 = new WorldDriver(world);\n\n    d3.apply_command('cut_box', 'top', 'horizontally', 'top', 'left', 'right');\n    d3.apply_command('cut_box', 'top', 'horizontally', 'bottom', 'left', 'right');\n    d3.apply_command('cut_box', 'top', 'vertically', 'left', 'top', 'bottom');\n\n    d3.apply_command('open_dangle', 'top');\n    d3.apply_command('take_item_box');\n\n    d3.apply_command('close_dangle', 'top');\n\n    d3.apply_command('cut_box', 'top', 'vertically', 'right', 'top', 'bottom');\n    d3.apply_command('open_rend', 'top');\n    d3.apply_command('take_item_box');\n    d3.apply_command('take_item_box');\n    d3.apply_command('close_rend', 'top');\n\n    d3.apply_command('tape_box', 'top', 'vertically', 'right', 'top', 'bottom');\n    d3.apply_command('tape_box', 'top', 'vertically', 'left', 'top', 'middle');\n\n    console.log('\\n\\n\\nNEW WORLD: test light spillage when rolling and lifting\\n\\n\\n');\n    let d4 = new WorldDriver(world);\n\n    d4.apply_command('cut_box', 'front', 'horizontally', 'top', 'left', 'right');\n    d4.apply_command('cut_box', 'front', 'horizontally', 'bottom', 'left', 'right');\n    d4.apply_command('cut_box', 'front', 'vertically', 'left', 'top', 'bottom');\n\n    d4.apply_command('lift_box');\n\n    d4.apply_command('cut_box', 'front', 'vertically', 'right', 'top', 'bottom');\n\n    d4.apply_command('roll_box', 'right');\n}\n","import {Matrix2, make_matrix2, Dangle, Face, Edge, Partition, faces, EdgeOperation, Point2, Direction, Item, SpillageLevel} from './datatypes';\n\nimport {Map, List, Set, OrderedSet, is} from 'immutable';\n\nexport class WorldUpdateEffects {\n    spill_faces = List<Face>();\n    spilled_items = List<Item>();\n    spilled_rends = Set<Partition>();\n    spilled_dangles = Set<Dangle>();\n    spillage_level = SpillageLevel.none;\n    taken_items = List<Item>();\n    new_rends = List<Partition>();\n    new_dangles = List<Dangle>();\n    repaired_rends = List<Partition>();\n    repaired_dangles = List<Dangle>();\n    box_collapsed = false;\n    collapse_spilled_items = List<Item>();\n}\n\ninterface WorldUpdateEffectsRef {\n    effects?: WorldUpdateEffects\n}\n\nexport let world_update: WorldUpdateEffectsRef = {};\n\nexport function with_world_update(f: (effects: WorldUpdateEffects) => any) {\n    //TODO validate: error if world_update.effects isn't null/undefined\n    world_update.effects = new WorldUpdateEffects();\n    let result = f(world_update.effects);\n    world_update.effects = undefined;\n    return result;\n}\n\n//TODO define world update exceptions"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi8uLi9ub2RlX21vZHVsZXMvaW1tdXRhYmxlL2Rpc3QvaW1tdXRhYmxlLmpzIiwiYm94X2dlb21ldHJ5LnRzIiwiY29tbWFuZHMudHMiLCJkYXRhdHlwZXMudHMiLCJpdGVtcy50cyIsImpxdWVyeS50ZXJtaW5hbC5kLnRzIiwibWFpbi50cyIsInRleHRfdG9vbHMudHMiLCJ3b3JsZC50cyIsIndvcmxkX3VwZGF0ZV9lZmZlY3RzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDMzVLQSwwQkFXc0I7QUFFdEIsMEJBQTZDO0FBRTdDLElBQUksQUFBYSxnQkFBRyxZQUFHLElBQWdCLENBQ25DLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFZLGFBQUMsQ0FDbEIsQ0FBQyxBQUFDLEdBQUcsQUFBQyxHQUFHLEFBQUMsQUFBRSxJQUNaLENBQUMsQUFBQyxHQUFHLEFBQUUsSUFBRSxBQUFFLEFBQUMsS0FDWixDQUFDLEFBQUUsSUFBRSxBQUFFLElBQUUsQUFBRSxBQUFDLEFBQUMsQUFBQyxBQUFDLFFBQ25CLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFZLGFBQUMsQ0FDbEIsQ0FBQyxBQUFFLElBQUUsQUFBRSxJQUFFLEFBQUUsQUFBQyxLQUNaLENBQUMsQUFBRSxJQUFFLEFBQUUsSUFBRSxBQUFFLEFBQUMsS0FDWixDQUFDLEFBQUMsR0FBRyxBQUFDLEdBQUcsQUFBQyxBQUFFLEFBQUMsQUFBQyxBQUFDLE9BQ25CLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFZLGFBQUMsQ0FDbEIsQ0FBQyxBQUFDLEdBQUcsQUFBQyxHQUFHLEFBQUMsQUFBRSxJQUNaLENBQUMsQUFBQyxHQUFHLEFBQUMsR0FBRyxBQUFDLEFBQUUsSUFDWixDQUFDLEFBQUMsR0FBRyxBQUFDLEdBQUcsQUFBQyxBQUFFLEFBQUMsQUFBQyxBQUFDLE9BQ25CLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFZLGFBQUMsQ0FDbEIsQ0FBQyxBQUFFLElBQUUsQUFBRSxJQUFFLEFBQUMsQUFBRSxJQUNaLENBQUMsQUFBRSxJQUFFLEFBQUUsSUFBRSxBQUFDLEFBQUUsSUFDWixDQUFDLEFBQUUsSUFBRSxBQUFFLElBQUUsQUFBQyxBQUFFLEFBQUMsQUFBQyxBQUFDLE9BQ25CLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFZLGFBQUMsQ0FDbEIsQ0FBQyxBQUFFLElBQUUsQUFBRSxJQUFFLEFBQUUsQUFBQyxLQUNaLENBQUMsQUFBRSxJQUFFLEFBQUUsSUFBRSxBQUFFLEFBQUMsS0FDWixDQUFDLEFBQUUsSUFBRSxBQUFFLElBQUUsQUFBRSxBQUFDLEFBQUMsQUFBQyxBQUFDLFFBQ25CLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFZLGFBQUMsQ0FDbEIsQ0FBQyxBQUFDLEdBQUcsQUFBQyxHQUFHLEFBQUUsQUFBQyxLQUNaLENBQUMsQUFBQyxHQUFHLEFBQUUsSUFBRSxBQUFFLEFBQUMsS0FDWixDQUFDLEFBQUMsR0FBRyxBQUFFLElBQUUsQUFBRSxBQUFDLEFBQUMsQUFBQyxBQUFDLEFBQ3RCLEFBQUMsQUFBQztBQUVILElBQUksQUFBYyxpQkFBRyxZQUFHLElBQWdCLENBQ3BDLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFZLGFBQUMsQ0FDbEIsQ0FBQyxBQUFDLEdBQUcsQUFBQyxBQUFFLElBQ1IsQ0FBQyxBQUFDLEdBQUcsQUFBQyxBQUFFLEFBQUMsQUFBQyxBQUFDLE9BQ2YsQ0FBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLFlBQVksYUFBQyxDQUNsQixDQUFDLEFBQUMsR0FBRyxBQUFDLEFBQUUsSUFDUixDQUFDLEFBQUMsR0FBRyxBQUFDLEFBQUUsQUFBQyxBQUFDLEFBQUMsT0FDZixDQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsWUFBWSxhQUFDLENBQ2xCLENBQUMsQUFBQyxHQUFHLEFBQUMsQUFBRSxJQUNSLENBQUMsQUFBRSxJQUFFLEFBQUUsQUFBQyxBQUFDLEFBQUMsQUFBQyxRQUNmLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFZLGFBQUMsQ0FDbEIsQ0FBQyxBQUFFLElBQUUsQUFBRSxBQUFDLEtBQ1IsQ0FBQyxBQUFFLElBQUUsQUFBRSxBQUFDLEFBQUMsQUFBQyxBQUFDLFFBQ2YsQ0FBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLFlBQVksYUFBQyxDQUNsQixDQUFDLEFBQUUsSUFBRSxBQUFFLEFBQUMsS0FDUixDQUFDLEFBQUUsSUFBRSxBQUFFLEFBQUMsQUFBQyxBQUFDLEFBQUMsUUFDZixDQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsWUFBWSxhQUFDLENBQ2xCLENBQUMsQUFBRSxJQUFFLEFBQUUsQUFBQyxLQUNSLENBQUMsQUFBRSxJQUFFLEFBQUUsQUFBQyxBQUFDLEFBQUMsQUFBQyxBQUNsQixBQUFDLEFBQUM7QUFFSDtBQUNJLFFBQUksQUFBZ0IsbUJBQUcsWUFBRyxBQUFzQixBQUFDO0FBQ2pELFFBQUksQUFBZ0IsbUJBQUcsWUFBRyxBQUFzQixBQUFDOzs7Ozs7O2dCQUV4QyxBQUFDOztBQUNOLGdCQUFJLEFBQUUsS0FBRyxBQUFhLGNBQUMsQUFBRyxJQUFDLEFBQUMsQUFBQyxBQUFDO0FBQzlCLGdCQUFJLEFBQUUsS0FBRyxBQUFjLGVBQUMsQUFBRyxJQUFDLEFBQUMsQUFBQyxBQUFDO3VCQUNaLENBQUMsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQzs7OztvQkFBdEMsQUFBQztvQkFBRSxBQUFDLEFBQUM7O0FBQ1gsb0JBQUksQUFBTyxVQUFHLEFBQWtCLG1CQUFDLEFBQUUsSUFBRSxBQUFDLEdBQUUsQUFBQyxBQUFDLEFBQUM7QUFDM0MsQUFBZ0IsbUNBQUcsQUFBZ0IsaUJBQUMsQUFBRyxJQUFDLEFBQUUsR0FBQyxBQUFHLElBQUMsQUFBQyxHQUFFLEFBQUMsQUFBQyxJQUFFLEFBQU8sQUFBQyxBQUFDO0FBQy9ELEFBQU8sd0JBQUMsQUFBTyxRQUFDLFVBQVUsQUFBRTtBQUN4Qix3QkFBSSxBQUFDLElBQUcsQUFBRSxHQUFDLEFBQUcsSUFBQyxBQUFDLEdBQUUsQUFBQyxBQUFDLEFBQUM7QUFDckIsQUFBRSxBQUFDLHdCQUFDLEFBQWdCLGlCQUFDLEFBQUcsSUFBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQUM7QUFDM0IsQUFBZ0IsNERBQW9CLEFBQU0sT0FBQyxBQUFFLGNBQUcsQUFBRTtBQUFILG1DQUFRLEFBQUUsR0FBQyxBQUFJLEtBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQyxBQUN2RTt5QkFEdUIsQUFBZ0I7QUFDdEMsQUFBQyxBQUFJLDJCQUFDLEFBQUM7QUFDSixBQUFnQiwyQ0FBRyxBQUFnQixpQkFBQyxBQUFHLElBQUMsQUFBRSxJQUFFLFlBQUksS0FBUyxDQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQyxBQUNuRTtBQUFDLEFBQ0w7QUFBQyxBQUFDLEFBQUMsQUFDUDs7O0FBWEEsQUFBRyxBQUFDLEFBQUMsQUFBSTtBQUF1QyxBQUFDO0FBV2hELEFBQ0w7OztBQWZBLEFBQUcsQUFBQyxBQUFDLDZCQUFTLFlBQUssQUFBQztBQUFBLEFBQUM7QUFlcEI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFRCxBQUFNLFdBQUMsQ0FBQyxBQUFnQixrQkFBRSxBQUFnQixBQUFDLEFBQUMsQUFDaEQ7QUFBQztBQUVELDRCQUE0QixBQUFVLEdBQUUsQUFBUyxHQUFFLEFBQVM7QUFDeEQsUUFBSSxBQUFPLFVBQUcsQ0FDVixDQUFDLEFBQUMsR0FBQyxBQUFDLEdBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUNULENBQUMsQUFBQyxHQUFDLEFBQUMsR0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQ1QsQ0FBQyxBQUFDLEdBQUMsQUFBQyxHQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFDVCxDQUFDLEFBQUMsR0FBQyxBQUFDLEdBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUNaLEFBQUM7QUFDRixRQUFJLEFBQUssUUFBRyxZQUFJLEFBQVEsQUFBQzs7Ozs7O0FBQ3pCLEFBQUcsQUFBQyxBQUFDLEFBQUksOEJBQW9CLEFBQU8sQUFBQztBQUFBLEFBQUM7Z0JBQTVCLEFBQUU7Z0JBQUUsQUFBRTtnQkFBRSxBQUFFO2dCQUFFLEFBQUUsQUFBQzs7QUFDckIsZ0JBQUksQUFBRSxLQUFHLEFBQUMsRUFBQyxBQUFHLElBQUMsQUFBQyxJQUFDLEFBQUUsSUFBRSxBQUFDLElBQUMsQUFBRSxBQUFDLEFBQUM7QUFDM0IsZ0JBQUksQUFBRSxLQUFHLEFBQUMsRUFBQyxBQUFHLElBQUMsQUFBQyxJQUFDLEFBQUUsSUFBRSxBQUFDLElBQUMsQUFBRSxBQUFDLEFBQUM7QUFDM0IsQUFBRSxBQUFDLGdCQUFDLEFBQUUsS0FBRyxBQUFFLEFBQUMsSUFBQSxBQUFDO0FBQ1QsQUFBSyx3QkFBRyxBQUFLLE1BQUMsQUFBSSxLQUFDLElBQUksWUFBSSxLQUFDLEFBQUUsSUFBRSxBQUFFLEFBQUMsQUFBQyxBQUFDLEFBQ3pDO0FBQUMsQUFBQyxBQUFJLG1CQUFDLEFBQUM7QUFDSixBQUFLLHdCQUFHLEFBQUssTUFBQyxBQUFJLEtBQUMsSUFBSSxZQUFJLEtBQUMsQUFBRSxJQUFFLEFBQUUsQUFBQyxBQUFDLEFBQUMsQUFDekM7QUFBQyxBQUNMO0FBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDRCxBQUFNLFdBQUMsQUFBSyxBQUFDLEFBQ2pCO0FBQUM7QUFFVSxLQUFxRSxnQ0FBcEUsOEJBQWdCLElBQUUsOEJBQWdCLEFBQW1DO0FBRWpGLGdDQUFnQyxBQUFnQixVQUFFLEFBQXFCO0FBQ25FLFFBQUksQUFBaUIsb0JBQUcsWUFBRyxJQUFTLENBQUMsQUFBUSxBQUFDLEFBQUMsV0FBQyxBQUFTLEFBQUUsQUFBQztBQUM1RCxRQUFJLEFBQU8sVUFBRyxZQUFJLEtBQU8sUUFBZ0IsaUJBQUMsQUFBRyxJQUFDLEFBQVEsQUFBQyxBQUFDLFdBQUMsQUFBUyxBQUFFLEFBQUM7QUFFckUsV0FBTyxBQUFPLFFBQUMsQUFBSSxPQUFHLEFBQUMsR0FBQyxBQUFDO0FBQ3JCLFlBQUksQUFBQyxJQUFHLEFBQU8sUUFBQyxBQUFLLEFBQUUsQUFBQztBQUFDLEFBQU8sa0JBQUcsQUFBTyxRQUFDLEFBQUssQUFBRSxBQUFDO0FBQ25ELEFBQUUsQUFBQyxZQUFDLEFBQVMsVUFBQyxBQUFRLFNBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQSxBQUFDO0FBQ3ZCLEFBQVEsQUFBQyxBQUNiO0FBQUM7QUFDRCxZQUFJLEFBQU8sVUFBRyxZQUFHLElBQVMsUUFBZ0IsaUJBQUMsQUFBRyxJQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUM7QUFDbkQsWUFBSSxBQUFNLFNBQUcsQUFBTyxRQUFDLEFBQVEsU0FBQyxBQUFpQixBQUFDLEFBQUM7QUFDakQsQUFBRSxBQUFDLFlBQUMsQUFBTSxPQUFDLEFBQUksT0FBRyxBQUFDLEFBQUMsR0FBQyxBQUFDO0FBQ2xCLEFBQU0sbUJBQUMsQUFBTyxRQUFDLFVBQVUsQUFBQzs7O0FBQ3RCLEFBQU8scUNBQUMsQUFBSSxBQUFDLHdDQUFHLFFBQWdCLGlCQUFDLEFBQUcsSUFBQyxBQUFDLEFBQUMsR0FBQyxBQUFPLEFBQUUsQUFBQyxBQUFDO0FBQ25ELEFBQWlCLGtDQUFDLEFBQUcsSUFBQyxBQUFDLEFBQUMsQUFBQyxBQUM3QjtBQUFDLEFBQUMsQUFBQyxBQUNQO0FBQUMsQUFDTDtBQUFDO0FBQ0QsQUFBTSxXQUFDLEFBQWlCLGtCQUFDLEFBQVcsQUFBRSxBQUFDLEFBQzNDO0FBQUM7QUFFRCxlQUFlLEFBQVM7QUFDcEIsUUFBSSxBQUFHLE1BQWEsQUFBRSxBQUFDO0FBQ3ZCLEFBQUcsQUFBQyxTQUFDLElBQUksQUFBQyxJQUFHLEFBQUMsR0FBRSxBQUFDLElBQUcsQUFBQyxHQUFFLEFBQUMsQUFBRSxLQUFDLEFBQUM7QUFDdkIsQUFBRyxZQUFDLEFBQUksS0FBQyxBQUFDLEFBQUMsQUFBQyxBQUNqQjtBQUFDO0FBQ0QsQUFBTSxXQUFDLEFBQUcsQUFBQyxBQUNmO0FBQUM7QUFFRCx3QkFBd0IsQUFBcUI7QUFDekMsUUFBSSxBQUFVLGFBQUcsWUFBSSxBQUFhLE9BQUMsQUFBUyxBQUFFLEFBQUM7QUFDL0MsUUFBSSxBQUFTLFlBQUcsWUFBRyxJQUFTLEFBQUssTUFBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQVMsQUFBRSxBQUFDO0FBQ25ELFdBQU8sQUFBUyxVQUFDLEFBQUksT0FBRyxBQUFDLEdBQUMsQUFBQztBQUN2QixZQUFJLEFBQUMsSUFBRyxBQUFTLFVBQUMsQUFBSyxBQUFFLEFBQUM7QUFBQyxBQUFTLGtCQUFDLEFBQU0sT0FBQyxBQUFDLEFBQUMsQUFBQztBQUMvQyxZQUFJLEFBQVMsWUFBRyxBQUFzQix1QkFBQyxBQUFDLEdBQUUsQUFBUyxBQUFDLEFBQUM7QUFDckQsQUFBVSxtQkFBQyxBQUFJLEtBQUMsQUFBUyxBQUFDLEFBQUM7QUFDM0IsQUFBUyxrQkFBQyxBQUFRLFNBQUMsQUFBUyxBQUFDLEFBQUMsQUFDbEM7QUFBQztBQUNELEFBQU0sV0FBQyxBQUFVLFdBQUMsQUFBVyxBQUFFLEFBQUMsQUFDcEM7QUFBQyxBQUVEOzs7QUFJSSxzQkFBWSxBQUFpQixVQUFFLEFBQWtCOzs7QUFDN0MsQUFBSSxhQUFDLEFBQVEsV0FBRyxBQUFRLEFBQUM7QUFDekIsQUFBSSxhQUFDLEFBQVMsWUFBRyxBQUFTLEFBQUMsQUFDL0I7QUFBQyxBQUVELEFBQU07Ozs7K0JBQUMsQUFBZTtBQUNsQixBQUFNLG1CQUFDLElBQUksQUFBUSxTQUFDLEFBQUksS0FBQyxBQUFRLFNBQUMsQUFBTSxPQUFDLEFBQU8sQUFBQyxVQUFFLEFBQUksS0FBQyxBQUFTLFVBQUMsQUFBTSxPQUFDLEFBQU8sQUFBQyxBQUFDLEFBQUMsQUFDdkY7QUFBQyxBQUNKOzs7Ozs7QUFaRCxtQkFZQyxBQVFEOzs7QUFLSSxBQUFZO1lBQUMsQUFBVTtZQUFFLEFBQVc7WUFBRSxBQUFTLEFBQWdCOzs7O0FBQzNELEFBQUksYUFBQyxBQUFVLGFBQUcsQUFBVSxBQUFDO0FBRTdCLEFBQUUsQUFBQyxZQUFDLEFBQVcsZ0JBQUssQUFBUyxBQUFDO0FBQzFCLEFBQVcsMEJBQUcsWUFBRyxBQUFrQixBQUFDO0FBRFQsQUFBQzs7Ozs7QUFFNUIsQUFBRyxBQUFDLEFBQUMsc0NBQVMsWUFBSyxBQUFDO0FBQUEsQUFBQyx3QkFBWixBQUFDOztBQUNOLEFBQVcsa0NBQUcsQUFBVyxZQUFDLEFBQUcsSUFBQyxBQUFDLEdBQzNCLElBQUksQUFBUSxTQUFDLEFBQWEsY0FBQyxBQUFHLElBQUMsQUFBQyxBQUFDLElBQUUsQUFBYyxlQUFDLEFBQUcsSUFBQyxBQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUMsQUFDbkU7QUFBQyxBQUNMOzs7Ozs7Ozs7Ozs7Ozs7QUFBQztBQUNELEFBQUksYUFBQyxBQUFXLGNBQUcsQUFBVyxBQUFDO0FBRS9CLEFBQUUsQUFBQyxZQUFDLEFBQVMsY0FBSyxBQUFTLEFBQUMsV0FBQSxBQUFDO0FBQ3pCLEFBQVMsd0JBQUcsWUFBSSxBQUFRLEFBQUMsQUFDN0I7QUFBQztBQUNELEFBQUksYUFBQyxBQUFTLFlBQUcsQUFBUyxBQUFDLEFBQy9CO0FBQUMsQUFFRCxBQUFNLEFBQUM7Ozs7O2dCQUFDLEFBQVU7Z0JBQUUsQUFBVztnQkFBRSxBQUFTLEFBQWdCOztBQUN0RCxBQUFFLEFBQUMsZ0JBQUMsQUFBVSxlQUFLLEFBQVMsQUFBQyxXQUFBLEFBQUM7QUFDMUIsQUFBVSw2QkFBRyxBQUFJLEtBQUMsQUFBVSxBQUFDLEFBQ2pDO0FBQUM7QUFFRCxBQUFFLEFBQUMsZ0JBQUMsQUFBVyxnQkFBSyxBQUFTLEFBQUMsV0FBQSxBQUFDO0FBQzNCLEFBQVcsOEJBQUcsQUFBSSxLQUFDLEFBQVcsQUFBQyxBQUNuQztBQUFDO0FBRUQsQUFBRSxBQUFDLGdCQUFDLEFBQVMsY0FBSyxBQUFTLEFBQUMsV0FBQSxBQUFDO0FBQ3pCLEFBQVMsNEJBQUcsQUFBSSxLQUFDLEFBQVMsQUFBQyxBQUMvQjtBQUFDO0FBQ0QsQUFBTSxtQkFBQyxJQUFJLEFBQU8sUUFBQyxFQUFDLEFBQVUsd0JBQUUsQUFBVywwQkFBRSxBQUFTLEFBQUMsQUFBQyxBQUFDLEFBQzdEO0FBQUMsQUFFRCxBQUFHOzs7NEJBQUMsQUFBVSxNQUFFLEFBQWEsT0FBRSxBQUFXO0FBQ3RDLEFBQU0sbUJBQUMsQUFBSSxLQUFDLEFBQVcsWUFBQyxZQUFhLGNBQUMsQUFBRyxLQUFFLEFBQUksTUFBRSxBQUFLLE9BQUUsQUFBRyxBQUFDLEFBQUMsQUFDakU7QUFBQyxBQUVELEFBQUk7Ozs2QkFBQyxBQUFVLE1BQUUsQUFBYSxPQUFFLEFBQVc7QUFDdkMsQUFBTSxtQkFBQyxBQUFJLEtBQUMsQUFBVyxZQUFDLFlBQWEsY0FBQyxBQUFJLE1BQUUsQUFBSSxNQUFFLEFBQUssT0FBRSxBQUFHLEFBQUMsQUFBQyxBQUNsRTtBQUFDLEFBRUQsQUFBVzs7O29DQUFDLEFBQXdCLFdBQUUsQUFBVSxNQUFFLEFBQWEsT0FBRSxBQUFXO0FBQ3hFLEFBQUksd0NBQVcsQUFBSyxBQUFDLEFBQ3JCLEFBQUk7Z0JBREMsQUFBRTtnQkFBRSxBQUFFLEFBQUM7O3NDQUNHLEFBQUcsQUFBQztnQkFBZCxBQUFFO2dCQUFFLEFBQUUsQUFBQzs7QUFFWixBQUFFLEFBQUMsZ0JBQUMsQUFBSSxLQUFDLEFBQUcsSUFBQyxBQUFFLEtBQUcsQUFBRSxBQUFDLE1BQUcsQUFBSSxLQUFDLEFBQUcsSUFBQyxBQUFFLEtBQUcsQUFBRSxBQUFDLE9BQUksQUFBQyxBQUFDLEdBQUEsQUFBQztBQUM1QyxBQUFNLDhFQUFzRCxBQUFLLGtCQUFRLEFBQUcsQUFBRSxBQUFDLEFBQ25GO0FBQUM7QUFFRCxnQkFBSSxBQUFDLElBQUcsQUFBSSxLQUFDLEFBQVcsWUFBQyxBQUFHLElBQUMsQUFBSSxBQUFDLE1BQUMsQUFBUSxBQUFDO0FBQzVDLGdCQUFJLEFBQUUsS0FBRyxBQUFDLEVBQUMsQUFBRyxJQUFDLEFBQUUsSUFBRSxBQUFFLEFBQUMsQUFBQztBQUN2QixnQkFBSSxBQUFFLEtBQUcsQUFBQyxFQUFDLEFBQUcsSUFBQyxBQUFFLElBQUUsQUFBRSxBQUFDLEFBQUM7QUFFdkIsZ0JBQUksQUFBUSxXQUFHLElBQUksWUFBSSxLQUFDLEFBQUUsSUFBRSxBQUFFLEFBQUMsQUFBQztBQUVoQyxnQkFBSSxBQUFhLGdCQUFHLEFBQUksS0FBQyxBQUFTLEFBQUM7QUFDbkMsQUFBRSxBQUFDLGdCQUFDLEFBQVMsYUFBSSxZQUFhLGNBQUMsQUFBRyxPQUFJLENBQUMsQUFBYSxjQUFDLEFBQVEsU0FBQyxBQUFRLEFBQUMsQUFBQyxXQUFDLEFBQUM7QUFDdEUsQUFBYSxnQ0FBRyxBQUFhLGNBQUMsQUFBSSxLQUFDLEFBQVEsQUFBQyxBQUFDLEFBQ2pEO0FBQUM7QUFFRCxBQUFFLEFBQUMsZ0JBQUMsQUFBUyxhQUFJLFlBQWEsY0FBQyxBQUFJLFFBQUksQUFBYSxjQUFDLEFBQVEsU0FBQyxBQUFRLEFBQUMsQUFBQyxXQUFDLEFBQUM7QUFDdEUsQUFBYSxnQ0FBRyxBQUFhLGNBQUMsQUFBTSxPQUFDLEFBQWEsY0FBQyxBQUFPLFFBQUMsQUFBUSxBQUFDLEFBQUMsQUFBQyxBQUMxRTtBQUFDO0FBRUQsQUFBTSxtQkFBQyxBQUFJLEtBQUMsQUFBTSxPQUFDLEVBQUMsQUFBUyxXQUFFLEFBQWEsQUFBQyxBQUFDLEFBQUMsQUFDbkQ7QUFBQyxBQUVELEFBQVM7Ozs7QUFDTCxBQUFNLG1CQUFDLEFBQWMsZUFBQyxBQUFJLEtBQUMsQUFBUyxBQUFDLEFBQUMsQUFDMUM7QUFBQyxBQUVELEFBQWM7Ozs7OztBQUNWLEFBQU0sd0JBQU0sQUFBUyxBQUFFLFlBQUMsQUFBTTtBQUFDLEFBQUMsdUJBQUksQ0FBQyxBQUFJLE1BQUMsQUFBa0IsbUJBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQyxBQUNyRTthQURXLEFBQUk7QUFDZCxBQUVELEFBQWtCOzs7MkNBQUMsQUFBc0I7QUFDckMsZ0JBQUksQUFBZSxrQkFBRyxBQUFJLEtBQUMsQUFBNkIsOEJBQUMsQUFBUyxBQUFDLEFBQUM7QUFDcEUsQUFBTSxtQkFBQyxBQUFlLGdCQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEtBQUcsQUFBQyxBQUFDLEFBQzNDO0FBQUMsQUFFRCxBQUE2Qjs7O3NEQUFDLEFBQW9COzs7QUFDOUMsZ0JBQUksQUFBZSxrQkFBRyxZQUFHLEFBQWdCLE1BQUMsQUFBUyxBQUFFLEFBQUM7Ozs7Ozs7d0JBQzdDLEFBQUM7O0FBQ04sd0JBQUksQUFBSyxRQUFHLEFBQUMsQUFBQztBQUNkLHdCQUFJLEFBQVMsWUFBRyxBQUFJLE9BQUMsQUFBVyxZQUFDLEFBQUcsSUFBQyxBQUFDLEFBQUMsR0FBQyxBQUFTLEFBQUM7QUFDbEQsQUFBUyw4QkFBQyxBQUFPLFFBQUMsVUFBVSxBQUFDO0FBQ3pCLEFBQUUsQUFBQyw0QkFBQyxBQUFTLFVBQUMsQUFBUSxTQUFDLEFBQUMsQUFBQyxBQUFDLElBQUEsQUFBQztBQUN2QixBQUFLLHFDQUFJLEFBQUMsQUFBQyxBQUNmO0FBQUMsQUFDTDtBQUFDLEFBQUMsQUFBQztBQUNILEFBQWUsb0NBQUMsQUFBRyxJQUFDLEFBQUMsR0FBRSxBQUFLLEFBQUMsQUFBQyxBQUNsQzs7O0FBVEEsQUFBRyxBQUFDLEFBQUMsc0NBQVMsWUFBSyxBQUFDO0FBQUMsQUFBQztBQVNyQjs7Ozs7Ozs7Ozs7Ozs7OztBQUNELEFBQU0sbUJBQUMsQUFBZSxnQkFBQyxBQUFXLEFBQUUsQUFBQyxBQUN6QztBQUFDLEFBRUQsQUFBaUI7OzswQ0FBQyxBQUFnQjs7Ozs7O0FBQzlCLEFBQUcsQUFBQyxBQUFDLHNDQUFTLFlBQUssQUFBQztBQUFBLEFBQUMsd0JBQVosQUFBQzs7QUFDTixBQUFFLEFBQUMsd0JBQUMsQUFBSSxLQUFDLEFBQVcsWUFBQyxBQUFHLElBQUMsQUFBQyxBQUFDLEdBQUMsQUFBUyxVQUFDLEFBQVEsU0FBQyxBQUFRLEFBQUMsQUFBQyxXQUFDLEFBQUM7QUFDdkQsQUFBTSwrQkFBQyxBQUFDLEFBQUMsQUFDYjtBQUFDLEFBQ0w7QUFBQyxBQUNMOzs7Ozs7Ozs7Ozs7Ozs7QUFBQyxBQUVELEFBQVc7Ozs7OztBQUNQLGdCQUFJLEFBQUssUUFBRyxBQUFJLEtBQUMsQUFBUyxBQUFFLEFBQUM7QUFDN0IsZ0JBQUksQUFBVyxvQkFBUyxBQUFNO0FBQUMsQUFBQyx1QkFBSSxBQUFJLE9BQUMsQUFBa0IsbUJBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQzthQUE5QyxBQUFLO0FBRXZCLGdCQUFJLEFBQU8sVUFBRyxZQUFJLEFBQVUsT0FBQyxBQUFTLEFBQUUsQUFBQztBQUN6QyxnQkFBSSxBQUFVLGFBQUcsQUFBSSxBQUFDO0FBRXRCLEFBQUksaUJBQUMsQUFBYSxBQUFFLGdCQUFDLEFBQU8sUUFBQyxBQUFVOzs7O29CQUFDLEFBQUU7b0JBQUUsQUFBRSxBQUFDOztBQUMzQyxvQkFBSSxBQUFTLFlBQUcsWUFBRyxBQUEyQixNQUFDLEFBQVMsQUFBRSxBQUFDOzRCQUM3QyxDQUFDLEFBQUUsSUFBRSxBQUFFLEFBQUMsQUFBQzs7O0FBQWxCLHdCQUFJLEFBQUM7QUFDTix3QkFBSSxBQUFTLFlBQUcsWUFBRyxBQUFnQixNQUFDLEFBQVMsQUFBRSxBQUFDO0FBQ2hELDRCQUFnQixpQkFBQyxBQUFHLElBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTyxRQUFDLFVBQVUsQUFBQztBQUN2QyxBQUFTLGtDQUFDLEFBQUcsSUFBQyxBQUFDLEdBQUUsQUFBVSxXQUFDLEFBQWlCLGtCQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUMsQUFDdEQ7QUFBQyxBQUFDLEFBQUM7QUFDRixBQUFTLGdDQUFHLEFBQVMsVUFBQyxBQUFXLEFBQUU7QUFDcEMsQUFBUyw4QkFBQyxBQUFHLElBQUMsQUFBQyxHQUFFLEFBQVMsQUFBQyxBQUFDLEFBQ2hDOzs7QUFQQSxBQUFHLEFBQUM7QUFBbUIsQUFBQztBQU92QjtBQUNELEFBQVMsNEJBQUcsQUFBUyxVQUFDLEFBQVcsQUFBRSxBQUFDO0FBRXBDLG9CQUFJLEFBQVksZUFBRyxZQUFJLEFBQVUsT0FBQyxBQUFTLEFBQUUsQUFBQzs0QkFFL0IsQ0FBQyxDQUFDLEFBQUUsSUFBRSxBQUFFLEFBQUMsS0FBRSxDQUFDLEFBQUUsQUFBQyxLQUFFLENBQUMsQUFBRSxBQUFDLEFBQUMsQUFBQzs7Ozs7QUFBakMsd0JBQUksQUFBRTtBQUNQLHdCQUFJLEFBQWEsZ0JBQUcsQUFBVSxvQ0FBQyxBQUFTLFdBQUMsQUFBSSxBQUFDLHFEQUFHLEFBQUUsQUFBQyxBQUFDO0FBQ3JELHdCQUFJLEFBQWMsaUJBQUcsQUFBYyxlQUFDLEFBQWEsQUFBQyxBQUFDO0FBRW5ELEFBQUUsQUFBQyx3QkFBQyxBQUFjLGVBQUMsQUFBSSxRQUFJLEFBQUssTUFBQyxBQUFJLEFBQUMsTUFBQyxBQUFDO0FBRXBDLEFBQWMsdUNBQUMsQUFBTyxRQUFDLFVBQVUsQUFBRTtBQUMvQixBQUFFLEFBQUMsZ0NBQUMsQUFBSyxNQUFDLEFBQVEsU0FBQyxBQUFFLEFBQUMsQUFBQyxLQUFBLEFBQUM7QUFDcEIsQUFBTSxBQUFDLEFBQ1g7QUFBQztBQUVELEFBQUUsQUFBQyxnQ0FBQyxBQUFVLFdBQUMsQUFBa0IsbUJBQUMsQUFBRSxBQUFDLEFBQUMsS0FBQyxBQUFDO0FBQ3BDLEFBQU0sQUFBQyxBQUNYO0FBQUM7QUFFRCxnQ0FBSSxBQUFpQixvQkFBRyxBQUFLLEFBQUM7QUFDOUIsQUFBVyx3Q0FBQyxBQUFPLFFBQUMsVUFBVSxBQUFVO0FBQ3BDLEFBQUUsQUFBQyxvQ0FBQyxBQUFFLEdBQUMsQUFBUyxVQUFDLEFBQVUsQUFBQyxZQUFDLEFBQUksT0FBRyxBQUFDLEFBQUMsR0FBQSxBQUFDO0FBQ25DLEFBQWlCLHdEQUFHLEFBQUksQUFBQyxBQUM3QjtBQUFDLEFBQ0w7QUFBQyxBQUFDLEFBQUM7QUFDSCxBQUFFLEFBQUMsZ0NBQUMsQ0FBQyxBQUFpQixBQUFDLG1CQUFDLEFBQUM7QUFDckIsQUFBTSxBQUFDLEFBQ1g7QUFBQztBQUVELGdDQUFJLEFBQWtCLHFCQUFHLEFBQUssQUFBQztBQUMvQixBQUFZLHlDQUFDLEFBQU8sUUFBQyxVQUFVLEFBQUU7QUFDN0IsQUFBRSxBQUFDLG9DQUFDLFlBQUUsR0FBQyxBQUFFLElBQUUsQUFBRSxHQUFDLEFBQVMsQUFBQyxBQUFDLFlBQUEsQUFBQztBQUN0QixBQUFrQix5REFBRyxBQUFJLEFBQUM7QUFDMUIsQUFBTSxBQUFDLEFBQ1g7QUFBQyxBQUNMO0FBQUMsQUFBQyxBQUFDO0FBQ0gsQUFBRSxBQUFDLGdDQUFDLEFBQWtCLEFBQUMsb0JBQUEsQUFBQztBQUNwQixBQUFNLEFBQUMsQUFDWDtBQUFDO0FBRUQsZ0NBQUksQUFBTSxTQUFHLFlBQUksQUFBcUIsT0FBQyxBQUFTLEFBQUUsQUFBQzs7Ozs7O0FBQ25ELEFBQUcsQUFBQyxBQUFDLHNEQUFTLEFBQUUsQUFBQztBQUFDLEFBQUMsd0NBQVYsQUFBQzs7QUFDTixBQUFNLDJDQUFDLEFBQUksS0FBQyxBQUFTLFVBQUMsQUFBRyxJQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUMsQUFDbEM7QUFBQzs7Ozs7Ozs7Ozs7Ozs7OztBQUNELEFBQU0scUNBQUcsQUFBTSxPQUFDLEFBQVcsQUFBRSxBQUFDO0FBRTlCLGdDQUFJLEFBQVEsV0FBRyxZQUFJLEFBQVEsT0FBQyxBQUFTLEFBQUUsQUFBQztBQUN4QyxnQ0FBSSxBQUFTLFlBQUcsWUFBSSxBQUFRLE9BQUMsQUFBUyxBQUFFLEFBQUM7QUFFekMsQUFBTSxtQ0FBQyxBQUFPLFFBQUMsVUFBVSxBQUFLO0FBQzFCLEFBQUssc0NBQUMsQUFBUSxBQUFFLFdBQUMsQUFBTyxRQUFDLEFBQVU7O3dDQUFDLEFBQUM7d0NBQUUsQUFBQyxBQUFDOztBQUNyQyxBQUFFLEFBQUMsd0NBQUMsQUFBRSxHQUFDLEFBQVEsU0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUM7QUFDakIsQUFBUyxvREFBRyxBQUFTLFVBQUMsQUFBSSxLQUFDLEFBQUMsQUFBQyxBQUFDLEFBQ2xDO0FBQUMsQUFBQyxBQUFJLDJDQUFDLEFBQUM7QUFDSixBQUFRLG1EQUFHLEFBQVEsU0FBQyxBQUFJLEtBQUMsQUFBQyxBQUFDLEFBQUMsQUFDaEM7QUFBQyxBQUNMO0FBQUMsQUFBQyxBQUFDLEFBQ1A7QUFBQyxBQUFDLEFBQUM7QUFDSCxBQUFRLHVDQUFHLEFBQVEsU0FBQyxBQUFXLEFBQUUsQUFBQztBQUNsQyxBQUFTLHdDQUFHLEFBQVMsVUFBQyxBQUFXLEFBQUUsQUFBQztBQUVwQyxBQUFFLEFBQUMsZ0NBQUMsQUFBUSxTQUFDLEFBQUssQUFBRSxRQUFDLEFBQUksUUFBSSxBQUFDLEtBQUksQUFBUyxVQUFDLEFBQUssQUFBRSxRQUFDLEFBQUksUUFBSSxBQUFDLEFBQUMsR0FBQyxBQUFDO0FBQzVELEFBQU0sQUFBQyxBQUNYO0FBQUM7QUFFRCxBQUFZLHlDQUFDLEFBQUksS0FBQyxJQUFJLFlBQU0sT0FDeEIsQUFBRSxJQUFFLFlBQUksS0FBTyxBQUFFLEFBQUMsS0FBRSxBQUFRLFNBQUMsQUFBRyxJQUFDLEFBQUMsQUFBQyxJQUFFLEFBQVMsVUFBQyxBQUFHLElBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQyxBQUFDLEFBQ2hFO0FBQUMsQUFBQyxBQUFDLEFBQ1A7QUFBQyxBQUNMOzs7QUFqRUEsQUFBRyxBQUFDO0FBQW1DLEFBQUM7QUFpRXZDO0FBQ0QsQUFBWSwrQkFBRyxBQUFZLGFBQUMsQUFBVyxBQUFFLEFBQUM7QUFDMUMsQUFBTyxxQ0FBQyxBQUFJLEFBQUMsd0NBQUcsQUFBWSxhQUFDLEFBQU8sQUFBRSxBQUFDLEFBQUMsQUFDNUM7QUFBQyxBQUFDLEFBQUM7QUFDSCxBQUFPLGtDQUFPLGFBQWlCLEFBQU07QUFBQyxBQUFDLHVCQUFJLEFBQUMsRUFBQyxBQUFTLFVBQUMsQUFBSSxBQUFDLEFBQUMsQUFBQzthQUF2QyxBQUFPLENBQXBCO0FBRVYsZ0JBQUksQUFBYSxnQkFBRyxZQUFJLEFBQVUsT0FBQyxBQUFTLEFBQUUsQUFBQzs7O0FBRzNDLG9CQUFJLEFBQUMsSUFBRyxBQUFPLFFBQUMsQUFBRyxJQUFDLEFBQUMsQUFBQyxHQUFDLEFBQVMsQUFBQztBQUVqQyxvQkFBSSxBQUFhLGdCQUFHLEFBQUssQUFBQztBQUMxQixBQUFPLHdCQUFDLEFBQUksS0FBQyxBQUFDLElBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTyxRQUFDLFVBQVUsQUFBQztBQUNqQyxBQUFFLEFBQUMsd0JBQUMsQUFBQyxFQUFDLEFBQVEsU0FBQyxBQUFDLEVBQUMsQUFBUyxBQUFDLEFBQUMsWUFBQyxBQUFDO0FBQzFCLEFBQWEsd0NBQUcsQUFBSSxBQUFDLEFBQ3pCO0FBQUMsQUFDTDtBQUFDLEFBQUM7QUFDRixBQUFFLEFBQUMsb0JBQUMsQ0FBQyxBQUFhLEFBQUMsZUFBQyxBQUFDO0FBQ2pCLEFBQWEsa0NBQUMsQUFBSSxLQUFDLEFBQU8sUUFBQyxBQUFHLElBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQyxBQUN2QztBQUFDLEFBQ0w7OztBQVpBLEFBQUcsQUFBQyxpQkFBQyxJQUFJLEFBQUMsSUFBRyxBQUFDLEdBQUUsQUFBQyxJQUFHLEFBQU8sUUFBQyxBQUFJLE1BQUUsQUFBQyxBQUFFO0FBQUUsQUFBQztBQVl2QztBQUNELEFBQWEsNEJBQUcsQUFBYSxjQUFDLEFBQVcsQUFBRSxBQUFDO0FBRTVDLEFBQU0sbUJBQUMsQUFBYSxBQUFDLEFBQ3pCO0FBQUMsQUFFRCxBQUFhOzs7O0FBQ1QsZ0JBQUksQUFBSyxRQUFHLFlBQUksQUFBZ0IsQUFBQztBQUVqQyxnQkFBSSxBQUFlLGtCQUF5QixDQUN4QyxDQUFDLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLEtBQ3JCLENBQUMsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsS0FDckIsQ0FBQyxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxLQUNyQixDQUFDLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLEFBQ3hCLEFBQUM7d0JBRVksQ0FBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLFlBQUksS0FBQyxBQUFDLEFBQUMsQUFBQztBQUEvQixBQUFHLEFBQUM7QUFBQyxvQkFBSSxBQUFDO0FBQ04sb0JBQUksQUFBQyxJQUFHLEFBQUksS0FBQyxBQUFXLFlBQUMsQUFBRyxJQUFDLEFBQUMsQUFBQyxHQUFDLEFBQVEsQUFBQztBQURiLEFBQUM7Ozs7O0FBRzdCLEFBQUcsQUFBQyxBQUFDLEFBQUksQUFBQywwQ0FBdUMsQUFBZSxBQUFDO0FBQUMsQUFBQzs7NEJBQXhELEFBQUc7NEJBQUUsQUFBRyxBQUFDLEFBQUU7OzRCQUFDLEFBQUc7NEJBQUUsQUFBRyxBQUFDLEFBQUU7OzRCQUFDLEFBQUc7NEJBQUUsQUFBRyxBQUFDLEFBQUM7O0FBQ3pDLDRCQUFJLEFBQUUsS0FBRyxBQUFDLEVBQUMsQUFBRyxJQUFDLEFBQUcsS0FBRSxBQUFHLEFBQUMsQUFBQztBQUN6Qiw0QkFBSSxBQUFFLEtBQUcsQUFBQyxFQUFDLEFBQUcsSUFBQyxBQUFHLEtBQUUsQUFBRyxBQUFDLEFBQUM7QUFDekIsNEJBQUksQUFBRSxLQUFHLEFBQUMsRUFBQyxBQUFHLElBQUMsQUFBRyxLQUFFLEFBQUcsQUFBQyxBQUFDO0FBRXpCLDRCQUFJLEFBQUUsS0FBRyxJQUFJLFlBQUksS0FBQyxBQUFFLElBQUUsQUFBRSxBQUFDLEFBQUM7QUFFMUIsNEJBQUksQUFBRSxLQUFHLElBQUksWUFBSSxLQUFDLEFBQUUsSUFBRSxBQUFFLEFBQUMsQUFBQztBQUUxQixBQUFLLGdDQUFHLEFBQUssTUFBQyxBQUFJLEtBQUMsQ0FBQyxBQUFFLElBQUUsQUFBRSxBQUFDLEFBQUMsQUFBQyxBQUNqQztBQUFDLEFBQ0w7Ozs7Ozs7Ozs7Ozs7OztBQUFDO3dCQUVhLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFJLEtBQUMsQUFBQyxHQUFFLFlBQUksS0FBQyxBQUFDLEdBQUUsWUFBSSxLQUFDLEFBQUMsQUFBQyxBQUFDO0FBQS9DLEFBQUcsQUFBQyx5REFBNEMsQUFBQztBQUE1QyxvQkFBSSxBQUFDO0FBQ04sb0JBQUksQUFBQyxLQUFHLEFBQUksS0FBQyxBQUFXLFlBQUMsQUFBRyxJQUFDLEFBQUMsQUFBQyxJQUFDLEFBQVEsQUFBQztBQUV6QyxvQkFBSSxBQUFFLEtBQUcsQUFBQyxHQUFDLEFBQUcsSUFBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUM7QUFDcEIsb0JBQUksQUFBRSxNQUFHLEFBQUMsR0FBQyxBQUFHLElBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDO0FBQ3BCLG9CQUFJLEFBQUUsTUFBRyxBQUFDLEdBQUMsQUFBRyxJQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQztBQUVwQixvQkFBSSxBQUFFLEtBQUcsSUFBSSxZQUFJLEtBQUMsQUFBRSxJQUFFLEFBQUUsQUFBQyxBQUFDO0FBRTFCLG9CQUFJLEFBQUUsTUFBRyxJQUFJLFlBQUksS0FBQyxBQUFFLEtBQUUsQUFBRSxBQUFDLEFBQUM7QUFFMUIsQUFBSyx3QkFBRyxBQUFLLE1BQUMsQUFBSSxLQUFDLENBQUMsQUFBRSxJQUFFLEFBQUUsQUFBQyxBQUFDLEFBQUMsQUFFakM7QUFBQztBQUNELEFBQU0sbUJBQUMsQUFBSyxBQUFDLEFBQ2pCO0FBQUMsQUFFRCxBQUFROzs7aUNBQUMsQUFBZTtBQUNwQixBQUEwQjtBQUUxQixBQUFFLEFBQUMsZ0JBQUMsQUFBTyxXQUFJLEFBQUMsS0FBSSxBQUFPLFdBQUksQUFBRyxBQUFDLEtBQUMsQUFBQztBQUNqQyxBQUFNLHVCQUFDLEFBQUksQUFBQyxBQUNoQjtBQUFDO0FBRUQsZ0JBQUksQUFBUyxZQUFHLEFBQWMsZUFBQyxBQUFJLEtBQUMsQUFBVyxhQUFFLEFBQU8sQUFBQyxBQUFDO0FBRTFELEFBQUUsQUFBQyxnQkFBQyxBQUFPLFVBQUcsQUFBRyxBQUFDLEtBQUMsQUFBQztBQUNoQixBQUFNLHVCQUFDLEFBQUksS0FBQyxBQUFNLE9BQUMsRUFBQyxBQUFXLGFBQUUsQUFBUyxBQUFDLEFBQUMsQUFBQyxBQUNqRDtBQUFDLEFBQUMsQUFBSTtBQUFDLEFBQUMsQUFDSixBQUFJLGlEQUFZLEFBQUksS0FBQyxBQUFVLEFBQUM7b0JBQTNCLEFBQUM7b0JBQUUsQUFBQztvQkFBRSxBQUFDLEFBQUM7O0FBQ2IsQUFBTSx1QkFBQyxBQUFJLEtBQUMsQUFBTSxPQUFDLEVBQUMsQUFBVSxZQUFFLENBQUMsQUFBQyxHQUFFLEFBQUMsSUFBRSxBQUFDLEFBQUMsS0FBRSxBQUFXLGFBQUUsQUFBUyxBQUFDLEFBQUMsQUFBQyxBQUN4RTtBQUFDLEFBQ0w7QUFBQyxBQUVELEFBQUk7Ozs2QkFBQyxBQUFvQjtBQUNyQixBQUFJLDhDQUFZLEFBQUksS0FBQyxBQUFVLEFBQUM7Z0JBQTNCLEFBQUM7Z0JBQUUsQUFBQztnQkFBRSxBQUFDLEFBQUM7O0FBQ2IsZ0JBQUksQUFBSztnQkFBRSxBQUFLO2dCQUFFLEFBQUssQUFBQztBQUN4QixBQUFFLEFBQUMsZ0JBQUMsQUFBUyxhQUFJLFlBQVMsVUFBQyxBQUFDLEtBQUksQUFBUyxhQUFJLFlBQVMsVUFBQyxBQUFDLEFBQUM7QUFDcEQsQUFBSyxxQkFEZ0QsQUFBQyxBQUN2RCxHQUF5QixBQUFDO0FBQWxCLEFBQUssd0JBQWUsQUFBQztBQUFkLEFBQUssQUFBQyxBQUFHLHdCQUFPLEFBQUMsQUFBQyxBQUFDLEFBQ3RDO0FBQUMsQUFBQyxBQUFJLG1CQUFDLEFBQUMsQUFDSjtBQUFDLEFBQUssd0JBQW1CLEFBQUM7QUFBbEIsQUFBSyx3QkFBZSxBQUFDO0FBQWQsQUFBSyxBQUFDLEFBQUcsd0JBQU8sQUFBQyxBQUFDLEFBQUMsQUFDdEM7QUFBQztBQUVELGdCQUFJLEFBQVMsWUFBRyxBQUFVLFdBQUMsQUFBSSxLQUFDLEFBQVcsYUFBRSxBQUFTLEFBQUMsQUFBQztBQUV4RCxBQUFNLG1CQUFDLEFBQUksS0FBQyxBQUFNLE9BQUMsRUFBQyxBQUFVLFlBQUUsQ0FBQyxBQUFLLE9BQUUsQUFBSyxPQUFFLEFBQUssQUFBQyxRQUFFLEFBQVcsYUFBRSxBQUFTLEFBQUMsQUFBQyxBQUFDLEFBQ3BGO0FBQUMsQUFFRCxBQUFXOzs7O0FBQ1AsZ0JBQUksQUFBVSxhQUFHLFlBQUcsSUFBZSxDQUMvQixDQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBSyxBQUFDLFFBQ2YsQ0FBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQVEsQUFBQyxXQUNsQixDQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBTSxBQUFDLFNBQ2hCLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFPLEFBQUMsVUFDakIsQ0FBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQU8sQUFBQyxVQUNqQixDQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBTSxBQUFDLEFBQ25CLEFBQUMsQUFBQyxBQUVILEFBQUk7OzhDQUFZLEFBQUksS0FBQyxBQUFVLEFBQUM7Z0JBQTNCLEFBQUM7Z0JBQUUsQUFBQztnQkFBRSxBQUFDLEFBQUM7O0FBRWIsZ0JBQUksQUFBTSxBQUFHLDJDQUFnQyxBQUFDLGFBQU8sQUFBQyxhQUFPLEFBQUMsQUFBRSxBQUFDO0FBRWpFLGdCQUFJLEFBQUssUUFBRyxBQUFJLEtBQUMsQUFBYyxBQUFFLEFBQUM7QUFDbEMsZ0JBQUksQUFBVSxhQUFHLEFBQUksQUFBQztBQUV0QixBQUFLLGtCQUFDLEFBQU8sUUFBQyxVQUFVLEFBQUU7QUFDdEIsb0JBQUksQUFBZSxrQkFBRyxBQUFVLFdBQUMsQUFBNkIsOEJBQUMsQUFBRSxBQUFDLEFBQUM7QUFDbkUsb0JBQUksQUFBYSxnQkFBVSxBQUFFLEFBQUM7Ozs7OztBQUM5QixBQUFHLEFBQUMsQUFBQywwQ0FBUyxZQUFLLEFBQUM7QUFBQSxBQUFDLDRCQUFaLEFBQUM7O0FBQ04sQUFBRSxBQUFDLDRCQUFDLEFBQWUsZ0JBQUMsQUFBRyxJQUFDLEFBQUMsQUFBQyxLQUFHLEFBQUMsQUFBQyxHQUFDLEFBQUM7QUFDN0IsQUFBYSwwQ0FBQyxBQUFJLEtBQUMsQUFBQyxBQUFDLEFBQUMsQUFDMUI7QUFBQyxBQUNMO0FBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFRCxvQkFBSSxBQUFrQixBQUFDO0FBQ3ZCLEFBQUUsQUFBQyxvQkFBQyxBQUFhLGNBQUMsQUFBTSxVQUFJLEFBQUMsQUFBQyxHQUFDLEFBQUM7QUFDNUIsQUFBVSxpQ0FBRyxBQUFVLFdBQUMsQUFBRyxJQUFDLEFBQWEsY0FBQyxBQUFDLEFBQUMsQUFBQyxNQUFHLEFBQU8sQUFBQyxBQUM1RDtBQUFDLEFBQUMsQUFBSSx1QkFBQyxBQUFDO0FBQ0osQUFBVSwrQ0FBaUIsQUFBSyxNQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsQUFBQyxHQUFDLEFBQUc7QUFBQyxBQUFDLCtCQUFJLEFBQVUsV0FBQyxBQUFHLElBQUMsQUFBQyxBQUFDLEFBQUM7cUJBQXRELEFBQWEsRUFBMEMsQUFBSSxLQUFDLEFBQUksQUFBQyxBQUFDO0FBQy9FLEFBQVUsQUFBSSw0Q0FBUSxBQUFVLFdBQUMsQUFBRyxJQUFDLEFBQWEsY0FBQyxBQUFhLGNBQUMsQUFBTSxTQUFDLEFBQUMsQUFBQyxBQUFDLEFBQVEsQUFBQyxBQUN4RjtBQUFDO0FBRUQsQUFBTSxBQUFJLHdEQUE0QixBQUFVLEFBQThELEFBQUMsQUFDbkg7QUFBQyxBQUFDLEFBQUM7QUFFSCxnQkFBSSxBQUFPLFVBQUcsQUFBSSxLQUFDLEFBQVcsQUFBRSxBQUFDO0FBRWpDLEFBQU8sb0JBQUMsQUFBTyxRQUFDLFVBQVUsQUFBQztBQUN2QixvQkFBSSxBQUFlLGtCQUFHLEFBQVUsV0FBQyxBQUE2Qiw4QkFBQyxBQUFDLEVBQUMsQUFBUyxBQUFDLEFBQUM7QUFDNUUsb0JBQUksQUFBYSxnQkFBVyxBQUFFLEFBQUM7Ozs7OztBQUMvQixBQUFHLEFBQUMsQUFBQywwQ0FBUyxZQUFLLEFBQUM7QUFBQSxBQUFDLDRCQUFaLEFBQUM7O0FBQ04sQUFBRSxBQUFDLDRCQUFDLEFBQWUsZ0JBQUMsQUFBRyxJQUFDLEFBQUMsQUFBQyxLQUFHLEFBQUMsQUFBQyxHQUFDLEFBQUM7QUFDN0IsQUFBYSwwQ0FBQyxBQUFJLEtBQUMsQUFBQyxBQUFDLEFBQUMsQUFDMUI7QUFBQyxBQUNMO0FBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFRCxvQkFBSSxBQUFrQixBQUFDO0FBQ3ZCLEFBQUUsQUFBQyxvQkFBQyxBQUFhLGNBQUMsQUFBTSxVQUFJLEFBQUMsQUFBQyxHQUFDLEFBQUM7QUFDNUIsQUFBVSxpQ0FBRyxBQUFVLFdBQUMsQUFBRyxJQUFDLEFBQWEsY0FBQyxBQUFDLEFBQUMsQUFBQyxNQUFHLEFBQU8sQUFBQyxBQUM1RDtBQUFDLEFBQUMsQUFBSSx1QkFBQyxBQUFDO0FBQ0osQUFBVSwrQ0FBaUIsQUFBSyxNQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsQUFBQyxHQUFDLEFBQUc7QUFBQyxBQUFDLCtCQUFJLEFBQVUsV0FBQyxBQUFHLElBQUMsQUFBQyxBQUFDLEFBQUM7cUJBQXRELEFBQWEsRUFBMEMsQUFBSSxLQUFDLEFBQUksQUFBQyxBQUFDO0FBQy9FLEFBQVUsQUFBSSw0Q0FBUSxBQUFVLFdBQUMsQUFBRyxJQUFDLEFBQWEsY0FBQyxBQUFhLGNBQUMsQUFBTSxTQUFDLEFBQUMsQUFBQyxBQUFDLEFBQVEsQUFBQyxBQUN4RjtBQUFDO0FBRUQsQUFBTSxBQUFJLHdEQUE0QixBQUFVLGtEQUFtQyxBQUFVLFdBQUMsQUFBRyxJQUFDLEFBQUMsRUFBQyxBQUFTLEFBQUMsK0NBQWdDLEFBQVUsV0FBQyxBQUFHLElBQUMsQUFBQyxFQUFDLEFBQVUsQUFBQyxBQUFHLEFBQUMsQUFDbEw7QUFBQyxBQUFDLEFBQUM7QUFFSCxBQUFNLG1CQUFDLEFBQU0sQUFBQyxBQUNsQjtBQUFDLEFBQ0o7Ozs7OztBQW5XRCxrQkFtV0M7QUFFRCx3QkFBd0IsQUFBdUIsSUFBRSxBQUFlO0FBQzVELEFBQUUsQUFBQyxRQUFDLEFBQU8sV0FBSSxBQUFDLEtBQUksQUFBTyxXQUFJLEFBQUcsQUFBQyxLQUFDLEFBQUM7QUFDakMsQUFBTSxlQUFDLEFBQUUsQUFBQyxBQUNkO0FBQUM7QUFFRCxRQUFJLEFBQUssUUFBRyxBQUFPLFVBQUcsQUFBRSxBQUFDO0FBQ3pCLFFBQUksQUFBVSxhQUFHLENBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFJLEtBQUMsQUFBQyxHQUFFLFlBQUksS0FBQyxBQUFDLEdBQUUsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFJLEtBQUMsQUFBQyxHQUFFLFlBQUksS0FBQyxBQUFDLEdBQUUsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFJLEtBQUMsQUFBQyxBQUFDLEFBQUM7QUFFbEYsUUFBSSxBQUFTLFlBQUcsWUFBRyxBQUFrQixBQUFDO2dCQUV4QixDQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsWUFBSSxLQUFDLEFBQUMsR0FBRSxZQUFJLEtBQUMsQUFBQyxHQUFFLFlBQUksS0FBQyxBQUFDLEFBQUMsQUFBQztBQUEvQyxBQUFHLEFBQUMsaURBQTJDLEFBQUM7QUFBM0MsWUFBSSxBQUFDO0FBQ04sWUFBSSxBQUFHLE1BQUcsQUFBVSxXQUFDLEFBQU8sUUFBQyxBQUFDLEFBQUMsQUFBQztBQUNoQyxBQUFTLG9CQUFHLEFBQVMsVUFBQyxBQUFHLElBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsQUFBVSxXQUFDLEFBQUcsTUFBRyxBQUFLLEFBQUMsQUFBQyxBQUFDLEFBQUMsQUFDbEU7QUFBQztnQkFFYSxDQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsWUFBSSxLQUFDLEFBQUMsQUFBQyxBQUFDO0FBQS9CLEFBQUcsQUFBQyxpREFBMkIsQUFBQztBQUEzQixZQUFJLEFBQUM7QUFDTixBQUFTLG9CQUFHLEFBQVMsVUFBQyxBQUFHLElBQUMsQUFBQyxLQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsQUFBQyxBQUFDLEtBQUMsQUFBTSxPQUFDLEFBQU8sQUFBQyxBQUFDLEFBQUMsQUFDNUQ7QUFBQztBQUVELEFBQU0sV0FBQyxBQUFTLEFBQUMsQUFDckI7QUFBQztBQUVELG9CQUFvQixBQUF1QixJQUFFLEFBQW9CO0FBQzdELFFBQUksQUFBUyxZQUFHLFlBQUcsQUFBa0IsTUFBQyxBQUFTLEFBQUUsQUFBQztBQUVsRCxBQUFFLEFBQUMsUUFBQyxBQUFTLGFBQUksWUFBUyxVQUFDLEFBQUMsQUFBQyxHQUFDLEFBQUM7QUFDM0IsQUFBUyxrQkFBQyxBQUFHLElBQ1QsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsTUFBQyxBQUFHLElBQ3ZDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQzNCLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQzNCLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLE1BQUMsQUFBRyxJQUN2QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQUcsSUFDdEMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsQUFBQyxBQUM1QztBQUFDLEFBQUMsQUFBSSxlQUFLLEFBQVMsYUFBSSxZQUFTLFVBQUMsQUFBQyxBQUFDLEdBQUMsQUFBQztBQUNsQyxBQUFTLGtCQUFDLEFBQUcsSUFDVCxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUMzQixZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFHLEFBQUMsQUFBQyxNQUFDLEFBQUcsSUFDdkMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFDM0IsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsTUFBQyxBQUFHLElBQ3ZDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLE1BQUMsQUFBRyxJQUN2QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxBQUFDLEFBQzNDO0FBQUMsQUFBQyxBQUFJLEtBUkMsQUFBRSxBQUFDLFVBUUMsQUFBUyxhQUFJLFlBQVMsVUFBQyxBQUFDLEFBQUMsR0FBQyxBQUFDO0FBQ2xDLEFBQVMsa0JBQUMsQUFBRyxJQUNULFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUUsQUFBQyxBQUFDLEtBQUMsQUFBRyxJQUN0QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQUcsSUFDdEMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsTUFBQyxBQUFHLElBQ3ZDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLE1BQUMsQUFBRyxJQUN2QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFHLEFBQUMsQUFBQyxNQUFDLEFBQUcsSUFDdkMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRSxBQUFDLEFBQUMsQUFBQyxBQUMzQztBQUFDLEFBQUMsQUFBSSxLQVJDLEFBQUUsQUFBQyxNQVFILEFBQUUsQUFBQyxJQUFDLEFBQVMsYUFBSSxZQUFTLFVBQUMsQUFBQyxBQUFDLEdBQUMsQUFBQztBQUNsQyxBQUFTLGtCQUFDLEFBQUcsSUFDVCxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFHLEFBQUMsQUFBQyxNQUFDLEFBQUcsSUFDdkMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRyxBQUFDLEFBQUMsTUFBQyxBQUFHLElBQ3ZDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUUsQUFBQyxBQUFDLEtBQUMsQUFBRyxJQUN0QyxZQUFJLEtBQUMsQUFBQyxHQUFFLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsQUFBQyxHQUFDLEFBQU0sT0FBQyxBQUFFLEFBQUMsQUFBQyxLQUFDLEFBQUcsSUFDdEMsWUFBSSxLQUFDLEFBQUMsR0FBRSxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEFBQUMsR0FBQyxBQUFNLE9BQUMsQUFBRSxBQUFDLEFBQUMsS0FBQyxBQUFHLElBQ3RDLFlBQUksS0FBQyxBQUFDLEdBQUUsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxBQUFDLEdBQUMsQUFBTSxPQUFDLEFBQUcsQUFBQyxBQUFDLEFBQUMsQUFDNUM7QUFBQztBQUVELEFBQU0sV0FBQyxBQUFTLFVBQUMsQUFBVyxBQUFFLEFBQUMsQUFDbkM7QUFBQztBQUdEO0FBQ0ksUUFBSSxBQUFFLEtBQUcsSUFBSSxBQUFPLFFBQUMsRUFBQyxBQUFVLFlBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQztBQUU1QyxRQUFJLEFBQUcsTUFBRyxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQztBQUNySCxRQUFJLEFBQUcsTUFBRyxBQUFHLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBRSxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBRSxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBRSxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQztBQUVsSixRQUFJLEFBQUcsTUFBRyxBQUFFLEdBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFJLEtBQUMsWUFBUyxVQUFDLEFBQUMsQUFBQyxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxBQUFDO0FBRXZJLFFBQUksQUFBRyxNQUFHLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUUsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxBQUFDO0FBRXBNLFFBQUksQUFBRyxNQUFHLEFBQUUsR0FBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsQUFBQztBQUMzRixRQUFJLEFBQUcsTUFBRyxBQUFHLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxBQUFDO0FBRWxFLFFBQUksQUFBRyxBQUFHLE1BQUMsQUFBRSxHQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQzNHLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUM3RSxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsSUFBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFBQUMsQUFBQyxJQUFDLEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQ25ELEFBQUcsSUFBQyxZQUFJLEtBQUMsQUFBQyxHQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxJQUFFLENBQUMsQUFBQyxHQUFDLEFBQUMsQUFBQyxBQUFDLElBQUMsQUFBRyxJQUFDLFlBQUksS0FBQyxBQUFDLEdBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLElBQUUsQ0FBQyxBQUFDLEdBQUMsQUFBQyxBQUFDLEFBQUMsSUFBQyxBQUFHLElBQUMsWUFBSSxLQUFDLEFBQUMsR0FBRSxDQUFDLEFBQUMsR0FBQyxBQUFDLEFB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O3lCQUFBOzs7QUFDSSxTQUFXLGNBQUcsWUFBSSxBQUFRLEFBQUM7QUFDM0IsU0FBYSxnQkFBRyxZQUFJLEFBQVEsQUFBQztBQUM3QixTQUFhLGdCQUFHLFlBQUcsQUFBYSxBQUFDO0FBQ2pDLFNBQWUsa0JBQUcsWUFBRyxBQUFVLEFBQUM7QUFDaEMsU0FBYyxpQkFBRyxZQUFhLGNBQUMsQUFBSSxBQUFDO0FBQ3BDLFNBQVcsY0FBRyxZQUFJLEFBQVEsQUFBQztBQUMzQixTQUFTLFlBQUcsWUFBSSxBQUFhLEFBQUM7QUFDOUIsU0FBVyxjQUFHLFlBQUksQUFBVSxBQUFDO0FBQzdCLFNBQWMsaUJBQUcsWUFBSSxBQUFhLEFBQUM7QUFDbkMsU0FBZ0IsbUJBQUcsWUFBSSxBQUFVLEFBQUM7QUFDbEMsU0FBYSxnQkFBRyxBQUFLLEFBQUM7QUFDdEIsU0FBc0IseUJBQUcsWUFBSSxBQUFRLEFBQUMsQUFDMUM7QUFBQzs7QUFiRCw2QkFhQztBQU1VLFFBQUEsQUFBWSxlQUEwQixBQUFFLEFBQUM7QUFFcEQsMkJBQWtDLEFBQXVDO0FBQ3JFLEFBQW1FO0FBQ25FLFlBQVksYUFBQyxBQUFPLFVBQUcsSUFBSSxBQUFrQixBQUFFLEFBQUM7QUFDaEQsUUFBSSxBQUFNLFNBQUcsQUFBQyxFQUFDLFFBQVksYUFBQyxBQUFPLEFBQUMsQUFBQztBQUNyQyxZQUFZLGFBQUMsQUFBTyxVQUFHLEFBQVMsQUFBQztBQUNqQyxBQUFNLFdBQUMsQUFBTSxBQUFDLEFBQ2xCO0FBQUM7QUFORCw0QkFNQztBQUVELEFBQXFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qKlxuICogIENvcHlyaWdodCAoYykgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogIG9mIHBhdGVudCByaWdodHMgY2FuIGJlIGZvdW5kIGluIHRoZSBQQVRFTlRTIGZpbGUgaW4gdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IGZhY3RvcnkoZXhwb3J0cykgOlxuXHR0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJ10sIGZhY3RvcnkpIDpcblx0KGZhY3RvcnkoKGdsb2JhbC5JbW11dGFibGUgPSBnbG9iYWwuSW1tdXRhYmxlIHx8IHt9KSkpO1xufSh0aGlzLCAoZnVuY3Rpb24gKGV4cG9ydHMpIHsgJ3VzZSBzdHJpY3QnO1xuXG4vLyBVc2VkIGZvciBzZXR0aW5nIHByb3RvdHlwZSBtZXRob2RzIHRoYXQgSUU4IGNob2tlcyBvbi5cbnZhciBERUxFVEUgPSAnZGVsZXRlJztcblxuLy8gQ29uc3RhbnRzIGRlc2NyaWJpbmcgdGhlIHNpemUgb2YgdHJpZSBub2Rlcy5cbnZhciBTSElGVCA9IDU7IC8vIFJlc3VsdGVkIGluIGJlc3QgcGVyZm9ybWFuY2UgYWZ0ZXIgX19fX19fP1xudmFyIFNJWkUgPSAxIDw8IFNISUZUO1xudmFyIE1BU0sgPSBTSVpFIC0gMTtcblxuLy8gQSBjb25zaXN0ZW50IHNoYXJlZCB2YWx1ZSByZXByZXNlbnRpbmcgXCJub3Qgc2V0XCIgd2hpY2ggZXF1YWxzIG5vdGhpbmcgb3RoZXJcbi8vIHRoYW4gaXRzZWxmLCBhbmQgbm90aGluZyB0aGF0IGNvdWxkIGJlIHByb3ZpZGVkIGV4dGVybmFsbHkuXG52YXIgTk9UX1NFVCA9IHt9O1xuXG4vLyBCb29sZWFuIHJlZmVyZW5jZXMsIFJvdWdoIGVxdWl2YWxlbnQgb2YgYGJvb2wgJmAuXG52YXIgQ0hBTkdFX0xFTkdUSCA9IHsgdmFsdWU6IGZhbHNlIH07XG52YXIgRElEX0FMVEVSID0geyB2YWx1ZTogZmFsc2UgfTtcblxuZnVuY3Rpb24gTWFrZVJlZihyZWYpIHtcbiAgcmVmLnZhbHVlID0gZmFsc2U7XG4gIHJldHVybiByZWY7XG59XG5cbmZ1bmN0aW9uIFNldFJlZihyZWYpIHtcbiAgcmVmICYmIChyZWYudmFsdWUgPSB0cnVlKTtcbn1cblxuLy8gQSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgdmFsdWUgcmVwcmVzZW50aW5nIGFuIFwib3duZXJcIiBmb3IgdHJhbnNpZW50IHdyaXRlc1xuLy8gdG8gdHJpZXMuIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBvbmx5IGV2ZXIgZXF1YWwgaXRzZWxmLCBhbmQgd2lsbCBub3QgZXF1YWxcbi8vIHRoZSByZXR1cm4gb2YgYW55IHN1YnNlcXVlbnQgY2FsbCBvZiB0aGlzIGZ1bmN0aW9uLlxuZnVuY3Rpb24gT3duZXJJRCgpIHt9XG5cbi8vIGh0dHA6Ly9qc3BlcmYuY29tL2NvcHktYXJyYXktaW5saW5lXG5mdW5jdGlvbiBhcnJDb3B5KGFyciwgb2Zmc2V0KSB7XG4gIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuICB2YXIgbGVuID0gTWF0aC5tYXgoMCwgYXJyLmxlbmd0aCAtIG9mZnNldCk7XG4gIHZhciBuZXdBcnIgPSBuZXcgQXJyYXkobGVuKTtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGxlbjsgaWkrKykge1xuICAgIG5ld0FycltpaV0gPSBhcnJbaWkgKyBvZmZzZXRdO1xuICB9XG4gIHJldHVybiBuZXdBcnI7XG59XG5cbmZ1bmN0aW9uIGVuc3VyZVNpemUoaXRlcikge1xuICBpZiAoaXRlci5zaXplID09PSB1bmRlZmluZWQpIHtcbiAgICBpdGVyLnNpemUgPSBpdGVyLl9faXRlcmF0ZShyZXR1cm5UcnVlKTtcbiAgfVxuICByZXR1cm4gaXRlci5zaXplO1xufVxuXG5mdW5jdGlvbiB3cmFwSW5kZXgoaXRlciwgaW5kZXgpIHtcbiAgLy8gVGhpcyBpbXBsZW1lbnRzIFwiaXMgYXJyYXkgaW5kZXhcIiB3aGljaCB0aGUgRUNNQVN0cmluZyBzcGVjIGRlZmluZXMgYXM6XG4gIC8vXG4gIC8vICAgICBBIFN0cmluZyBwcm9wZXJ0eSBuYW1lIFAgaXMgYW4gYXJyYXkgaW5kZXggaWYgYW5kIG9ubHkgaWZcbiAgLy8gICAgIFRvU3RyaW5nKFRvVWludDMyKFApKSBpcyBlcXVhbCB0byBQIGFuZCBUb1VpbnQzMihQKSBpcyBub3QgZXF1YWxcbiAgLy8gICAgIHRvIDJeMzLiiJIxLlxuICAvL1xuICAvLyBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtYXJyYXktZXhvdGljLW9iamVjdHNcbiAgaWYgKHR5cGVvZiBpbmRleCAhPT0gJ251bWJlcicpIHtcbiAgICB2YXIgdWludDMySW5kZXggPSBpbmRleCA+Pj4gMDsgLy8gTiA+Pj4gMCBpcyBzaG9ydGhhbmQgZm9yIFRvVWludDMyXG4gICAgaWYgKCcnICsgdWludDMySW5kZXggIT09IGluZGV4IHx8IHVpbnQzMkluZGV4ID09PSA0Mjk0OTY3Mjk1KSB7XG4gICAgICByZXR1cm4gTmFOO1xuICAgIH1cbiAgICBpbmRleCA9IHVpbnQzMkluZGV4O1xuICB9XG4gIHJldHVybiBpbmRleCA8IDAgPyBlbnN1cmVTaXplKGl0ZXIpICsgaW5kZXggOiBpbmRleDtcbn1cblxuZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSkge1xuICByZXR1cm4gKGJlZ2luID09PSAwIHx8IChzaXplICE9PSB1bmRlZmluZWQgJiYgYmVnaW4gPD0gLXNpemUpKSAmJlxuICAgIChlbmQgPT09IHVuZGVmaW5lZCB8fCAoc2l6ZSAhPT0gdW5kZWZpbmVkICYmIGVuZCA+PSBzaXplKSk7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVCZWdpbihiZWdpbiwgc2l6ZSkge1xuICByZXR1cm4gcmVzb2x2ZUluZGV4KGJlZ2luLCBzaXplLCAwKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUVuZChlbmQsIHNpemUpIHtcbiAgcmV0dXJuIHJlc29sdmVJbmRleChlbmQsIHNpemUsIHNpemUpO1xufVxuXG5mdW5jdGlvbiByZXNvbHZlSW5kZXgoaW5kZXgsIHNpemUsIGRlZmF1bHRJbmRleCkge1xuICAvLyBTYW5pdGl6ZSBpbmRpY2VzIHVzaW5nIHRoaXMgc2hvcnRoYW5kIGZvciBUb0ludDMyKGFyZ3VtZW50KVxuICAvLyBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNi4wLyNzZWMtdG9pbnQzMlxuICByZXR1cm4gaW5kZXggPT09IHVuZGVmaW5lZFxuICAgID8gZGVmYXVsdEluZGV4XG4gICAgOiBpbmRleCA8IDBcbiAgICAgICAgPyBzaXplID09PSBJbmZpbml0eSA/IHNpemUgOiBNYXRoLm1heCgwLCBzaXplICsgaW5kZXgpIHwgMFxuICAgICAgICA6IHNpemUgPT09IHVuZGVmaW5lZCB8fCBzaXplID09PSBpbmRleFxuICAgICAgICAgICAgPyBpbmRleFxuICAgICAgICAgICAgOiBNYXRoLm1pbihzaXplLCBpbmRleCkgfCAwO1xufVxuXG5mdW5jdGlvbiBpc0ltbXV0YWJsZShtYXliZUltbXV0YWJsZSkge1xuICByZXR1cm4gKGlzQ29sbGVjdGlvbihtYXliZUltbXV0YWJsZSkgfHwgaXNSZWNvcmQobWF5YmVJbW11dGFibGUpKSAmJlxuICAgICFtYXliZUltbXV0YWJsZS5fX293bmVySUQ7XG59XG5cbmZ1bmN0aW9uIGlzQ29sbGVjdGlvbihtYXliZUNvbGxlY3Rpb24pIHtcbiAgcmV0dXJuICEhKG1heWJlQ29sbGVjdGlvbiAmJiBtYXliZUNvbGxlY3Rpb25bSVNfSVRFUkFCTEVfU0VOVElORUxdKTtcbn1cblxuZnVuY3Rpb24gaXNLZXllZChtYXliZUtleWVkKSB7XG4gIHJldHVybiAhIShtYXliZUtleWVkICYmIG1heWJlS2V5ZWRbSVNfS0VZRURfU0VOVElORUxdKTtcbn1cblxuZnVuY3Rpb24gaXNJbmRleGVkKG1heWJlSW5kZXhlZCkge1xuICByZXR1cm4gISEobWF5YmVJbmRleGVkICYmIG1heWJlSW5kZXhlZFtJU19JTkRFWEVEX1NFTlRJTkVMXSk7XG59XG5cbmZ1bmN0aW9uIGlzQXNzb2NpYXRpdmUobWF5YmVBc3NvY2lhdGl2ZSkge1xuICByZXR1cm4gaXNLZXllZChtYXliZUFzc29jaWF0aXZlKSB8fCBpc0luZGV4ZWQobWF5YmVBc3NvY2lhdGl2ZSk7XG59XG5cbmZ1bmN0aW9uIGlzT3JkZXJlZChtYXliZU9yZGVyZWQpIHtcbiAgcmV0dXJuICEhKG1heWJlT3JkZXJlZCAmJiBtYXliZU9yZGVyZWRbSVNfT1JERVJFRF9TRU5USU5FTF0pO1xufVxuXG5mdW5jdGlvbiBpc1JlY29yZChtYXliZVJlY29yZCkge1xuICByZXR1cm4gISEobWF5YmVSZWNvcmQgJiYgbWF5YmVSZWNvcmRbSVNfUkVDT1JEX1NFTlRJTkVMXSk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsdWVPYmplY3QobWF5YmVWYWx1ZSkge1xuICByZXR1cm4gISEobWF5YmVWYWx1ZSAmJlxuICAgIHR5cGVvZiBtYXliZVZhbHVlLmVxdWFscyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiBtYXliZVZhbHVlLmhhc2hDb2RlID09PSAnZnVuY3Rpb24nKTtcbn1cblxudmFyIElTX0lURVJBQkxFX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfSVRFUkFCTEVfX0BAJztcbnZhciBJU19LRVlFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0tFWUVEX19AQCc7XG52YXIgSVNfSU5ERVhFRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX0lOREVYRURfX0BAJztcbnZhciBJU19PUkRFUkVEX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfT1JERVJFRF9fQEAnO1xudmFyIElTX1JFQ09SRF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1JFQ09SRF9fQEAnO1xuXG52YXIgQ29sbGVjdGlvbiA9IGZ1bmN0aW9uIENvbGxlY3Rpb24odmFsdWUpIHtcbiAgcmV0dXJuIGlzQ29sbGVjdGlvbih2YWx1ZSkgPyB2YWx1ZSA6IFNlcSh2YWx1ZSk7XG59O1xuXG52YXIgS2V5ZWRDb2xsZWN0aW9uID0gKGZ1bmN0aW9uIChDb2xsZWN0aW9uKSB7XG4gIGZ1bmN0aW9uIEtleWVkQ29sbGVjdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBpc0tleWVkKHZhbHVlKSA/IHZhbHVlIDogS2V5ZWRTZXEodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBDb2xsZWN0aW9uICkgS2V5ZWRDb2xsZWN0aW9uLl9fcHJvdG9fXyA9IENvbGxlY3Rpb247XG4gIEtleWVkQ29sbGVjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlICk7XG4gIEtleWVkQ29sbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBLZXllZENvbGxlY3Rpb247XG5cbiAgcmV0dXJuIEtleWVkQ29sbGVjdGlvbjtcbn0oQ29sbGVjdGlvbikpO1xuXG52YXIgSW5kZXhlZENvbGxlY3Rpb24gPSAoZnVuY3Rpb24gKENvbGxlY3Rpb24pIHtcbiAgZnVuY3Rpb24gSW5kZXhlZENvbGxlY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gaXNJbmRleGVkKHZhbHVlKSA/IHZhbHVlIDogSW5kZXhlZFNlcSh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIENvbGxlY3Rpb24gKSBJbmRleGVkQ29sbGVjdGlvbi5fX3Byb3RvX18gPSBDb2xsZWN0aW9uO1xuICBJbmRleGVkQ29sbGVjdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb2xsZWN0aW9uICYmIENvbGxlY3Rpb24ucHJvdG90eXBlICk7XG4gIEluZGV4ZWRDb2xsZWN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEluZGV4ZWRDb2xsZWN0aW9uO1xuXG4gIHJldHVybiBJbmRleGVkQ29sbGVjdGlvbjtcbn0oQ29sbGVjdGlvbikpO1xuXG52YXIgU2V0Q29sbGVjdGlvbiA9IChmdW5jdGlvbiAoQ29sbGVjdGlvbikge1xuICBmdW5jdGlvbiBTZXRDb2xsZWN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzQ29sbGVjdGlvbih2YWx1ZSkgJiYgIWlzQXNzb2NpYXRpdmUodmFsdWUpID8gdmFsdWUgOiBTZXRTZXEodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBDb2xsZWN0aW9uICkgU2V0Q29sbGVjdGlvbi5fX3Byb3RvX18gPSBDb2xsZWN0aW9uO1xuICBTZXRDb2xsZWN0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIENvbGxlY3Rpb24gJiYgQ29sbGVjdGlvbi5wcm90b3R5cGUgKTtcbiAgU2V0Q29sbGVjdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZXRDb2xsZWN0aW9uO1xuXG4gIHJldHVybiBTZXRDb2xsZWN0aW9uO1xufShDb2xsZWN0aW9uKSk7XG5cbkNvbGxlY3Rpb24uS2V5ZWQgPSBLZXllZENvbGxlY3Rpb247XG5Db2xsZWN0aW9uLkluZGV4ZWQgPSBJbmRleGVkQ29sbGVjdGlvbjtcbkNvbGxlY3Rpb24uU2V0ID0gU2V0Q29sbGVjdGlvbjtcblxudmFyIElURVJBVEVfS0VZUyA9IDA7XG52YXIgSVRFUkFURV9WQUxVRVMgPSAxO1xudmFyIElURVJBVEVfRU5UUklFUyA9IDI7XG5cbnZhciBSRUFMX0lURVJBVE9SX1NZTUJPTCA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLml0ZXJhdG9yO1xudmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuXG52YXIgSVRFUkFUT1JfU1lNQk9MID0gUkVBTF9JVEVSQVRPUl9TWU1CT0wgfHwgRkFVWF9JVEVSQVRPUl9TWU1CT0w7XG5cbnZhciBJdGVyYXRvciA9IGZ1bmN0aW9uIEl0ZXJhdG9yKG5leHQpIHtcbiAgdGhpcy5uZXh0ID0gbmV4dDtcbn07XG5cbkl0ZXJhdG9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgcmV0dXJuICdbSXRlcmF0b3JdJztcbn07XG5cbkl0ZXJhdG9yLktFWVMgPSBJVEVSQVRFX0tFWVM7XG5JdGVyYXRvci5WQUxVRVMgPSBJVEVSQVRFX1ZBTFVFUztcbkl0ZXJhdG9yLkVOVFJJRVMgPSBJVEVSQVRFX0VOVFJJRVM7XG5cbkl0ZXJhdG9yLnByb3RvdHlwZS5pbnNwZWN0ID0gKEl0ZXJhdG9yLnByb3RvdHlwZS50b1NvdXJjZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xufSk7XG5JdGVyYXRvci5wcm90b3R5cGVbSVRFUkFUT1JfU1lNQk9MXSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgaXRlcmF0b3JSZXN1bHQpIHtcbiAgdmFyIHZhbHVlID0gdHlwZSA9PT0gMCA/IGsgOiB0eXBlID09PSAxID8gdiA6IFtrLCB2XTtcbiAgaXRlcmF0b3JSZXN1bHRcbiAgICA/IChpdGVyYXRvclJlc3VsdC52YWx1ZSA9IHZhbHVlKVxuICAgIDogKGl0ZXJhdG9yUmVzdWx0ID0ge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGRvbmU6IGZhbHNlXG4gICAgICB9KTtcbiAgcmV0dXJuIGl0ZXJhdG9yUmVzdWx0O1xufVxuXG5mdW5jdGlvbiBpdGVyYXRvckRvbmUoKSB7XG4gIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbn1cblxuZnVuY3Rpb24gaGFzSXRlcmF0b3IobWF5YmVJdGVyYWJsZSkge1xuICByZXR1cm4gISFnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpO1xufVxuXG5mdW5jdGlvbiBpc0l0ZXJhdG9yKG1heWJlSXRlcmF0b3IpIHtcbiAgcmV0dXJuIG1heWJlSXRlcmF0b3IgJiYgdHlwZW9mIG1heWJlSXRlcmF0b3IubmV4dCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gZ2V0SXRlcmF0b3IoaXRlcmFibGUpIHtcbiAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKGl0ZXJhYmxlKTtcbiAgcmV0dXJuIGl0ZXJhdG9yRm4gJiYgaXRlcmF0b3JGbi5jYWxsKGl0ZXJhYmxlKTtcbn1cblxuZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihpdGVyYWJsZSkge1xuICB2YXIgaXRlcmF0b3JGbiA9IGl0ZXJhYmxlICYmXG4gICAgKChSRUFMX0lURVJBVE9SX1NZTUJPTCAmJiBpdGVyYWJsZVtSRUFMX0lURVJBVE9SX1NZTUJPTF0pIHx8XG4gICAgICBpdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF0pO1xuICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gaXRlcmF0b3JGbjtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0FycmF5TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLmxlbmd0aCA9PT0gJ251bWJlcic7XG59XG5cbnZhciBTZXEgPSAoZnVuY3Rpb24gKENvbGxlY3Rpb24kJDEpIHtcbiAgZnVuY3Rpb24gU2VxKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlTZXF1ZW5jZSgpXG4gICAgICA6IGlzQ29sbGVjdGlvbih2YWx1ZSkgfHwgaXNSZWNvcmQodmFsdWUpXG4gICAgICAgICAgPyB2YWx1ZS50b1NlcSgpXG4gICAgICAgICAgOiBzZXFGcm9tVmFsdWUodmFsdWUpO1xuICB9XG5cbiAgaWYgKCBDb2xsZWN0aW9uJCQxICkgU2VxLl9fcHJvdG9fXyA9IENvbGxlY3Rpb24kJDE7XG4gIFNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBDb2xsZWN0aW9uJCQxICYmIENvbGxlY3Rpb24kJDEucHJvdG90eXBlICk7XG4gIFNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZXE7XG5cbiAgU2VxLm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gU2VxKGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgU2VxLnByb3RvdHlwZS50b1NlcSA9IGZ1bmN0aW9uIHRvU2VxICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBTZXEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ1NlcSB7JywgJ30nKTtcbiAgfTtcblxuICBTZXEucHJvdG90eXBlLmNhY2hlUmVzdWx0ID0gZnVuY3Rpb24gY2FjaGVSZXN1bHQgKCkge1xuICAgIGlmICghdGhpcy5fY2FjaGUgJiYgdGhpcy5fX2l0ZXJhdGVVbmNhY2hlZCkge1xuICAgICAgdGhpcy5fY2FjaGUgPSB0aGlzLmVudHJ5U2VxKCkudG9BcnJheSgpO1xuICAgICAgdGhpcy5zaXplID0gdGhpcy5fY2FjaGUubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvLyBhYnN0cmFjdCBfX2l0ZXJhdGVVbmNhY2hlZChmbiwgcmV2ZXJzZSlcblxuICBTZXEucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBjYWNoZSA9IHRoaXMuX2NhY2hlO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgdmFyIHNpemUgPSBjYWNoZS5sZW5ndGg7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICB3aGlsZSAoaSAhPT0gc2l6ZSkge1xuICAgICAgICB2YXIgZW50cnkgPSBjYWNoZVtyZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrK107XG4gICAgICAgIGlmIChmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdGVVbmNhY2hlZChmbiwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgLy8gYWJzdHJhY3QgX19pdGVyYXRvclVuY2FjaGVkKHR5cGUsIHJldmVyc2UpXG5cbiAgU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBjYWNoZSA9IHRoaXMuX2NhY2hlO1xuICAgIGlmIChjYWNoZSkge1xuICAgICAgdmFyIHNpemUgPSBjYWNoZS5sZW5ndGg7XG4gICAgICB2YXIgaSA9IDA7XG4gICAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGkgPT09IHNpemUpIHtcbiAgICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJ5ID0gY2FjaGVbcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKytdO1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9faXRlcmF0b3JVbmNhY2hlZCh0eXBlLCByZXZlcnNlKTtcbiAgfTtcblxuICByZXR1cm4gU2VxO1xufShDb2xsZWN0aW9uKSk7XG5cbnZhciBLZXllZFNlcSA9IChmdW5jdGlvbiAoU2VxKSB7XG4gIGZ1bmN0aW9uIEtleWVkU2VxKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlTZXF1ZW5jZSgpLnRvS2V5ZWRTZXEoKVxuICAgICAgOiBpc0NvbGxlY3Rpb24odmFsdWUpXG4gICAgICAgICAgPyBpc0tleWVkKHZhbHVlKSA/IHZhbHVlLnRvU2VxKCkgOiB2YWx1ZS5mcm9tRW50cnlTZXEoKVxuICAgICAgICAgIDogaXNSZWNvcmQodmFsdWUpID8gdmFsdWUudG9TZXEoKSA6IGtleWVkU2VxRnJvbVZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggU2VxICkgS2V5ZWRTZXEuX19wcm90b19fID0gU2VxO1xuICBLZXllZFNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTZXEgJiYgU2VxLnByb3RvdHlwZSApO1xuICBLZXllZFNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBLZXllZFNlcTtcblxuICBLZXllZFNlcS5wcm90b3R5cGUudG9LZXllZFNlcSA9IGZ1bmN0aW9uIHRvS2V5ZWRTZXEgKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHJldHVybiBLZXllZFNlcTtcbn0oU2VxKSk7XG5cbnZhciBJbmRleGVkU2VxID0gKGZ1bmN0aW9uIChTZXEpIHtcbiAgZnVuY3Rpb24gSW5kZXhlZFNlcSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5U2VxdWVuY2UoKVxuICAgICAgOiBpc0NvbGxlY3Rpb24odmFsdWUpXG4gICAgICAgICAgPyBpc0tleWVkKHZhbHVlKSA/IHZhbHVlLmVudHJ5U2VxKCkgOiB2YWx1ZS50b0luZGV4ZWRTZXEoKVxuICAgICAgICAgIDogaXNSZWNvcmQodmFsdWUpXG4gICAgICAgICAgICAgID8gdmFsdWUudG9TZXEoKS5lbnRyeVNlcSgpXG4gICAgICAgICAgICAgIDogaW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gIH1cblxuICBpZiAoIFNlcSApIEluZGV4ZWRTZXEuX19wcm90b19fID0gU2VxO1xuICBJbmRleGVkU2VxLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNlcSAmJiBTZXEucHJvdG90eXBlICk7XG4gIEluZGV4ZWRTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gSW5kZXhlZFNlcTtcblxuICBJbmRleGVkU2VxLm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gSW5kZXhlZFNlcShhcmd1bWVudHMpO1xuICB9O1xuXG4gIEluZGV4ZWRTZXEucHJvdG90eXBlLnRvSW5kZXhlZFNlcSA9IGZ1bmN0aW9uIHRvSW5kZXhlZFNlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgSW5kZXhlZFNlcS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU2VxIFsnLCAnXScpO1xuICB9O1xuXG4gIHJldHVybiBJbmRleGVkU2VxO1xufShTZXEpKTtcblxudmFyIFNldFNlcSA9IChmdW5jdGlvbiAoU2VxKSB7XG4gIGZ1bmN0aW9uIFNldFNlcSh2YWx1ZSkge1xuICAgIHJldHVybiAoaXNDb2xsZWN0aW9uKHZhbHVlKSAmJiAhaXNBc3NvY2lhdGl2ZSh2YWx1ZSlcbiAgICAgID8gdmFsdWVcbiAgICAgIDogSW5kZXhlZFNlcSh2YWx1ZSkpLnRvU2V0U2VxKCk7XG4gIH1cblxuICBpZiAoIFNlcSApIFNldFNlcS5fX3Byb3RvX18gPSBTZXE7XG4gIFNldFNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTZXEgJiYgU2VxLnByb3RvdHlwZSApO1xuICBTZXRTZXEucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gU2V0U2VxO1xuXG4gIFNldFNlcS5vZiA9IGZ1bmN0aW9uIG9mICgvKi4uLnZhbHVlcyovKSB7XG4gICAgcmV0dXJuIFNldFNlcShhcmd1bWVudHMpO1xuICB9O1xuXG4gIFNldFNlcS5wcm90b3R5cGUudG9TZXRTZXEgPSBmdW5jdGlvbiB0b1NldFNlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgcmV0dXJuIFNldFNlcTtcbn0oU2VxKSk7XG5cblNlcS5pc1NlcSA9IGlzU2VxO1xuU2VxLktleWVkID0gS2V5ZWRTZXE7XG5TZXEuU2V0ID0gU2V0U2VxO1xuU2VxLkluZGV4ZWQgPSBJbmRleGVkU2VxO1xuXG52YXIgSVNfU0VRX1NFTlRJTkVMID0gJ0BAX19JTU1VVEFCTEVfU0VRX19AQCc7XG5cblNlcS5wcm90b3R5cGVbSVNfU0VRX1NFTlRJTkVMXSA9IHRydWU7XG5cbi8vICNwcmFnbWEgUm9vdCBTZXF1ZW5jZXNcblxudmFyIEFycmF5U2VxID0gKGZ1bmN0aW9uIChJbmRleGVkU2VxKSB7XG4gIGZ1bmN0aW9uIEFycmF5U2VxKGFycmF5KSB7XG4gICAgdGhpcy5fYXJyYXkgPSBhcnJheTtcbiAgICB0aGlzLnNpemUgPSBhcnJheS5sZW5ndGg7XG4gIH1cblxuICBpZiAoIEluZGV4ZWRTZXEgKSBBcnJheVNlcS5fX3Byb3RvX18gPSBJbmRleGVkU2VxO1xuICBBcnJheVNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBJbmRleGVkU2VxICYmIEluZGV4ZWRTZXEucHJvdG90eXBlICk7XG4gIEFycmF5U2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEFycmF5U2VxO1xuXG4gIEFycmF5U2VxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmhhcyhpbmRleCkgPyB0aGlzLl9hcnJheVt3cmFwSW5kZXgodGhpcywgaW5kZXgpXSA6IG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIEFycmF5U2VxLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgYXJyYXkgPSB0aGlzLl9hcnJheTtcbiAgICB2YXIgc2l6ZSA9IGFycmF5Lmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgIT09IHNpemUpIHtcbiAgICAgIHZhciBpaSA9IHJldmVyc2UgPyBzaXplIC0gKytpIDogaSsrO1xuICAgICAgaWYgKGZuKGFycmF5W2lpXSwgaWksIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfTtcblxuICBBcnJheVNlcS5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgYXJyYXkgPSB0aGlzLl9hcnJheTtcbiAgICB2YXIgc2l6ZSA9IGFycmF5Lmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaSA9PT0gc2l6ZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICB2YXIgaWkgPSByZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrKztcbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGlpLCBhcnJheVtpaV0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBBcnJheVNlcTtcbn0oSW5kZXhlZFNlcSkpO1xuXG52YXIgT2JqZWN0U2VxID0gKGZ1bmN0aW9uIChLZXllZFNlcSkge1xuICBmdW5jdGlvbiBPYmplY3RTZXEob2JqZWN0KSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuICAgIHRoaXMuX29iamVjdCA9IG9iamVjdDtcbiAgICB0aGlzLl9rZXlzID0ga2V5cztcbiAgICB0aGlzLnNpemUgPSBrZXlzLmxlbmd0aDtcbiAgfVxuXG4gIGlmICggS2V5ZWRTZXEgKSBPYmplY3RTZXEuX19wcm90b19fID0gS2V5ZWRTZXE7XG4gIE9iamVjdFNlcS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBLZXllZFNlcSAmJiBLZXllZFNlcS5wcm90b3R5cGUgKTtcbiAgT2JqZWN0U2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE9iamVjdFNlcTtcblxuICBPYmplY3RTZXEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoa2V5LCBub3RTZXRWYWx1ZSkge1xuICAgIGlmIChub3RTZXRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmICF0aGlzLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gbm90U2V0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9vYmplY3Rba2V5XTtcbiAgfTtcblxuICBPYmplY3RTZXEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIGhhcyAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX29iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICB9O1xuXG4gIE9iamVjdFNlcS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIG9iamVjdCA9IHRoaXMuX29iamVjdDtcbiAgICB2YXIga2V5cyA9IHRoaXMuX2tleXM7XG4gICAgdmFyIHNpemUgPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgIT09IHNpemUpIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW3JldmVyc2UgPyBzaXplIC0gKytpIDogaSsrXTtcbiAgICAgIGlmIChmbihvYmplY3Rba2V5XSwga2V5LCB0aGlzJDEpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH07XG5cbiAgT2JqZWN0U2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBvYmplY3QgPSB0aGlzLl9vYmplY3Q7XG4gICAgdmFyIGtleXMgPSB0aGlzLl9rZXlzO1xuICAgIHZhciBzaXplID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGkgPT09IHNpemUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIGtleSA9IGtleXNbcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKytdO1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwga2V5LCBvYmplY3Rba2V5XSk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIE9iamVjdFNlcTtcbn0oS2V5ZWRTZXEpKTtcbk9iamVjdFNlcS5wcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuXG52YXIgQ29sbGVjdGlvblNlcSA9IChmdW5jdGlvbiAoSW5kZXhlZFNlcSkge1xuICBmdW5jdGlvbiBDb2xsZWN0aW9uU2VxKGNvbGxlY3Rpb24pIHtcbiAgICB0aGlzLl9jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbiAgICB0aGlzLnNpemUgPSBjb2xsZWN0aW9uLmxlbmd0aCB8fCBjb2xsZWN0aW9uLnNpemU7XG4gIH1cblxuICBpZiAoIEluZGV4ZWRTZXEgKSBDb2xsZWN0aW9uU2VxLl9fcHJvdG9fXyA9IEluZGV4ZWRTZXE7XG4gIENvbGxlY3Rpb25TZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW5kZXhlZFNlcSAmJiBJbmRleGVkU2VxLnByb3RvdHlwZSApO1xuICBDb2xsZWN0aW9uU2VxLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IENvbGxlY3Rpb25TZXE7XG5cbiAgQ29sbGVjdGlvblNlcS5wcm90b3R5cGUuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiBfX2l0ZXJhdGVVbmNhY2hlZCAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcy5fY29sbGVjdGlvbjtcbiAgICB2YXIgaXRlcmF0b3IgPSBnZXRJdGVyYXRvcihjb2xsZWN0aW9uKTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgaWYgKGlzSXRlcmF0b3IoaXRlcmF0b3IpKSB7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgaWYgKGZuKHN0ZXAudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcblxuICBDb2xsZWN0aW9uU2VxLnByb3RvdHlwZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yVW5jYWNoZWQgKHR5cGUsIHJldmVyc2UpIHtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXMuX2NvbGxlY3Rpb247XG4gICAgdmFyIGl0ZXJhdG9yID0gZ2V0SXRlcmF0b3IoY29sbGVjdGlvbik7XG4gICAgaWYgKCFpc0l0ZXJhdG9yKGl0ZXJhdG9yKSkge1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihpdGVyYXRvckRvbmUpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIHJldHVybiBzdGVwLmRvbmUgPyBzdGVwIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHN0ZXAudmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBDb2xsZWN0aW9uU2VxO1xufShJbmRleGVkU2VxKSk7XG5cbnZhciBJdGVyYXRvclNlcSA9IChmdW5jdGlvbiAoSW5kZXhlZFNlcSkge1xuICBmdW5jdGlvbiBJdGVyYXRvclNlcShpdGVyYXRvcikge1xuICAgIHRoaXMuX2l0ZXJhdG9yID0gaXRlcmF0b3I7XG4gICAgdGhpcy5faXRlcmF0b3JDYWNoZSA9IFtdO1xuICB9XG5cbiAgaWYgKCBJbmRleGVkU2VxICkgSXRlcmF0b3JTZXEuX19wcm90b19fID0gSW5kZXhlZFNlcTtcbiAgSXRlcmF0b3JTZXEucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW5kZXhlZFNlcSAmJiBJbmRleGVkU2VxLnByb3RvdHlwZSApO1xuICBJdGVyYXRvclNlcS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBJdGVyYXRvclNlcTtcblxuICBJdGVyYXRvclNlcS5wcm90b3R5cGUuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbiBfX2l0ZXJhdGVVbmNhY2hlZCAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXJhdG9yO1xuICAgIHZhciBjYWNoZSA9IHRoaXMuX2l0ZXJhdG9yQ2FjaGU7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHdoaWxlIChpdGVyYXRpb25zIDwgY2FjaGUubGVuZ3RoKSB7XG4gICAgICBpZiAoZm4oY2FjaGVbaXRlcmF0aW9uc10sIGl0ZXJhdGlvbnMrKywgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBzdGVwO1xuICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIHZhciB2YWwgPSBzdGVwLnZhbHVlO1xuICAgICAgY2FjaGVbaXRlcmF0aW9uc10gPSB2YWw7XG4gICAgICBpZiAoZm4odmFsLCBpdGVyYXRpb25zKyssIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcblxuICBJdGVyYXRvclNlcS5wcm90b3R5cGUuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24gX19pdGVyYXRvclVuY2FjaGVkICh0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlcmF0b3I7XG4gICAgdmFyIGNhY2hlID0gdGhpcy5faXRlcmF0b3JDYWNoZTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXRlcmF0aW9ucyA+PSBjYWNoZS5sZW5ndGgpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgICBjYWNoZVtpdGVyYXRpb25zXSA9IHN0ZXAudmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zLCBjYWNoZVtpdGVyYXRpb25zKytdKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gSXRlcmF0b3JTZXE7XG59KEluZGV4ZWRTZXEpKTtcblxuLy8gIyBwcmFnbWEgSGVscGVyIGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiBpc1NlcShtYXliZVNlcSkge1xuICByZXR1cm4gISEobWF5YmVTZXEgJiYgbWF5YmVTZXFbSVNfU0VRX1NFTlRJTkVMXSk7XG59XG5cbnZhciBFTVBUWV9TRVE7XG5cbmZ1bmN0aW9uIGVtcHR5U2VxdWVuY2UoKSB7XG4gIHJldHVybiBFTVBUWV9TRVEgfHwgKEVNUFRZX1NFUSA9IG5ldyBBcnJheVNlcShbXSkpO1xufVxuXG5mdW5jdGlvbiBrZXllZFNlcUZyb21WYWx1ZSh2YWx1ZSkge1xuICB2YXIgc2VxID0gQXJyYXkuaXNBcnJheSh2YWx1ZSlcbiAgICA/IG5ldyBBcnJheVNlcSh2YWx1ZSlcbiAgICA6IGlzSXRlcmF0b3IodmFsdWUpXG4gICAgICAgID8gbmV3IEl0ZXJhdG9yU2VxKHZhbHVlKVxuICAgICAgICA6IGhhc0l0ZXJhdG9yKHZhbHVlKSA/IG5ldyBDb2xsZWN0aW9uU2VxKHZhbHVlKSA6IHVuZGVmaW5lZDtcbiAgaWYgKHNlcSkge1xuICAgIHJldHVybiBzZXEuZnJvbUVudHJ5U2VxKCk7XG4gIH1cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbmV3IE9iamVjdFNlcSh2YWx1ZSk7XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAnRXhwZWN0ZWQgQXJyYXkgb3IgY29sbGVjdGlvbiBvYmplY3Qgb2YgW2ssIHZdIGVudHJpZXMsIG9yIGtleWVkIG9iamVjdDogJyArXG4gICAgICB2YWx1ZVxuICApO1xufVxuXG5mdW5jdGlvbiBpbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gIHZhciBzZXEgPSBtYXliZUluZGV4ZWRTZXFGcm9tVmFsdWUodmFsdWUpO1xuICBpZiAoc2VxKSB7XG4gICAgcmV0dXJuIHNlcTtcbiAgfVxuICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICdFeHBlY3RlZCBBcnJheSBvciBjb2xsZWN0aW9uIG9iamVjdCBvZiB2YWx1ZXM6ICcgKyB2YWx1ZVxuICApO1xufVxuXG5mdW5jdGlvbiBzZXFGcm9tVmFsdWUodmFsdWUpIHtcbiAgdmFyIHNlcSA9IG1heWJlSW5kZXhlZFNlcUZyb21WYWx1ZSh2YWx1ZSk7XG4gIGlmIChzZXEpIHtcbiAgICByZXR1cm4gc2VxO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG5ldyBPYmplY3RTZXEodmFsdWUpO1xuICB9XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgJ0V4cGVjdGVkIEFycmF5IG9yIGNvbGxlY3Rpb24gb2JqZWN0IG9mIHZhbHVlcywgb3Iga2V5ZWQgb2JqZWN0OiAnICsgdmFsdWVcbiAgKTtcbn1cblxuZnVuY3Rpb24gbWF5YmVJbmRleGVkU2VxRnJvbVZhbHVlKHZhbHVlKSB7XG4gIHJldHVybiBpc0FycmF5TGlrZSh2YWx1ZSlcbiAgICA/IG5ldyBBcnJheVNlcSh2YWx1ZSlcbiAgICA6IGlzSXRlcmF0b3IodmFsdWUpXG4gICAgICAgID8gbmV3IEl0ZXJhdG9yU2VxKHZhbHVlKVxuICAgICAgICA6IGhhc0l0ZXJhdG9yKHZhbHVlKSA/IG5ldyBDb2xsZWN0aW9uU2VxKHZhbHVlKSA6IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBBbiBleHRlbnNpb24gb2YgdGhlIFwic2FtZS12YWx1ZVwiIGFsZ29yaXRobSBhcyBbZGVzY3JpYmVkIGZvciB1c2UgYnkgRVM2IE1hcFxuICogYW5kIFNldF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvTWFwI0tleV9lcXVhbGl0eSlcbiAqXG4gKiBOYU4gaXMgY29uc2lkZXJlZCB0aGUgc2FtZSBhcyBOYU4sIGhvd2V2ZXIgLTAgYW5kIDAgYXJlIGNvbnNpZGVyZWQgdGhlIHNhbWVcbiAqIHZhbHVlLCB3aGljaCBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgYWxnb3JpdGhtIGRlc2NyaWJlZCBieVxuICogW2BPYmplY3QuaXNgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXMpLlxuICpcbiAqIFRoaXMgaXMgZXh0ZW5kZWQgZnVydGhlciB0byBhbGxvdyBPYmplY3RzIHRvIGRlc2NyaWJlIHRoZSB2YWx1ZXMgdGhleVxuICogcmVwcmVzZW50LCBieSB3YXkgb2YgYHZhbHVlT2ZgIG9yIGBlcXVhbHNgIChhbmQgYGhhc2hDb2RlYCkuXG4gKlxuICogTm90ZTogYmVjYXVzZSBvZiB0aGlzIGV4dGVuc2lvbiwgdGhlIGtleSBlcXVhbGl0eSBvZiBJbW11dGFibGUuTWFwIGFuZCB0aGVcbiAqIHZhbHVlIGVxdWFsaXR5IG9mIEltbXV0YWJsZS5TZXQgd2lsbCBkaWZmZXIgZnJvbSBFUzYgTWFwIGFuZCBTZXQuXG4gKlxuICogIyMjIERlZmluaW5nIGN1c3RvbSB2YWx1ZXNcbiAqXG4gKiBUaGUgZWFzaWVzdCB3YXkgdG8gZGVzY3JpYmUgdGhlIHZhbHVlIGFuIG9iamVjdCByZXByZXNlbnRzIGlzIGJ5IGltcGxlbWVudGluZ1xuICogYHZhbHVlT2ZgLiBGb3IgZXhhbXBsZSwgYERhdGVgIHJlcHJlc2VudHMgYSB2YWx1ZSBieSByZXR1cm5pbmcgYSB1bml4XG4gKiB0aW1lc3RhbXAgZm9yIGB2YWx1ZU9mYDpcbiAqXG4gKiAgICAgdmFyIGRhdGUxID0gbmV3IERhdGUoMTIzNDU2Nzg5MDAwMCk7IC8vIEZyaSBGZWIgMTMgMjAwOSAuLi5cbiAqICAgICB2YXIgZGF0ZTIgPSBuZXcgRGF0ZSgxMjM0NTY3ODkwMDAwKTtcbiAqICAgICBkYXRlMS52YWx1ZU9mKCk7IC8vIDEyMzQ1Njc4OTAwMDBcbiAqICAgICBhc3NlcnQoIGRhdGUxICE9PSBkYXRlMiApO1xuICogICAgIGFzc2VydCggSW1tdXRhYmxlLmlzKCBkYXRlMSwgZGF0ZTIgKSApO1xuICpcbiAqIE5vdGU6IG92ZXJyaWRpbmcgYHZhbHVlT2ZgIG1heSBoYXZlIG90aGVyIGltcGxpY2F0aW9ucyBpZiB5b3UgdXNlIHRoaXMgb2JqZWN0XG4gKiB3aGVyZSBKYXZhU2NyaXB0IGV4cGVjdHMgYSBwcmltaXRpdmUsIHN1Y2ggYXMgaW1wbGljaXQgc3RyaW5nIGNvZXJjaW9uLlxuICpcbiAqIEZvciBtb3JlIGNvbXBsZXggdHlwZXMsIGVzcGVjaWFsbHkgY29sbGVjdGlvbnMsIGltcGxlbWVudGluZyBgdmFsdWVPZmAgbWF5XG4gKiBub3QgYmUgcGVyZm9ybWFudC4gQW4gYWx0ZXJuYXRpdmUgaXMgdG8gaW1wbGVtZW50IGBlcXVhbHNgIGFuZCBgaGFzaENvZGVgLlxuICpcbiAqIGBlcXVhbHNgIHRha2VzIGFub3RoZXIgb2JqZWN0LCBwcmVzdW1hYmx5IG9mIHNpbWlsYXIgdHlwZSwgYW5kIHJldHVybnMgdHJ1ZVxuICogaWYgaXQgaXMgZXF1YWwuIEVxdWFsaXR5IGlzIHN5bW1ldHJpY2FsLCBzbyB0aGUgc2FtZSByZXN1bHQgc2hvdWxkIGJlXG4gKiByZXR1cm5lZCBpZiB0aGlzIGFuZCB0aGUgYXJndW1lbnQgYXJlIGZsaXBwZWQuXG4gKlxuICogICAgIGFzc2VydCggYS5lcXVhbHMoYikgPT09IGIuZXF1YWxzKGEpICk7XG4gKlxuICogYGhhc2hDb2RlYCByZXR1cm5zIGEgMzJiaXQgaW50ZWdlciBudW1iZXIgcmVwcmVzZW50aW5nIHRoZSBvYmplY3Qgd2hpY2ggd2lsbFxuICogYmUgdXNlZCB0byBkZXRlcm1pbmUgaG93IHRvIHN0b3JlIHRoZSB2YWx1ZSBvYmplY3QgaW4gYSBNYXAgb3IgU2V0LiBZb3UgbXVzdFxuICogcHJvdmlkZSBib3RoIG9yIG5laXRoZXIgbWV0aG9kcywgb25lIG11c3Qgbm90IGV4aXN0IHdpdGhvdXQgdGhlIG90aGVyLlxuICpcbiAqIEFsc28sIGFuIGltcG9ydGFudCByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGVzZSBtZXRob2RzIG11c3QgYmUgdXBoZWxkOiBpZiB0d29cbiAqIHZhbHVlcyBhcmUgZXF1YWwsIHRoZXkgKm11c3QqIHJldHVybiB0aGUgc2FtZSBoYXNoQ29kZS4gSWYgdGhlIHZhbHVlcyBhcmUgbm90XG4gKiBlcXVhbCwgdGhleSBtaWdodCBoYXZlIHRoZSBzYW1lIGhhc2hDb2RlOyB0aGlzIGlzIGNhbGxlZCBhIGhhc2ggY29sbGlzaW9uLFxuICogYW5kIHdoaWxlIHVuZGVzaXJhYmxlIGZvciBwZXJmb3JtYW5jZSByZWFzb25zLCBpdCBpcyBhY2NlcHRhYmxlLlxuICpcbiAqICAgICBpZiAoYS5lcXVhbHMoYikpIHtcbiAqICAgICAgIGFzc2VydCggYS5oYXNoQ29kZSgpID09PSBiLmhhc2hDb2RlKCkgKTtcbiAqICAgICB9XG4gKlxuICogQWxsIEltbXV0YWJsZSBjb2xsZWN0aW9ucyBhcmUgVmFsdWUgT2JqZWN0czogdGhleSBpbXBsZW1lbnQgYGVxdWFscygpYFxuICogYW5kIGBoYXNoQ29kZSgpYC5cbiAqL1xuZnVuY3Rpb24gaXModmFsdWVBLCB2YWx1ZUIpIHtcbiAgaWYgKHZhbHVlQSA9PT0gdmFsdWVCIHx8ICh2YWx1ZUEgIT09IHZhbHVlQSAmJiB2YWx1ZUIgIT09IHZhbHVlQikpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoIXZhbHVlQSB8fCAhdmFsdWVCKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChcbiAgICB0eXBlb2YgdmFsdWVBLnZhbHVlT2YgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlQi52YWx1ZU9mID09PSAnZnVuY3Rpb24nXG4gICkge1xuICAgIHZhbHVlQSA9IHZhbHVlQS52YWx1ZU9mKCk7XG4gICAgdmFsdWVCID0gdmFsdWVCLnZhbHVlT2YoKTtcbiAgICBpZiAodmFsdWVBID09PSB2YWx1ZUIgfHwgKHZhbHVlQSAhPT0gdmFsdWVBICYmIHZhbHVlQiAhPT0gdmFsdWVCKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICghdmFsdWVBIHx8ICF2YWx1ZUIpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICEhKGlzVmFsdWVPYmplY3QodmFsdWVBKSAmJlxuICAgIGlzVmFsdWVPYmplY3QodmFsdWVCKSAmJlxuICAgIHZhbHVlQS5lcXVhbHModmFsdWVCKSk7XG59XG5cbmZ1bmN0aW9uIGZyb21KUyh2YWx1ZSwgY29udmVydGVyKSB7XG4gIHJldHVybiBmcm9tSlNXaXRoKFxuICAgIFtdLFxuICAgIGNvbnZlcnRlciB8fCBkZWZhdWx0Q29udmVydGVyLFxuICAgIHZhbHVlLFxuICAgICcnLFxuICAgIGNvbnZlcnRlciAmJiBjb252ZXJ0ZXIubGVuZ3RoID4gMiA/IFtdIDogdW5kZWZpbmVkLFxuICAgIHsgJyc6IHZhbHVlIH1cbiAgKTtcbn1cblxuZnVuY3Rpb24gZnJvbUpTV2l0aChzdGFjaywgY29udmVydGVyLCB2YWx1ZSwga2V5LCBrZXlQYXRoLCBwYXJlbnRWYWx1ZSkge1xuICB2YXIgdG9TZXEgPSBBcnJheS5pc0FycmF5KHZhbHVlKVxuICAgID8gSW5kZXhlZFNlcVxuICAgIDogaXNQbGFpbk9iaih2YWx1ZSkgPyBLZXllZFNlcSA6IG51bGw7XG4gIGlmICh0b1NlcSkge1xuICAgIGlmICh+c3RhY2suaW5kZXhPZih2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IGNpcmN1bGFyIHN0cnVjdHVyZSB0byBJbW11dGFibGUnKTtcbiAgICB9XG4gICAgc3RhY2sucHVzaCh2YWx1ZSk7XG4gICAga2V5UGF0aCAmJiBrZXkgIT09ICcnICYmIGtleVBhdGgucHVzaChrZXkpO1xuICAgIHZhciBjb252ZXJ0ZWQgPSBjb252ZXJ0ZXIuY2FsbChcbiAgICAgIHBhcmVudFZhbHVlLFxuICAgICAga2V5LFxuICAgICAgdG9TZXEodmFsdWUpLm1hcChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gZnJvbUpTV2l0aChzdGFjaywgY29udmVydGVyLCB2LCBrLCBrZXlQYXRoLCB2YWx1ZSk7IH0pLFxuICAgICAga2V5UGF0aCAmJiBrZXlQYXRoLnNsaWNlKClcbiAgICApO1xuICAgIHN0YWNrLnBvcCgpO1xuICAgIGtleVBhdGggJiYga2V5UGF0aC5wb3AoKTtcbiAgICByZXR1cm4gY29udmVydGVkO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdENvbnZlcnRlcihrLCB2KSB7XG4gIHJldHVybiBpc0tleWVkKHYpID8gdi50b01hcCgpIDogdi50b0xpc3QoKTtcbn1cblxuZnVuY3Rpb24gaXNQbGFpbk9iaih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiZcbiAgICAodmFsdWUuY29uc3RydWN0b3IgPT09IE9iamVjdCB8fCB2YWx1ZS5jb25zdHJ1Y3RvciA9PT0gdW5kZWZpbmVkKTtcbn1cblxudmFyIGltdWwgPSB0eXBlb2YgTWF0aC5pbXVsID09PSAnZnVuY3Rpb24nICYmXG4gIE1hdGguaW11bCgweGZmZmZmZmZmLCAyKSA9PT0gLTJcbiAgPyBNYXRoLmltdWxcbiAgOiBmdW5jdGlvbiBpbXVsKGEsIGIpIHtcbiAgICAgIGEgfD0gMDsgLy8gaW50XG4gICAgICBiIHw9IDA7IC8vIGludFxuICAgICAgdmFyIGMgPSBhICYgMHhmZmZmO1xuICAgICAgdmFyIGQgPSBiICYgMHhmZmZmO1xuICAgICAgLy8gU2hpZnQgYnkgMCBmaXhlcyB0aGUgc2lnbiBvbiB0aGUgaGlnaCBwYXJ0LlxuICAgICAgcmV0dXJuIGMgKiBkICsgKChhID4+PiAxNikgKiBkICsgYyAqIChiID4+PiAxNikgPDwgMTYgPj4+IDApIHwgMDsgLy8gaW50XG4gICAgfTtcblxuLy8gdjggaGFzIGFuIG9wdGltaXphdGlvbiBmb3Igc3RvcmluZyAzMS1iaXQgc2lnbmVkIG51bWJlcnMuXG4vLyBWYWx1ZXMgd2hpY2ggaGF2ZSBlaXRoZXIgMDAgb3IgMTEgYXMgdGhlIGhpZ2ggb3JkZXIgYml0cyBxdWFsaWZ5LlxuLy8gVGhpcyBmdW5jdGlvbiBkcm9wcyB0aGUgaGlnaGVzdCBvcmRlciBiaXQgaW4gYSBzaWduZWQgbnVtYmVyLCBtYWludGFpbmluZ1xuLy8gdGhlIHNpZ24gYml0LlxuZnVuY3Rpb24gc21pKGkzMikge1xuICByZXR1cm4gaTMyID4+PiAxICYgMHg0MDAwMDAwMCB8IGkzMiAmIDB4YmZmZmZmZmY7XG59XG5cbmZ1bmN0aW9uIGhhc2gobykge1xuICBpZiAobyA9PT0gZmFsc2UgfHwgbyA9PT0gbnVsbCB8fCBvID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZiAodHlwZW9mIG8udmFsdWVPZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG8gPSBvLnZhbHVlT2YoKTtcbiAgICBpZiAobyA9PT0gZmFsc2UgfHwgbyA9PT0gbnVsbCB8fCBvID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfVxuICBpZiAobyA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiAxO1xuICB9XG4gIHZhciB0eXBlID0gdHlwZW9mIG87XG4gIGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuICAgIGlmIChvICE9PSBvIHx8IG8gPT09IEluZmluaXR5KSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIGggPSBvIHwgMDtcbiAgICBpZiAoaCAhPT0gbykge1xuICAgICAgaCBePSBvICogMHhmZmZmZmZmZjtcbiAgICB9XG4gICAgd2hpbGUgKG8gPiAweGZmZmZmZmZmKSB7XG4gICAgICBvIC89IDB4ZmZmZmZmZmY7XG4gICAgICBoIF49IG87XG4gICAgfVxuICAgIHJldHVybiBzbWkoaCk7XG4gIH1cbiAgaWYgKHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG8ubGVuZ3RoID4gU1RSSU5HX0hBU0hfQ0FDSEVfTUlOX1NUUkxFTlxuICAgICAgPyBjYWNoZWRIYXNoU3RyaW5nKG8pXG4gICAgICA6IGhhc2hTdHJpbmcobyk7XG4gIH1cbiAgaWYgKHR5cGVvZiBvLmhhc2hDb2RlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG8uaGFzaENvZGUoKTtcbiAgfVxuICBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gaGFzaEpTT2JqKG8pO1xuICB9XG4gIGlmICh0eXBlb2Ygby50b1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBoYXNoU3RyaW5nKG8udG9TdHJpbmcoKSk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdWYWx1ZSB0eXBlICcgKyB0eXBlICsgJyBjYW5ub3QgYmUgaGFzaGVkLicpO1xufVxuXG5mdW5jdGlvbiBjYWNoZWRIYXNoU3RyaW5nKHN0cmluZykge1xuICB2YXIgaGFzaCA9IHN0cmluZ0hhc2hDYWNoZVtzdHJpbmddO1xuICBpZiAoaGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaGFzaCA9IGhhc2hTdHJpbmcoc3RyaW5nKTtcbiAgICBpZiAoU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSA9PT0gU1RSSU5HX0hBU0hfQ0FDSEVfTUFYX1NJWkUpIHtcbiAgICAgIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUgPSAwO1xuICAgICAgc3RyaW5nSGFzaENhY2hlID0ge307XG4gICAgfVxuICAgIFNUUklOR19IQVNIX0NBQ0hFX1NJWkUrKztcbiAgICBzdHJpbmdIYXNoQ2FjaGVbc3RyaW5nXSA9IGhhc2g7XG4gIH1cbiAgcmV0dXJuIGhhc2g7XG59XG5cbi8vIGh0dHA6Ly9qc3BlcmYuY29tL2hhc2hpbmctc3RyaW5nc1xuZnVuY3Rpb24gaGFzaFN0cmluZyhzdHJpbmcpIHtcbiAgLy8gVGhpcyBpcyB0aGUgaGFzaCBmcm9tIEpWTVxuICAvLyBUaGUgaGFzaCBjb2RlIGZvciBhIHN0cmluZyBpcyBjb21wdXRlZCBhc1xuICAvLyBzWzBdICogMzEgXiAobiAtIDEpICsgc1sxXSAqIDMxIF4gKG4gLSAyKSArIC4uLiArIHNbbiAtIDFdLFxuICAvLyB3aGVyZSBzW2ldIGlzIHRoZSBpdGggY2hhcmFjdGVyIG9mIHRoZSBzdHJpbmcgYW5kIG4gaXMgdGhlIGxlbmd0aCBvZlxuICAvLyB0aGUgc3RyaW5nLiBXZSBcIm1vZFwiIHRoZSByZXN1bHQgdG8gbWFrZSBpdCBiZXR3ZWVuIDAgKGluY2x1c2l2ZSkgYW5kIDJeMzFcbiAgLy8gKGV4Y2x1c2l2ZSkgYnkgZHJvcHBpbmcgaGlnaCBiaXRzLlxuICB2YXIgaGFzaCA9IDA7XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBzdHJpbmcubGVuZ3RoOyBpaSsrKSB7XG4gICAgaGFzaCA9IDMxICogaGFzaCArIHN0cmluZy5jaGFyQ29kZUF0KGlpKSB8IDA7XG4gIH1cbiAgcmV0dXJuIHNtaShoYXNoKTtcbn1cblxuZnVuY3Rpb24gaGFzaEpTT2JqKG9iaikge1xuICB2YXIgaGFzaDtcbiAgaWYgKHVzaW5nV2Vha01hcCkge1xuICAgIGhhc2ggPSB3ZWFrTWFwLmdldChvYmopO1xuICAgIGlmIChoYXNoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBoYXNoO1xuICAgIH1cbiAgfVxuXG4gIGhhc2ggPSBvYmpbVUlEX0hBU0hfS0VZXTtcbiAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBoYXNoO1xuICB9XG5cbiAgaWYgKCFjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgIGhhc2ggPSBvYmoucHJvcGVydHlJc0VudW1lcmFibGUgJiYgb2JqLnByb3BlcnR5SXNFbnVtZXJhYmxlW1VJRF9IQVNIX0tFWV07XG4gICAgaWYgKGhhc2ggIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGhhc2g7XG4gICAgfVxuXG4gICAgaGFzaCA9IGdldElFTm9kZUhhc2gob2JqKTtcbiAgICBpZiAoaGFzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gaGFzaDtcbiAgICB9XG4gIH1cblxuICBoYXNoID0gKytvYmpIYXNoVUlEO1xuICBpZiAob2JqSGFzaFVJRCAmIDB4NDAwMDAwMDApIHtcbiAgICBvYmpIYXNoVUlEID0gMDtcbiAgfVxuXG4gIGlmICh1c2luZ1dlYWtNYXApIHtcbiAgICB3ZWFrTWFwLnNldChvYmosIGhhc2gpO1xuICB9IGVsc2UgaWYgKGlzRXh0ZW5zaWJsZSAhPT0gdW5kZWZpbmVkICYmIGlzRXh0ZW5zaWJsZShvYmopID09PSBmYWxzZSkge1xuICAgIHRocm93IG5ldyBFcnJvcignTm9uLWV4dGVuc2libGUgb2JqZWN0cyBhcmUgbm90IGFsbG93ZWQgYXMga2V5cy4nKTtcbiAgfSBlbHNlIGlmIChjYW5EZWZpbmVQcm9wZXJ0eSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIFVJRF9IQVNIX0tFWSwge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IGhhc2hcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChcbiAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGUgIT09IHVuZGVmaW5lZCAmJlxuICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9PT0gb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZVxuICApIHtcbiAgICAvLyBTaW5jZSB3ZSBjYW4ndCBkZWZpbmUgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0XG4gICAgLy8gd2UnbGwgaGlqYWNrIG9uZSBvZiB0aGUgbGVzcy11c2VkIG5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXMgdG9cbiAgICAvLyBzYXZlIG91ciBoYXNoIG9uIGl0LiBTaW5jZSB0aGlzIGlzIGEgZnVuY3Rpb24gaXQgd2lsbCBub3Qgc2hvdyB1cCBpblxuICAgIC8vIGBKU09OLnN0cmluZ2lmeWAgd2hpY2ggaXMgd2hhdCB3ZSB3YW50LlxuICAgIG9iai5wcm9wZXJ0eUlzRW51bWVyYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmFwcGx5KFxuICAgICAgICB0aGlzLFxuICAgICAgICBhcmd1bWVudHNcbiAgICAgICk7XG4gICAgfTtcbiAgICBvYmoucHJvcGVydHlJc0VudW1lcmFibGVbVUlEX0hBU0hfS0VZXSA9IGhhc2g7XG4gIH0gZWxzZSBpZiAob2JqLm5vZGVUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBBdCB0aGlzIHBvaW50IHdlIGNvdWxkbid0IGdldCB0aGUgSUUgYHVuaXF1ZUlEYCB0byB1c2UgYXMgYSBoYXNoXG4gICAgLy8gYW5kIHdlIGNvdWxkbid0IHVzZSBhIG5vbi1lbnVtZXJhYmxlIHByb3BlcnR5IHRvIGV4cGxvaXQgdGhlXG4gICAgLy8gZG9udEVudW0gYnVnIHNvIHdlIHNpbXBseSBhZGQgdGhlIGBVSURfSEFTSF9LRVlgIG9uIHRoZSBub2RlXG4gICAgLy8gaXRzZWxmLlxuICAgIG9ialtVSURfSEFTSF9LRVldID0gaGFzaDtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBzZXQgYSBub24tZW51bWVyYWJsZSBwcm9wZXJ0eSBvbiBvYmplY3QuJyk7XG4gIH1cblxuICByZXR1cm4gaGFzaDtcbn1cblxuLy8gR2V0IHJlZmVyZW5jZXMgdG8gRVM1IG9iamVjdCBtZXRob2RzLlxudmFyIGlzRXh0ZW5zaWJsZSA9IE9iamVjdC5pc0V4dGVuc2libGU7XG5cbi8vIFRydWUgaWYgT2JqZWN0LmRlZmluZVByb3BlcnR5IHdvcmtzIGFzIGV4cGVjdGVkLiBJRTggZmFpbHMgdGhpcyB0ZXN0LlxudmFyIGNhbkRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ0AnLCB7fSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn0pKCk7XG5cbi8vIElFIGhhcyBhIGB1bmlxdWVJRGAgcHJvcGVydHkgb24gRE9NIG5vZGVzLiBXZSBjYW4gY29uc3RydWN0IHRoZSBoYXNoIGZyb20gaXRcbi8vIGFuZCBhdm9pZCBtZW1vcnkgbGVha3MgZnJvbSB0aGUgSUUgY2xvbmVOb2RlIGJ1Zy5cbmZ1bmN0aW9uIGdldElFTm9kZUhhc2gobm9kZSkge1xuICBpZiAobm9kZSAmJiBub2RlLm5vZGVUeXBlID4gMCkge1xuICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgY2FzZSAxOiAvLyBFbGVtZW50XG4gICAgICAgIHJldHVybiBub2RlLnVuaXF1ZUlEO1xuICAgICAgY2FzZSA5OiAvLyBEb2N1bWVudFxuICAgICAgICByZXR1cm4gbm9kZS5kb2N1bWVudEVsZW1lbnQgJiYgbm9kZS5kb2N1bWVudEVsZW1lbnQudW5pcXVlSUQ7XG4gICAgfVxuICB9XG59XG5cbi8vIElmIHBvc3NpYmxlLCB1c2UgYSBXZWFrTWFwLlxudmFyIHVzaW5nV2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nO1xudmFyIHdlYWtNYXA7XG5pZiAodXNpbmdXZWFrTWFwKSB7XG4gIHdlYWtNYXAgPSBuZXcgV2Vha01hcCgpO1xufVxuXG52YXIgb2JqSGFzaFVJRCA9IDA7XG5cbnZhciBVSURfSEFTSF9LRVkgPSAnX19pbW11dGFibGVoYXNoX18nO1xuaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcbiAgVUlEX0hBU0hfS0VZID0gU3ltYm9sKFVJRF9IQVNIX0tFWSk7XG59XG5cbnZhciBTVFJJTkdfSEFTSF9DQUNIRV9NSU5fU1RSTEVOID0gMTY7XG52YXIgU1RSSU5HX0hBU0hfQ0FDSEVfTUFYX1NJWkUgPSAyNTU7XG52YXIgU1RSSU5HX0hBU0hfQ0FDSEVfU0laRSA9IDA7XG52YXIgc3RyaW5nSGFzaENhY2hlID0ge307XG5cbnZhciBUb0tleWVkU2VxdWVuY2UgPSAoZnVuY3Rpb24gKEtleWVkU2VxJCQxKSB7XG4gIGZ1bmN0aW9uIFRvS2V5ZWRTZXF1ZW5jZShpbmRleGVkLCB1c2VLZXlzKSB7XG4gICAgdGhpcy5faXRlciA9IGluZGV4ZWQ7XG4gICAgdGhpcy5fdXNlS2V5cyA9IHVzZUtleXM7XG4gICAgdGhpcy5zaXplID0gaW5kZXhlZC5zaXplO1xuICB9XG5cbiAgaWYgKCBLZXllZFNlcSQkMSApIFRvS2V5ZWRTZXF1ZW5jZS5fX3Byb3RvX18gPSBLZXllZFNlcSQkMTtcbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEtleWVkU2VxJCQxICYmIEtleWVkU2VxJCQxLnByb3RvdHlwZSApO1xuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gVG9LZXllZFNlcXVlbmNlO1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuZ2V0KGtleSwgbm90U2V0VmFsdWUpO1xuICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzIChrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci5oYXMoa2V5KTtcbiAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLnZhbHVlU2VxID0gZnVuY3Rpb24gdmFsdWVTZXEgKCkge1xuICAgIHJldHVybiB0aGlzLl9pdGVyLnZhbHVlU2VxKCk7XG4gIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gcmV2ZXJzZSAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgcmV2ZXJzZWRTZXF1ZW5jZSA9IHJldmVyc2VGYWN0b3J5KHRoaXMsIHRydWUpO1xuICAgIGlmICghdGhpcy5fdXNlS2V5cykge1xuICAgICAgcmV2ZXJzZWRTZXF1ZW5jZS52YWx1ZVNlcSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMkMS5faXRlci50b1NlcSgpLnJldmVyc2UoKTsgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJldmVyc2VkU2VxdWVuY2U7XG4gIH07XG5cbiAgVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5tYXAgPSBmdW5jdGlvbiBtYXAgKG1hcHBlciwgY29udGV4dCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIG1hcHBlZFNlcXVlbmNlID0gbWFwRmFjdG9yeSh0aGlzLCBtYXBwZXIsIGNvbnRleHQpO1xuICAgIGlmICghdGhpcy5fdXNlS2V5cykge1xuICAgICAgbWFwcGVkU2VxdWVuY2UudmFsdWVTZXEgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEuX2l0ZXIudG9TZXEoKS5tYXAobWFwcGVyLCBjb250ZXh0KTsgfTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcHBlZFNlcXVlbmNlO1xuICB9O1xuXG4gIFRvS2V5ZWRTZXF1ZW5jZS5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBmbih2LCBrLCB0aGlzJDEpOyB9LCByZXZlcnNlKTtcbiAgfTtcblxuICBUb0tleWVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgfTtcblxuICByZXR1cm4gVG9LZXllZFNlcXVlbmNlO1xufShLZXllZFNlcSkpO1xuVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5cbnZhciBUb0luZGV4ZWRTZXF1ZW5jZSA9IChmdW5jdGlvbiAoSW5kZXhlZFNlcSQkMSkge1xuICBmdW5jdGlvbiBUb0luZGV4ZWRTZXF1ZW5jZShpdGVyKSB7XG4gICAgdGhpcy5faXRlciA9IGl0ZXI7XG4gICAgdGhpcy5zaXplID0gaXRlci5zaXplO1xuICB9XG5cbiAgaWYgKCBJbmRleGVkU2VxJCQxICkgVG9JbmRleGVkU2VxdWVuY2UuX19wcm90b19fID0gSW5kZXhlZFNlcSQkMTtcbiAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW5kZXhlZFNlcSQkMSAmJiBJbmRleGVkU2VxJCQxLnByb3RvdHlwZSApO1xuICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUb0luZGV4ZWRTZXF1ZW5jZTtcblxuICBUb0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5faXRlci5pbmNsdWRlcyh2YWx1ZSk7XG4gIH07XG5cbiAgVG9JbmRleGVkU2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpID0gMDtcbiAgICByZXZlcnNlICYmIGVuc3VyZVNpemUodGhpcyk7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGZuKHYsIHJldmVyc2UgPyB0aGlzJDEuc2l6ZSAtICsraSA6IGkrKywgdGhpcyQxKTsgfSxcbiAgICAgIHJldmVyc2VcbiAgICApO1xuICB9O1xuXG4gIFRvSW5kZXhlZFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgcmV2ZXJzZSAmJiBlbnN1cmVTaXplKHRoaXMpO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICByZXR1cm4gc3RlcC5kb25lXG4gICAgICAgID8gc3RlcFxuICAgICAgICA6IGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgcmV2ZXJzZSA/IHRoaXMkMS5zaXplIC0gKytpIDogaSsrLFxuICAgICAgICAgICAgc3RlcC52YWx1ZSxcbiAgICAgICAgICAgIHN0ZXBcbiAgICAgICAgICApO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBUb0luZGV4ZWRTZXF1ZW5jZTtcbn0oSW5kZXhlZFNlcSkpO1xuXG52YXIgVG9TZXRTZXF1ZW5jZSA9IChmdW5jdGlvbiAoU2V0U2VxJCQxKSB7XG4gIGZ1bmN0aW9uIFRvU2V0U2VxdWVuY2UoaXRlcikge1xuICAgIHRoaXMuX2l0ZXIgPSBpdGVyO1xuICAgIHRoaXMuc2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgfVxuXG4gIGlmICggU2V0U2VxJCQxICkgVG9TZXRTZXF1ZW5jZS5fX3Byb3RvX18gPSBTZXRTZXEkJDE7XG4gIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggU2V0U2VxJCQxICYmIFNldFNlcSQkMS5wcm90b3R5cGUgKTtcbiAgVG9TZXRTZXF1ZW5jZS5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBUb1NldFNlcXVlbmNlO1xuXG4gIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIGhhcyAoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIuaW5jbHVkZXMoa2V5KTtcbiAgfTtcblxuICBUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGZuKHYsIHYsIHRoaXMkMSk7IH0sIHJldmVyc2UpO1xuICB9O1xuXG4gIFRvU2V0U2VxdWVuY2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIGl0ZXJhdG9yID0gdGhpcy5faXRlci5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTLCByZXZlcnNlKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgcmV0dXJuIHN0ZXAuZG9uZVxuICAgICAgICA/IHN0ZXBcbiAgICAgICAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIHN0ZXAudmFsdWUsIHN0ZXAudmFsdWUsIHN0ZXApO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBUb1NldFNlcXVlbmNlO1xufShTZXRTZXEpKTtcblxudmFyIEZyb21FbnRyaWVzU2VxdWVuY2UgPSAoZnVuY3Rpb24gKEtleWVkU2VxJCQxKSB7XG4gIGZ1bmN0aW9uIEZyb21FbnRyaWVzU2VxdWVuY2UoZW50cmllcykge1xuICAgIHRoaXMuX2l0ZXIgPSBlbnRyaWVzO1xuICAgIHRoaXMuc2l6ZSA9IGVudHJpZXMuc2l6ZTtcbiAgfVxuXG4gIGlmICggS2V5ZWRTZXEkJDEgKSBGcm9tRW50cmllc1NlcXVlbmNlLl9fcHJvdG9fXyA9IEtleWVkU2VxJCQxO1xuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEtleWVkU2VxJCQxICYmIEtleWVkU2VxJCQxLnByb3RvdHlwZSApO1xuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IEZyb21FbnRyaWVzU2VxdWVuY2U7XG5cbiAgRnJvbUVudHJpZXNTZXF1ZW5jZS5wcm90b3R5cGUuZW50cnlTZXEgPSBmdW5jdGlvbiBlbnRyeVNlcSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2l0ZXIudG9TZXEoKTtcbiAgfTtcblxuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5faXRlci5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZW50cnkgZXhpc3RzIGZpcnN0IHNvIGFycmF5IGFjY2VzcyBkb2Vzbid0IHRocm93IGZvciBob2xlc1xuICAgICAgICAvLyBpbiB0aGUgcGFyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgaWYgKGVudHJ5KSB7XG4gICAgICAgICAgdmFsaWRhdGVFbnRyeShlbnRyeSk7XG4gICAgICAgICAgdmFyIGluZGV4ZWRDb2xsZWN0aW9uID0gaXNDb2xsZWN0aW9uKGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gZm4oXG4gICAgICAgICAgICBpbmRleGVkQ29sbGVjdGlvbiA/IGVudHJ5LmdldCgxKSA6IGVudHJ5WzFdLFxuICAgICAgICAgICAgaW5kZXhlZENvbGxlY3Rpb24gPyBlbnRyeS5nZXQoMCkgOiBlbnRyeVswXSxcbiAgICAgICAgICAgIHRoaXMkMVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgfTtcblxuICBGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX2l0ZXIuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIC8vIENoZWNrIGlmIGVudHJ5IGV4aXN0cyBmaXJzdCBzbyBhcnJheSBhY2Nlc3MgZG9lc24ndCB0aHJvdyBmb3IgaG9sZXNcbiAgICAgICAgLy8gaW4gdGhlIHBhcmVudCBpdGVyYXRpb24uXG4gICAgICAgIGlmIChlbnRyeSkge1xuICAgICAgICAgIHZhbGlkYXRlRW50cnkoZW50cnkpO1xuICAgICAgICAgIHZhciBpbmRleGVkQ29sbGVjdGlvbiA9IGlzQ29sbGVjdGlvbihlbnRyeSk7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgaW5kZXhlZENvbGxlY3Rpb24gPyBlbnRyeS5nZXQoMCkgOiBlbnRyeVswXSxcbiAgICAgICAgICAgIGluZGV4ZWRDb2xsZWN0aW9uID8gZW50cnkuZ2V0KDEpIDogZW50cnlbMV0sXG4gICAgICAgICAgICBzdGVwXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBGcm9tRW50cmllc1NlcXVlbmNlO1xufShLZXllZFNlcSkpO1xuXG5Ub0luZGV4ZWRTZXF1ZW5jZS5wcm90b3R5cGUuY2FjaGVSZXN1bHQgPSAoVG9LZXllZFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9IChUb1NldFNlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9IChGcm9tRW50cmllc1NlcXVlbmNlLnByb3RvdHlwZS5jYWNoZVJlc3VsdCA9IGNhY2hlUmVzdWx0VGhyb3VnaCkpKTtcblxuZnVuY3Rpb24gZmxpcEZhY3RvcnkoY29sbGVjdGlvbikge1xuICB2YXIgZmxpcFNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBmbGlwU2VxdWVuY2UuX2l0ZXIgPSBjb2xsZWN0aW9uO1xuICBmbGlwU2VxdWVuY2Uuc2l6ZSA9IGNvbGxlY3Rpb24uc2l6ZTtcbiAgZmxpcFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uOyB9O1xuICBmbGlwU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZXZlcnNlZFNlcXVlbmNlID0gY29sbGVjdGlvbi5yZXZlcnNlLmFwcGx5KHRoaXMpOyAvLyBzdXBlci5yZXZlcnNlKClcbiAgICByZXZlcnNlZFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uLnJldmVyc2UoKTsgfTtcbiAgICByZXR1cm4gcmV2ZXJzZWRTZXF1ZW5jZTtcbiAgfTtcbiAgZmxpcFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNvbGxlY3Rpb24uaW5jbHVkZXMoa2V5KTsgfTtcbiAgZmxpcFNlcXVlbmNlLmluY2x1ZGVzID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY29sbGVjdGlvbi5oYXMoa2V5KTsgfTtcbiAgZmxpcFNlcXVlbmNlLmNhY2hlUmVzdWx0ID0gY2FjaGVSZXN1bHRUaHJvdWdoO1xuICBmbGlwU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBmbihrLCB2LCB0aGlzJDEpICE9PSBmYWxzZTsgfSwgcmV2ZXJzZSk7XG4gIH07XG4gIGZsaXBTZXF1ZW5jZS5fX2l0ZXJhdG9yVW5jYWNoZWQgPSBmdW5jdGlvbih0eXBlLCByZXZlcnNlKSB7XG4gICAgaWYgKHR5cGUgPT09IElURVJBVEVfRU5UUklFUykge1xuICAgICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICAgICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGVwID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoIXN0ZXAuZG9uZSkge1xuICAgICAgICAgIHZhciBrID0gc3RlcC52YWx1ZVswXTtcbiAgICAgICAgICBzdGVwLnZhbHVlWzBdID0gc3RlcC52YWx1ZVsxXTtcbiAgICAgICAgICBzdGVwLnZhbHVlWzFdID0gaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKFxuICAgICAgdHlwZSA9PT0gSVRFUkFURV9WQUxVRVMgPyBJVEVSQVRFX0tFWVMgOiBJVEVSQVRFX1ZBTFVFUyxcbiAgICAgIHJldmVyc2VcbiAgICApO1xuICB9O1xuICByZXR1cm4gZmxpcFNlcXVlbmNlO1xufVxuXG5mdW5jdGlvbiBtYXBGYWN0b3J5KGNvbGxlY3Rpb24sIG1hcHBlciwgY29udGV4dCkge1xuICB2YXIgbWFwcGVkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIG1hcHBlZFNlcXVlbmNlLnNpemUgPSBjb2xsZWN0aW9uLnNpemU7XG4gIG1hcHBlZFNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGNvbGxlY3Rpb24uaGFzKGtleSk7IH07XG4gIG1hcHBlZFNlcXVlbmNlLmdldCA9IGZ1bmN0aW9uIChrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgdmFyIHYgPSBjb2xsZWN0aW9uLmdldChrZXksIE5PVF9TRVQpO1xuICAgIHJldHVybiB2ID09PSBOT1RfU0VUXG4gICAgICA/IG5vdFNldFZhbHVlXG4gICAgICA6IG1hcHBlci5jYWxsKGNvbnRleHQsIHYsIGtleSwgY29sbGVjdGlvbik7XG4gIH07XG4gIG1hcHBlZFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHJldHVybiBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICAgIGZ1bmN0aW9uICh2LCBrLCBjKSB7IHJldHVybiBmbihtYXBwZXIuY2FsbChjb250ZXh0LCB2LCBrLCBjKSwgaywgdGhpcyQxKSAhPT0gZmFsc2U7IH0sXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgfTtcbiAgbWFwcGVkU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgfVxuICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgIHZhciBrZXkgPSBlbnRyeVswXTtcbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICB0eXBlLFxuICAgICAgICBrZXksXG4gICAgICAgIG1hcHBlci5jYWxsKGNvbnRleHQsIGVudHJ5WzFdLCBrZXksIGNvbGxlY3Rpb24pLFxuICAgICAgICBzdGVwXG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gbWFwcGVkU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIHJldmVyc2VGYWN0b3J5KGNvbGxlY3Rpb24sIHVzZUtleXMpIHtcbiAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdmFyIHJldmVyc2VkU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIHJldmVyc2VkU2VxdWVuY2UuX2l0ZXIgPSBjb2xsZWN0aW9uO1xuICByZXZlcnNlZFNlcXVlbmNlLnNpemUgPSBjb2xsZWN0aW9uLnNpemU7XG4gIHJldmVyc2VkU2VxdWVuY2UucmV2ZXJzZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbGxlY3Rpb247IH07XG4gIGlmIChjb2xsZWN0aW9uLmZsaXApIHtcbiAgICByZXZlcnNlZFNlcXVlbmNlLmZsaXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBmbGlwU2VxdWVuY2UgPSBmbGlwRmFjdG9yeShjb2xsZWN0aW9uKTtcbiAgICAgIGZsaXBTZXF1ZW5jZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29sbGVjdGlvbi5mbGlwKCk7IH07XG4gICAgICByZXR1cm4gZmxpcFNlcXVlbmNlO1xuICAgIH07XG4gIH1cbiAgcmV2ZXJzZWRTZXF1ZW5jZS5nZXQgPSBmdW5jdGlvbiAoa2V5LCBub3RTZXRWYWx1ZSkgeyByZXR1cm4gY29sbGVjdGlvbi5nZXQodXNlS2V5cyA/IGtleSA6IC0xIC0ga2V5LCBub3RTZXRWYWx1ZSk7IH07XG4gIHJldmVyc2VkU2VxdWVuY2UuaGFzID0gZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gY29sbGVjdGlvbi5oYXModXNlS2V5cyA/IGtleSA6IC0xIC0ga2V5KTsgfTtcbiAgcmV2ZXJzZWRTZXF1ZW5jZS5pbmNsdWRlcyA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gY29sbGVjdGlvbi5pbmNsdWRlcyh2YWx1ZSk7IH07XG4gIHJldmVyc2VkU2VxdWVuY2UuY2FjaGVSZXN1bHQgPSBjYWNoZVJlc3VsdFRocm91Z2g7XG4gIHJldmVyc2VkU2VxdWVuY2UuX19pdGVyYXRlID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpID0gMDtcbiAgICByZXZlcnNlICYmIGVuc3VyZVNpemUoY29sbGVjdGlvbik7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogcmV2ZXJzZSA/IHRoaXMkMS5zaXplIC0gKytpIDogaSsrLCB0aGlzJDEpOyB9LFxuICAgICAgIXJldmVyc2VcbiAgICApO1xuICB9O1xuICByZXZlcnNlZFNlcXVlbmNlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpID0gMDtcbiAgICByZXZlcnNlICYmIGVuc3VyZVNpemUoY29sbGVjdGlvbik7XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgIXJldmVyc2UpO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgfVxuICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKFxuICAgICAgICB0eXBlLFxuICAgICAgICB1c2VLZXlzID8gZW50cnlbMF0gOiByZXZlcnNlID8gdGhpcyQxLnNpemUgLSArK2kgOiBpKyssXG4gICAgICAgIGVudHJ5WzFdLFxuICAgICAgICBzdGVwXG4gICAgICApO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gcmV2ZXJzZWRTZXF1ZW5jZTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyRmFjdG9yeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGNvbnRleHQsIHVzZUtleXMpIHtcbiAgdmFyIGZpbHRlclNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICBpZiAodXNlS2V5cykge1xuICAgIGZpbHRlclNlcXVlbmNlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciB2ID0gY29sbGVjdGlvbi5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgICAgIHJldHVybiB2ICE9PSBOT1RfU0VUICYmICEhcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwga2V5LCBjb2xsZWN0aW9uKTtcbiAgICB9O1xuICAgIGZpbHRlclNlcXVlbmNlLmdldCA9IGZ1bmN0aW9uIChrZXksIG5vdFNldFZhbHVlKSB7XG4gICAgICB2YXIgdiA9IGNvbGxlY3Rpb24uZ2V0KGtleSwgTk9UX1NFVCk7XG4gICAgICByZXR1cm4gdiAhPT0gTk9UX1NFVCAmJiBwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrZXksIGNvbGxlY3Rpb24pXG4gICAgICAgID8gdlxuICAgICAgICA6IG5vdFNldFZhbHVlO1xuICAgIH07XG4gIH1cbiAgZmlsdGVyU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGNvbGxlY3Rpb24uX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHYsIGssIGMpIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpKSB7XG4gICAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucysrLCB0aGlzJDEpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmV2ZXJzZVxuICAgICk7XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gIH07XG4gIGZpbHRlclNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBjb2xsZWN0aW9uLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICB2YXIgc3RlcCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKHN0ZXAuZG9uZSkge1xuICAgICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeSA9IHN0ZXAudmFsdWU7XG4gICAgICAgIHZhciBrZXkgPSBlbnRyeVswXTtcbiAgICAgICAgdmFyIHZhbHVlID0gZW50cnlbMV07XG4gICAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIHVzZUtleXMgPyBrZXkgOiBpdGVyYXRpb25zKyssIHZhbHVlLCBzdGVwKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICByZXR1cm4gZmlsdGVyU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIGNvdW50QnlGYWN0b3J5KGNvbGxlY3Rpb24sIGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgdmFyIGdyb3VwcyA9IE1hcCgpLmFzTXV0YWJsZSgpO1xuICBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgIGdyb3Vwcy51cGRhdGUoZ3JvdXBlci5jYWxsKGNvbnRleHQsIHYsIGssIGNvbGxlY3Rpb24pLCAwLCBmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSArIDE7IH0pO1xuICB9KTtcbiAgcmV0dXJuIGdyb3Vwcy5hc0ltbXV0YWJsZSgpO1xufVxuXG5mdW5jdGlvbiBncm91cEJ5RmFjdG9yeShjb2xsZWN0aW9uLCBncm91cGVyLCBjb250ZXh0KSB7XG4gIHZhciBpc0tleWVkSXRlciA9IGlzS2V5ZWQoY29sbGVjdGlvbik7XG4gIHZhciBncm91cHMgPSAoaXNPcmRlcmVkKGNvbGxlY3Rpb24pID8gT3JkZXJlZE1hcCgpIDogTWFwKCkpLmFzTXV0YWJsZSgpO1xuICBjb2xsZWN0aW9uLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaykge1xuICAgIGdyb3Vwcy51cGRhdGUoXG4gICAgICBncm91cGVyLmNhbGwoY29udGV4dCwgdiwgaywgY29sbGVjdGlvbiksXG4gICAgICBmdW5jdGlvbiAoYSkgeyByZXR1cm4gKChhID0gYSB8fCBbXSksIGEucHVzaChpc0tleWVkSXRlciA/IFtrLCB2XSA6IHYpLCBhKTsgfVxuICAgICk7XG4gIH0pO1xuICB2YXIgY29lcmNlID0gY29sbGVjdGlvbkNsYXNzKGNvbGxlY3Rpb24pO1xuICByZXR1cm4gZ3JvdXBzLm1hcChmdW5jdGlvbiAoYXJyKSB7IHJldHVybiByZWlmeShjb2xsZWN0aW9uLCBjb2VyY2UoYXJyKSk7IH0pO1xufVxuXG5mdW5jdGlvbiBzbGljZUZhY3RvcnkoY29sbGVjdGlvbiwgYmVnaW4sIGVuZCwgdXNlS2V5cykge1xuICB2YXIgb3JpZ2luYWxTaXplID0gY29sbGVjdGlvbi5zaXplO1xuXG4gIGlmICh3aG9sZVNsaWNlKGJlZ2luLCBlbmQsIG9yaWdpbmFsU2l6ZSkpIHtcbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfVxuXG4gIHZhciByZXNvbHZlZEJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCBvcmlnaW5hbFNpemUpO1xuICB2YXIgcmVzb2x2ZWRFbmQgPSByZXNvbHZlRW5kKGVuZCwgb3JpZ2luYWxTaXplKTtcblxuICAvLyBiZWdpbiBvciBlbmQgd2lsbCBiZSBOYU4gaWYgdGhleSB3ZXJlIHByb3ZpZGVkIGFzIG5lZ2F0aXZlIG51bWJlcnMgYW5kXG4gIC8vIHRoaXMgY29sbGVjdGlvbidzIHNpemUgaXMgdW5rbm93bi4gSW4gdGhhdCBjYXNlLCBjYWNoZSBmaXJzdCBzbyB0aGVyZSBpc1xuICAvLyBhIGtub3duIHNpemUgYW5kIHRoZXNlIGRvIG5vdCByZXNvbHZlIHRvIE5hTi5cbiAgaWYgKHJlc29sdmVkQmVnaW4gIT09IHJlc29sdmVkQmVnaW4gfHwgcmVzb2x2ZWRFbmQgIT09IHJlc29sdmVkRW5kKSB7XG4gICAgcmV0dXJuIHNsaWNlRmFjdG9yeShjb2xsZWN0aW9uLnRvU2VxKCkuY2FjaGVSZXN1bHQoKSwgYmVnaW4sIGVuZCwgdXNlS2V5cyk7XG4gIH1cblxuICAvLyBOb3RlOiByZXNvbHZlZEVuZCBpcyB1bmRlZmluZWQgd2hlbiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UncyBsZW5ndGggaXNcbiAgLy8gdW5rbm93biBhbmQgdGhpcyBzbGljZSBkaWQgbm90IHN1cHBseSBhbiBlbmQgYW5kIHNob3VsZCBjb250YWluIGFsbFxuICAvLyBlbGVtZW50cyBhZnRlciByZXNvbHZlZEJlZ2luLlxuICAvLyBJbiB0aGF0IGNhc2UsIHJlc29sdmVkU2l6ZSB3aWxsIGJlIE5hTiBhbmQgc2xpY2VTaXplIHdpbGwgcmVtYWluIHVuZGVmaW5lZC5cbiAgdmFyIHJlc29sdmVkU2l6ZSA9IHJlc29sdmVkRW5kIC0gcmVzb2x2ZWRCZWdpbjtcbiAgdmFyIHNsaWNlU2l6ZTtcbiAgaWYgKHJlc29sdmVkU2l6ZSA9PT0gcmVzb2x2ZWRTaXplKSB7XG4gICAgc2xpY2VTaXplID0gcmVzb2x2ZWRTaXplIDwgMCA/IDAgOiByZXNvbHZlZFNpemU7XG4gIH1cblxuICB2YXIgc2xpY2VTZXEgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG5cbiAgLy8gSWYgY29sbGVjdGlvbi5zaXplIGlzIHVuZGVmaW5lZCwgdGhlIHNpemUgb2YgdGhlIHJlYWxpemVkIHNsaWNlU2VxIGlzXG4gIC8vIHVua25vd24gYXQgdGhpcyBwb2ludCB1bmxlc3MgdGhlIG51bWJlciBvZiBpdGVtcyB0byBzbGljZSBpcyAwXG4gIHNsaWNlU2VxLnNpemUgPSBzbGljZVNpemUgPT09IDBcbiAgICA/IHNsaWNlU2l6ZVxuICAgIDogKGNvbGxlY3Rpb24uc2l6ZSAmJiBzbGljZVNpemUpIHx8IHVuZGVmaW5lZDtcblxuICBpZiAoIXVzZUtleXMgJiYgaXNTZXEoY29sbGVjdGlvbikgJiYgc2xpY2VTaXplID49IDApIHtcbiAgICBzbGljZVNlcS5nZXQgPSBmdW5jdGlvbihpbmRleCwgbm90U2V0VmFsdWUpIHtcbiAgICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICAgIHJldHVybiBpbmRleCA+PSAwICYmIGluZGV4IDwgc2xpY2VTaXplXG4gICAgICAgID8gY29sbGVjdGlvbi5nZXQoaW5kZXggKyByZXNvbHZlZEJlZ2luLCBub3RTZXRWYWx1ZSlcbiAgICAgICAgOiBub3RTZXRWYWx1ZTtcbiAgICB9O1xuICB9XG5cbiAgc2xpY2VTZXEuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHNsaWNlU2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBza2lwcGVkID0gMDtcbiAgICB2YXIgaXNTa2lwcGluZyA9IHRydWU7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICBpZiAoIShpc1NraXBwaW5nICYmIChpc1NraXBwaW5nID0gc2tpcHBlZCsrIDwgcmVzb2x2ZWRCZWdpbikpKSB7XG4gICAgICAgIGl0ZXJhdGlvbnMrKztcbiAgICAgICAgcmV0dXJuIGZuKHYsIHVzZUtleXMgPyBrIDogaXRlcmF0aW9ucyAtIDEsIHRoaXMkMSkgIT09IGZhbHNlICYmXG4gICAgICAgICAgaXRlcmF0aW9ucyAhPT0gc2xpY2VTaXplO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuXG4gIHNsaWNlU2VxLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICBpZiAoc2xpY2VTaXplICE9PSAwICYmIHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgLy8gRG9uJ3QgYm90aGVyIGluc3RhbnRpYXRpbmcgcGFyZW50IGl0ZXJhdG9yIGlmIHRha2luZyAwLlxuICAgIHZhciBpdGVyYXRvciA9IHNsaWNlU2l6ZSAhPT0gMCAmJiBjb2xsZWN0aW9uLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgdmFyIHNraXBwZWQgPSAwO1xuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdoaWxlIChza2lwcGVkKysgPCByZXNvbHZlZEJlZ2luKSB7XG4gICAgICAgIGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgIH1cbiAgICAgIGlmICgrK2l0ZXJhdGlvbnMgPiBzbGljZVNpemUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICBpZiAodXNlS2V5cyB8fCB0eXBlID09PSBJVEVSQVRFX1ZBTFVFUykge1xuICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0tFWVMpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucyAtIDEsIHVuZGVmaW5lZCwgc3RlcCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zIC0gMSwgc3RlcC52YWx1ZVsxXSwgc3RlcCk7XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIHNsaWNlU2VxO1xufVxuXG5mdW5jdGlvbiB0YWtlV2hpbGVGYWN0b3J5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgY29udGV4dCkge1xuICB2YXIgdGFrZVNlcXVlbmNlID0gbWFrZVNlcXVlbmNlKGNvbGxlY3Rpb24pO1xuICB0YWtlU2VxdWVuY2UuX19pdGVyYXRlVW5jYWNoZWQgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRlKGZuLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGNvbGxlY3Rpb24uX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHYsIGssIGMpIHsgcmV0dXJuIHByZWRpY2F0ZS5jYWxsKGNvbnRleHQsIHYsIGssIGMpICYmICsraXRlcmF0aW9ucyAmJiBmbih2LCBrLCB0aGlzJDEpOyB9XG4gICAgKTtcbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcbiAgdGFrZVNlcXVlbmNlLl9faXRlcmF0b3JVbmNhY2hlZCA9IGZ1bmN0aW9uKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMsIHJldmVyc2UpO1xuICAgIHZhciBpdGVyYXRpbmcgPSB0cnVlO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFpdGVyYXRpbmcpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICBpZiAoc3RlcC5kb25lKSB7XG4gICAgICAgIHJldHVybiBzdGVwO1xuICAgICAgfVxuICAgICAgdmFyIGVudHJ5ID0gc3RlcC52YWx1ZTtcbiAgICAgIHZhciBrID0gZW50cnlbMF07XG4gICAgICB2YXIgdiA9IGVudHJ5WzFdO1xuICAgICAgaWYgKCFwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCB0aGlzJDEpKSB7XG4gICAgICAgIGl0ZXJhdGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgc3RlcCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiB0YWtlU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIHNraXBXaGlsZUZhY3RvcnkoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBjb250ZXh0LCB1c2VLZXlzKSB7XG4gIHZhciBza2lwU2VxdWVuY2UgPSBtYWtlU2VxdWVuY2UoY29sbGVjdGlvbik7XG4gIHNraXBTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXNTa2lwcGluZyA9IHRydWU7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIGNvbGxlY3Rpb24uX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrLCBjKSB7XG4gICAgICBpZiAoIShpc1NraXBwaW5nICYmIChpc1NraXBwaW5nID0gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpKSkge1xuICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgIHJldHVybiBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMgLSAxLCB0aGlzJDEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICBza2lwU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlUmVzdWx0KCkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdG9yID0gY29sbGVjdGlvbi5fX2l0ZXJhdG9yKElURVJBVEVfRU5UUklFUywgcmV2ZXJzZSk7XG4gICAgdmFyIHNraXBwaW5nID0gdHJ1ZTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHZhciBrO1xuICAgICAgdmFyIHY7XG4gICAgICBkbyB7XG4gICAgICAgIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICBpZiAodXNlS2V5cyB8fCB0eXBlID09PSBJVEVSQVRFX1ZBTFVFUykge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXA7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0tFWVMpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgdW5kZWZpbmVkLCBzdGVwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgaXRlcmF0aW9ucysrLCBzdGVwLnZhbHVlWzFdLCBzdGVwKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICBrID0gZW50cnlbMF07XG4gICAgICAgIHYgPSBlbnRyeVsxXTtcbiAgICAgICAgc2tpcHBpbmcgJiYgKHNraXBwaW5nID0gcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgdGhpcyQxKSk7XG4gICAgICB9IHdoaWxlIChza2lwcGluZyk7XG4gICAgICByZXR1cm4gdHlwZSA9PT0gSVRFUkFURV9FTlRSSUVTID8gc3RlcCA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgaywgdiwgc3RlcCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBza2lwU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIGNvbmNhdEZhY3RvcnkoY29sbGVjdGlvbiwgdmFsdWVzKSB7XG4gIHZhciBpc0tleWVkQ29sbGVjdGlvbiA9IGlzS2V5ZWQoY29sbGVjdGlvbik7XG4gIHZhciBpdGVycyA9IFtjb2xsZWN0aW9uXVxuICAgIC5jb25jYXQodmFsdWVzKVxuICAgIC5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgIGlmICghaXNDb2xsZWN0aW9uKHYpKSB7XG4gICAgICAgIHYgPSBpc0tleWVkQ29sbGVjdGlvblxuICAgICAgICAgID8ga2V5ZWRTZXFGcm9tVmFsdWUodilcbiAgICAgICAgICA6IGluZGV4ZWRTZXFGcm9tVmFsdWUoQXJyYXkuaXNBcnJheSh2KSA/IHYgOiBbdl0pO1xuICAgICAgfSBlbHNlIGlmIChpc0tleWVkQ29sbGVjdGlvbikge1xuICAgICAgICB2ID0gS2V5ZWRDb2xsZWN0aW9uKHYpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHY7XG4gICAgfSlcbiAgICAuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2LnNpemUgIT09IDA7IH0pO1xuXG4gIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gY29sbGVjdGlvbjtcbiAgfVxuXG4gIGlmIChpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICB2YXIgc2luZ2xldG9uID0gaXRlcnNbMF07XG4gICAgaWYgKFxuICAgICAgc2luZ2xldG9uID09PSBjb2xsZWN0aW9uIHx8XG4gICAgICAoaXNLZXllZENvbGxlY3Rpb24gJiYgaXNLZXllZChzaW5nbGV0b24pKSB8fFxuICAgICAgKGlzSW5kZXhlZChjb2xsZWN0aW9uKSAmJiBpc0luZGV4ZWQoc2luZ2xldG9uKSlcbiAgICApIHtcbiAgICAgIHJldHVybiBzaW5nbGV0b247XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbmNhdFNlcSA9IG5ldyBBcnJheVNlcShpdGVycyk7XG4gIGlmIChpc0tleWVkQ29sbGVjdGlvbikge1xuICAgIGNvbmNhdFNlcSA9IGNvbmNhdFNlcS50b0tleWVkU2VxKCk7XG4gIH0gZWxzZSBpZiAoIWlzSW5kZXhlZChjb2xsZWN0aW9uKSkge1xuICAgIGNvbmNhdFNlcSA9IGNvbmNhdFNlcS50b1NldFNlcSgpO1xuICB9XG4gIGNvbmNhdFNlcSA9IGNvbmNhdFNlcS5mbGF0dGVuKHRydWUpO1xuICBjb25jYXRTZXEuc2l6ZSA9IGl0ZXJzLnJlZHVjZShcbiAgICBmdW5jdGlvbiAoc3VtLCBzZXEpIHtcbiAgICAgIGlmIChzdW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgc2l6ZSA9IHNlcS5zaXplO1xuICAgICAgICBpZiAoc2l6ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIHN1bSArIHNpemU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIDBcbiAgKTtcbiAgcmV0dXJuIGNvbmNhdFNlcTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbkZhY3RvcnkoY29sbGVjdGlvbiwgZGVwdGgsIHVzZUtleXMpIHtcbiAgdmFyIGZsYXRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgZmxhdFNlcXVlbmNlLl9faXRlcmF0ZVVuY2FjaGVkID0gZnVuY3Rpb24oZm4sIHJldmVyc2UpIHtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVSZXN1bHQoKS5fX2l0ZXJhdGUoZm4sIHJldmVyc2UpO1xuICAgIH1cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgdmFyIHN0b3BwZWQgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiBmbGF0RGVlcChpdGVyLCBjdXJyZW50RGVwdGgpIHtcbiAgICAgIGl0ZXIuX19pdGVyYXRlKFxuICAgICAgICBmdW5jdGlvbiAodiwgaykge1xuICAgICAgICAgIGlmICgoIWRlcHRoIHx8IGN1cnJlbnREZXB0aCA8IGRlcHRoKSAmJiBpc0NvbGxlY3Rpb24odikpIHtcbiAgICAgICAgICAgIGZsYXREZWVwKHYsIGN1cnJlbnREZXB0aCArIDEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBmbih2LCB1c2VLZXlzID8gayA6IGl0ZXJhdGlvbnMrKywgZmxhdFNlcXVlbmNlKSA9PT0gZmFsc2VcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gIXN0b3BwZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHJldmVyc2VcbiAgICAgICk7XG4gICAgfVxuICAgIGZsYXREZWVwKGNvbGxlY3Rpb24sIDApO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICBmbGF0U2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jYWNoZVJlc3VsdCgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgfVxuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB2YXIgc3RhY2sgPSBbXTtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgcmV0dXJuIG5ldyBJdGVyYXRvcihmdW5jdGlvbiAoKSB7XG4gICAgICB3aGlsZSAoaXRlcmF0b3IpIHtcbiAgICAgICAgdmFyIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgaXRlcmF0b3IgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdiA9IHN0ZXAudmFsdWU7XG4gICAgICAgIGlmICh0eXBlID09PSBJVEVSQVRFX0VOVFJJRVMpIHtcbiAgICAgICAgICB2ID0gdlsxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKCFkZXB0aCB8fCBzdGFjay5sZW5ndGggPCBkZXB0aCkgJiYgaXNDb2xsZWN0aW9uKHYpKSB7XG4gICAgICAgICAgc3RhY2sucHVzaChpdGVyYXRvcik7XG4gICAgICAgICAgaXRlcmF0b3IgPSB2Ll9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHVzZUtleXMgPyBzdGVwIDogaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHYsIHN0ZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBmbGF0U2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIGZsYXRNYXBGYWN0b3J5KGNvbGxlY3Rpb24sIG1hcHBlciwgY29udGV4dCkge1xuICB2YXIgY29lcmNlID0gY29sbGVjdGlvbkNsYXNzKGNvbGxlY3Rpb24pO1xuICByZXR1cm4gY29sbGVjdGlvblxuICAgIC50b1NlcSgpXG4gICAgLm1hcChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gY29lcmNlKG1hcHBlci5jYWxsKGNvbnRleHQsIHYsIGssIGNvbGxlY3Rpb24pKTsgfSlcbiAgICAuZmxhdHRlbih0cnVlKTtcbn1cblxuZnVuY3Rpb24gaW50ZXJwb3NlRmFjdG9yeShjb2xsZWN0aW9uLCBzZXBhcmF0b3IpIHtcbiAgdmFyIGludGVycG9zZWRTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKTtcbiAgaW50ZXJwb3NlZFNlcXVlbmNlLnNpemUgPSBjb2xsZWN0aW9uLnNpemUgJiYgY29sbGVjdGlvbi5zaXplICogMiAtIDE7XG4gIGludGVycG9zZWRTZXF1ZW5jZS5fX2l0ZXJhdGVVbmNhY2hlZCA9IGZ1bmN0aW9uKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgY29sbGVjdGlvbi5fX2l0ZXJhdGUoXG4gICAgICBmdW5jdGlvbiAodikgeyByZXR1cm4gKCFpdGVyYXRpb25zIHx8IGZuKHNlcGFyYXRvciwgaXRlcmF0aW9ucysrLCB0aGlzJDEpICE9PSBmYWxzZSkgJiZcbiAgICAgICAgZm4odiwgaXRlcmF0aW9ucysrLCB0aGlzJDEpICE9PSBmYWxzZTsgfSxcbiAgICAgIHJldmVyc2VcbiAgICApO1xuICAgIHJldHVybiBpdGVyYXRpb25zO1xuICB9O1xuICBpbnRlcnBvc2VkU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvciA9IGNvbGxlY3Rpb24uX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHZhciBzdGVwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzdGVwIHx8IGl0ZXJhdGlvbnMgJSAyKSB7XG4gICAgICAgIHN0ZXAgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChzdGVwLmRvbmUpIHtcbiAgICAgICAgICByZXR1cm4gc3RlcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdGlvbnMgJSAyXG4gICAgICAgID8gaXRlcmF0b3JWYWx1ZSh0eXBlLCBpdGVyYXRpb25zKyssIHNlcGFyYXRvcilcbiAgICAgICAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgc3RlcC52YWx1ZSwgc3RlcCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBpbnRlcnBvc2VkU2VxdWVuY2U7XG59XG5cbmZ1bmN0aW9uIHNvcnRGYWN0b3J5KGNvbGxlY3Rpb24sIGNvbXBhcmF0b3IsIG1hcHBlcikge1xuICBpZiAoIWNvbXBhcmF0b3IpIHtcbiAgICBjb21wYXJhdG9yID0gZGVmYXVsdENvbXBhcmF0b3I7XG4gIH1cbiAgdmFyIGlzS2V5ZWRDb2xsZWN0aW9uID0gaXNLZXllZChjb2xsZWN0aW9uKTtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGVudHJpZXMgPSBjb2xsZWN0aW9uXG4gICAgLnRvU2VxKClcbiAgICAubWFwKGZ1bmN0aW9uICh2LCBrKSB7IHJldHVybiBbaywgdiwgaW5kZXgrKywgbWFwcGVyID8gbWFwcGVyKHYsIGssIGNvbGxlY3Rpb24pIDogdl07IH0pXG4gICAgLnRvQXJyYXkoKTtcbiAgZW50cmllcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBjb21wYXJhdG9yKGFbM10sIGJbM10pIHx8IGFbMl0gLSBiWzJdOyB9KS5mb3JFYWNoKFxuICAgIGlzS2V5ZWRDb2xsZWN0aW9uXG4gICAgICA/IGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgICAgZW50cmllc1tpXS5sZW5ndGggPSAyO1xuICAgICAgICB9XG4gICAgICA6IGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgICAgZW50cmllc1tpXSA9IHZbMV07XG4gICAgICAgIH1cbiAgKTtcbiAgcmV0dXJuIGlzS2V5ZWRDb2xsZWN0aW9uXG4gICAgPyBLZXllZFNlcShlbnRyaWVzKVxuICAgIDogaXNJbmRleGVkKGNvbGxlY3Rpb24pID8gSW5kZXhlZFNlcShlbnRyaWVzKSA6IFNldFNlcShlbnRyaWVzKTtcbn1cblxuZnVuY3Rpb24gbWF4RmFjdG9yeShjb2xsZWN0aW9uLCBjb21wYXJhdG9yLCBtYXBwZXIpIHtcbiAgaWYgKCFjb21wYXJhdG9yKSB7XG4gICAgY29tcGFyYXRvciA9IGRlZmF1bHRDb21wYXJhdG9yO1xuICB9XG4gIGlmIChtYXBwZXIpIHtcbiAgICB2YXIgZW50cnkgPSBjb2xsZWN0aW9uXG4gICAgICAudG9TZXEoKVxuICAgICAgLm1hcChmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gW3YsIG1hcHBlcih2LCBrLCBjb2xsZWN0aW9uKV07IH0pXG4gICAgICAucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBtYXhDb21wYXJlKGNvbXBhcmF0b3IsIGFbMV0sIGJbMV0pID8gYiA6IGE7IH0pO1xuICAgIHJldHVybiBlbnRyeSAmJiBlbnRyeVswXTtcbiAgfVxuICByZXR1cm4gY29sbGVjdGlvbi5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIG1heENvbXBhcmUoY29tcGFyYXRvciwgYSwgYikgPyBiIDogYTsgfSk7XG59XG5cbmZ1bmN0aW9uIG1heENvbXBhcmUoY29tcGFyYXRvciwgYSwgYikge1xuICB2YXIgY29tcCA9IGNvbXBhcmF0b3IoYiwgYSk7XG4gIC8vIGIgaXMgY29uc2lkZXJlZCB0aGUgbmV3IG1heCBpZiB0aGUgY29tcGFyYXRvciBkZWNsYXJlcyB0aGVtIGVxdWFsLCBidXRcbiAgLy8gdGhleSBhcmUgbm90IGVxdWFsIGFuZCBiIGlzIGluIGZhY3QgYSBudWxsaXNoIHZhbHVlLlxuICByZXR1cm4gKGNvbXAgPT09IDAgJiZcbiAgICBiICE9PSBhICYmXG4gICAgKGIgPT09IHVuZGVmaW5lZCB8fCBiID09PSBudWxsIHx8IGIgIT09IGIpKSB8fFxuICAgIGNvbXAgPiAwO1xufVxuXG5mdW5jdGlvbiB6aXBXaXRoRmFjdG9yeShrZXlJdGVyLCB6aXBwZXIsIGl0ZXJzKSB7XG4gIHZhciB6aXBTZXF1ZW5jZSA9IG1ha2VTZXF1ZW5jZShrZXlJdGVyKTtcbiAgemlwU2VxdWVuY2Uuc2l6ZSA9IG5ldyBBcnJheVNlcShpdGVycykubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLnNpemU7IH0pLm1pbigpO1xuICAvLyBOb3RlOiB0aGlzIGEgZ2VuZXJpYyBiYXNlIGltcGxlbWVudGF0aW9uIG9mIF9faXRlcmF0ZSBpbiB0ZXJtcyBvZlxuICAvLyBfX2l0ZXJhdG9yIHdoaWNoIG1heSBiZSBtb3JlIGdlbmVyaWNhbGx5IHVzZWZ1bCBpbiB0aGUgZnV0dXJlLlxuICB6aXBTZXF1ZW5jZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgLyogZ2VuZXJpYzpcbiAgICB2YXIgaXRlcmF0b3IgPSB0aGlzLl9faXRlcmF0b3IoSVRFUkFURV9FTlRSSUVTLCByZXZlcnNlKTtcbiAgICB2YXIgc3RlcDtcbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgaXRlcmF0aW9ucysrO1xuICAgICAgaWYgKGZuKHN0ZXAudmFsdWVbMV0sIHN0ZXAudmFsdWVbMF0sIHRoaXMpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGl0ZXJhdGlvbnM7XG4gICAgKi9cbiAgICAvLyBpbmRleGVkOlxuICAgIHZhciBpdGVyYXRvciA9IHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX1ZBTFVFUywgcmV2ZXJzZSk7XG4gICAgdmFyIHN0ZXA7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgIGlmIChmbihzdGVwLnZhbHVlLCBpdGVyYXRpb25zKyssIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcbiAgemlwU2VxdWVuY2UuX19pdGVyYXRvclVuY2FjaGVkID0gZnVuY3Rpb24odHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpdGVyYXRvcnMgPSBpdGVycy5tYXAoXG4gICAgICBmdW5jdGlvbiAoaSkgeyByZXR1cm4gKChpID0gQ29sbGVjdGlvbihpKSksIGdldEl0ZXJhdG9yKHJldmVyc2UgPyBpLnJldmVyc2UoKSA6IGkpKTsgfVxuICAgICk7XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHZhciBpc0RvbmUgPSBmYWxzZTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGVwcztcbiAgICAgIGlmICghaXNEb25lKSB7XG4gICAgICAgIHN0ZXBzID0gaXRlcmF0b3JzLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gaS5uZXh0KCk7IH0pO1xuICAgICAgICBpc0RvbmUgPSBzdGVwcy5zb21lKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLmRvbmU7IH0pO1xuICAgICAgfVxuICAgICAgaWYgKGlzRG9uZSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JEb25lKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZShcbiAgICAgICAgdHlwZSxcbiAgICAgICAgaXRlcmF0aW9ucysrLFxuICAgICAgICB6aXBwZXIuYXBwbHkobnVsbCwgc3RlcHMubWFwKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnZhbHVlOyB9KSlcbiAgICAgICk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiB6aXBTZXF1ZW5jZTtcbn1cblxuLy8gI3ByYWdtYSBIZWxwZXIgRnVuY3Rpb25zXG5cbmZ1bmN0aW9uIHJlaWZ5KGl0ZXIsIHNlcSkge1xuICByZXR1cm4gaXRlciA9PT0gc2VxID8gaXRlciA6IGlzU2VxKGl0ZXIpID8gc2VxIDogaXRlci5jb25zdHJ1Y3RvcihzZXEpO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUVudHJ5KGVudHJ5KSB7XG4gIGlmIChlbnRyeSAhPT0gT2JqZWN0KGVudHJ5KSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIFtLLCBWXSB0dXBsZTogJyArIGVudHJ5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjb2xsZWN0aW9uQ2xhc3MoY29sbGVjdGlvbikge1xuICByZXR1cm4gaXNLZXllZChjb2xsZWN0aW9uKVxuICAgID8gS2V5ZWRDb2xsZWN0aW9uXG4gICAgOiBpc0luZGV4ZWQoY29sbGVjdGlvbikgPyBJbmRleGVkQ29sbGVjdGlvbiA6IFNldENvbGxlY3Rpb247XG59XG5cbmZ1bmN0aW9uIG1ha2VTZXF1ZW5jZShjb2xsZWN0aW9uKSB7XG4gIHJldHVybiBPYmplY3QuY3JlYXRlKFxuICAgIChpc0tleWVkKGNvbGxlY3Rpb24pXG4gICAgICA/IEtleWVkU2VxXG4gICAgICA6IGlzSW5kZXhlZChjb2xsZWN0aW9uKSA/IEluZGV4ZWRTZXEgOiBTZXRTZXEpLnByb3RvdHlwZVxuICApO1xufVxuXG5mdW5jdGlvbiBjYWNoZVJlc3VsdFRocm91Z2goKSB7XG4gIGlmICh0aGlzLl9pdGVyLmNhY2hlUmVzdWx0KSB7XG4gICAgdGhpcy5faXRlci5jYWNoZVJlc3VsdCgpO1xuICAgIHRoaXMuc2l6ZSA9IHRoaXMuX2l0ZXIuc2l6ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZXR1cm4gU2VxLnByb3RvdHlwZS5jYWNoZVJlc3VsdC5jYWxsKHRoaXMpO1xufVxuXG5mdW5jdGlvbiBkZWZhdWx0Q29tcGFyYXRvcihhLCBiKSB7XG4gIGlmIChhID09PSB1bmRlZmluZWQgJiYgYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBpZiAoYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cblxuICBpZiAoYiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPCBiID8gLTEgOiAwO1xufVxuXG5mdW5jdGlvbiBjb2VyY2VLZXlQYXRoKGtleVBhdGgpIHtcbiAgaWYgKGlzQXJyYXlMaWtlKGtleVBhdGgpICYmIHR5cGVvZiBrZXlQYXRoICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBrZXlQYXRoO1xuICB9XG4gIGlmIChpc09yZGVyZWQoa2V5UGF0aCkpIHtcbiAgICByZXR1cm4ga2V5UGF0aC50b0FycmF5KCk7XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAnSW52YWxpZCBrZXlQYXRoOiBleHBlY3RlZCBPcmRlcmVkIENvbGxlY3Rpb24gb3IgQXJyYXk6ICcgKyBrZXlQYXRoXG4gICk7XG59XG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIGVycm9yKSB7XG4gIGlmICghY29uZGl0aW9uKSB7IHRocm93IG5ldyBFcnJvcihlcnJvcik7IH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0Tm90SW5maW5pdGUoc2l6ZSkge1xuICBpbnZhcmlhbnQoXG4gICAgc2l6ZSAhPT0gSW5maW5pdHksXG4gICAgJ0Nhbm5vdCBwZXJmb3JtIHRoaXMgYWN0aW9uIHdpdGggYW4gaW5maW5pdGUgc2l6ZS4nXG4gICk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSB2YWx1ZSB0byBhIHN0cmluZywgYWRkaW5nIHF1b3RlcyBpZiBhIHN0cmluZyB3YXMgcHJvdmlkZWQuXG4gKi9cbmZ1bmN0aW9uIHF1b3RlU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogU3RyaW5nKHZhbHVlKTtcbn1cblxudmFyIE1hcCA9IChmdW5jdGlvbiAoS2V5ZWRDb2xsZWN0aW9uJCQxKSB7XG4gIGZ1bmN0aW9uIE1hcCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5TWFwKClcbiAgICAgIDogaXNNYXAodmFsdWUpICYmICFpc09yZGVyZWQodmFsdWUpXG4gICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgIDogZW1wdHlNYXAoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgICAgICAgdmFyIGl0ZXIgPSBLZXllZENvbGxlY3Rpb24kJDEodmFsdWUpO1xuICAgICAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIG1hcC5zZXQoaywgdik7IH0pO1xuICAgICAgICAgICAgfSk7XG4gIH1cblxuICBpZiAoIEtleWVkQ29sbGVjdGlvbiQkMSApIE1hcC5fX3Byb3RvX18gPSBLZXllZENvbGxlY3Rpb24kJDE7XG4gIE1hcC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBLZXllZENvbGxlY3Rpb24kJDEgJiYgS2V5ZWRDb2xsZWN0aW9uJCQxLnByb3RvdHlwZSApO1xuICBNYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTWFwO1xuXG4gIE1hcC5vZiA9IGZ1bmN0aW9uIG9mICgpIHtcbiAgICB2YXIga2V5VmFsdWVzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIGtleVZhbHVlc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgcmV0dXJuIGVtcHR5TWFwKCkud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAobWFwKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleVZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgICBpZiAoaSArIDEgPj0ga2V5VmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB2YWx1ZSBmb3Iga2V5OiAnICsga2V5VmFsdWVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBtYXAuc2V0KGtleVZhbHVlc1tpXSwga2V5VmFsdWVzW2kgKyAxXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdNYXAgeycsICd9Jyk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICBNYXAucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaywgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcm9vdFxuICAgICAgPyB0aGlzLl9yb290LmdldCgwLCB1bmRlZmluZWQsIGssIG5vdFNldFZhbHVlKVxuICAgICAgOiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gIE1hcC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChrLCB2KSB7XG4gICAgcmV0dXJuIHVwZGF0ZU1hcCh0aGlzLCBrLCB2KTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLnNldEluID0gZnVuY3Rpb24gc2V0SW4gKGtleVBhdGgsIHYpIHtcbiAgICByZXR1cm4gdGhpcy51cGRhdGVJbihrZXlQYXRoLCBOT1RfU0VULCBmdW5jdGlvbiAoKSB7IHJldHVybiB2OyB9KTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSAoaykge1xuICAgIHJldHVybiB1cGRhdGVNYXAodGhpcywgaywgTk9UX1NFVCk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5kZWxldGVJbiA9IGZ1bmN0aW9uIGRlbGV0ZUluIChrZXlQYXRoKSB7XG4gICAga2V5UGF0aCA9IFtdLmNvbmNhdCggY29lcmNlS2V5UGF0aChrZXlQYXRoKSApO1xuICAgIGlmIChrZXlQYXRoLmxlbmd0aCkge1xuICAgICAgdmFyIGxhc3RLZXkgPSBrZXlQYXRoLnBvcCgpO1xuICAgICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oa2V5UGF0aCwgZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMgJiYgYy5yZW1vdmUobGFzdEtleSk7IH0pO1xuICAgIH1cbiAgfTtcblxuICBNYXAucHJvdG90eXBlLmRlbGV0ZUFsbCA9IGZ1bmN0aW9uIGRlbGV0ZUFsbCAoa2V5cykge1xuICAgIHZhciBjb2xsZWN0aW9uID0gQ29sbGVjdGlvbihrZXlzKTtcblxuICAgIGlmIChjb2xsZWN0aW9uLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKG1hcCkge1xuICAgICAgY29sbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIG1hcC5yZW1vdmUoa2V5KTsgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKGssIG5vdFNldFZhbHVlLCB1cGRhdGVyKSB7XG4gICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPT09IDFcbiAgICAgID8gayh0aGlzKVxuICAgICAgOiB0aGlzLnVwZGF0ZUluKFtrXSwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUudXBkYXRlSW4gPSBmdW5jdGlvbiB1cGRhdGVJbiAoa2V5UGF0aCwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpIHtcbiAgICBpZiAoIXVwZGF0ZXIpIHtcbiAgICAgIHVwZGF0ZXIgPSBub3RTZXRWYWx1ZTtcbiAgICAgIG5vdFNldFZhbHVlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB2YXIgdXBkYXRlZFZhbHVlID0gdXBkYXRlSW5EZWVwTWFwKFxuICAgICAgdGhpcyxcbiAgICAgIGNvZXJjZUtleVBhdGgoa2V5UGF0aCksXG4gICAgICAwLFxuICAgICAgbm90U2V0VmFsdWUsXG4gICAgICB1cGRhdGVyXG4gICAgKTtcbiAgICByZXR1cm4gdXBkYXRlZFZhbHVlID09PSBOT1RfU0VUID8gbm90U2V0VmFsdWUgOiB1cGRhdGVkVmFsdWU7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5fcm9vdCA9IG51bGw7XG4gICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gZW1wdHlNYXAoKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgTWFwLnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlICgvKi4uLml0ZXJzKi8pIHtcbiAgICByZXR1cm4gbWVyZ2VJbnRvTWFwV2l0aCh0aGlzLCB1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5tZXJnZVdpdGggPSBmdW5jdGlvbiBtZXJnZVdpdGggKG1lcmdlcikge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoIGxlbi0tID4gMCApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgbWVyZ2VyLCBpdGVycyk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5tZXJnZUluID0gZnVuY3Rpb24gbWVyZ2VJbiAoa2V5UGF0aCkge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoIC0gMTtcbiAgICB3aGlsZSAoIGxlbi0tID4gMCApIGl0ZXJzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuICsgMSBdO1xuXG4gICAgcmV0dXJuIHRoaXMudXBkYXRlSW4oXG4gICAgICBrZXlQYXRoLFxuICAgICAgZW1wdHlNYXAoKSxcbiAgICAgIGZ1bmN0aW9uIChtKSB7IHJldHVybiB0eXBlb2YgbS5tZXJnZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgID8gbS5tZXJnZS5hcHBseShtLCBpdGVycylcbiAgICAgICAgICA6IGl0ZXJzW2l0ZXJzLmxlbmd0aCAtIDFdOyB9XG4gICAgKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLm1lcmdlRGVlcCA9IGZ1bmN0aW9uIG1lcmdlRGVlcCAoLyouLi5pdGVycyovKSB7XG4gICAgcmV0dXJuIG1lcmdlSW50b01hcFdpdGgodGhpcywgZGVlcE1lcmdlciwgYXJndW1lbnRzKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLm1lcmdlRGVlcFdpdGggPSBmdW5jdGlvbiBtZXJnZURlZXBXaXRoIChtZXJnZXIpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCBsZW4tLSA+IDAgKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgIHJldHVybiBtZXJnZUludG9NYXBXaXRoKHRoaXMsIGRlZXBNZXJnZXJXaXRoKG1lcmdlciksIGl0ZXJzKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLm1lcmdlRGVlcEluID0gZnVuY3Rpb24gbWVyZ2VEZWVwSW4gKGtleVBhdGgpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKCBsZW4tLSA+IDAgKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiArIDEgXTtcblxuICAgIHJldHVybiB0aGlzLnVwZGF0ZUluKFxuICAgICAga2V5UGF0aCxcbiAgICAgIGVtcHR5TWFwKCksXG4gICAgICBmdW5jdGlvbiAobSkgeyByZXR1cm4gdHlwZW9mIG0ubWVyZ2VEZWVwID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgPyBtLm1lcmdlRGVlcC5hcHBseShtLCBpdGVycylcbiAgICAgICAgICA6IGl0ZXJzW2l0ZXJzLmxlbmd0aCAtIDFdOyB9XG4gICAgKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLnNvcnQgPSBmdW5jdGlvbiBzb3J0IChjb21wYXJhdG9yKSB7XG4gICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgcmV0dXJuIE9yZGVyZWRNYXAoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvcikpO1xuICB9O1xuXG4gIE1hcC5wcm90b3R5cGUuc29ydEJ5ID0gZnVuY3Rpb24gc29ydEJ5IChtYXBwZXIsIGNvbXBhcmF0b3IpIHtcbiAgICAvLyBMYXRlIGJpbmRpbmdcbiAgICByZXR1cm4gT3JkZXJlZE1hcChzb3J0RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yLCBtYXBwZXIpKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE11dGFiaWxpdHlcblxuICBNYXAucHJvdG90eXBlLndpdGhNdXRhdGlvbnMgPSBmdW5jdGlvbiB3aXRoTXV0YXRpb25zIChmbikge1xuICAgIHZhciBtdXRhYmxlID0gdGhpcy5hc011dGFibGUoKTtcbiAgICBmbihtdXRhYmxlKTtcbiAgICByZXR1cm4gbXV0YWJsZS53YXNBbHRlcmVkKCkgPyBtdXRhYmxlLl9fZW5zdXJlT3duZXIodGhpcy5fX293bmVySUQpIDogdGhpcztcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLmFzTXV0YWJsZSA9IGZ1bmN0aW9uIGFzTXV0YWJsZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19vd25lcklEID8gdGhpcyA6IHRoaXMuX19lbnN1cmVPd25lcihuZXcgT3duZXJJRCgpKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLmFzSW1tdXRhYmxlID0gZnVuY3Rpb24gYXNJbW11dGFibGUgKCkge1xuICAgIHJldHVybiB0aGlzLl9fZW5zdXJlT3duZXIoKTtcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLndhc0FsdGVyZWQgPSBmdW5jdGlvbiB3YXNBbHRlcmVkICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX2FsdGVyZWQ7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHJldHVybiBuZXcgTWFwSXRlcmF0b3IodGhpcywgdHlwZSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgTWFwLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gICAgdGhpcy5fcm9vdCAmJlxuICAgICAgdGhpcy5fcm9vdC5pdGVyYXRlKFxuICAgICAgICBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICBpdGVyYXRpb25zKys7XG4gICAgICAgICAgcmV0dXJuIGZuKGVudHJ5WzFdLCBlbnRyeVswXSwgdGhpcyQxKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcblxuICBNYXAucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbiBfX2Vuc3VyZU93bmVyIChvd25lcklEKSB7XG4gICAgaWYgKG93bmVySUQgPT09IHRoaXMuX19vd25lcklEKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKCFvd25lcklEKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBlbXB0eU1hcCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZU1hcCh0aGlzLnNpemUsIHRoaXMuX3Jvb3QsIG93bmVySUQsIHRoaXMuX19oYXNoKTtcbiAgfTtcblxuICByZXR1cm4gTWFwO1xufShLZXllZENvbGxlY3Rpb24pKTtcblxuZnVuY3Rpb24gaXNNYXAobWF5YmVNYXApIHtcbiAgcmV0dXJuICEhKG1heWJlTWFwICYmIG1heWJlTWFwW0lTX01BUF9TRU5USU5FTF0pO1xufVxuXG5NYXAuaXNNYXAgPSBpc01hcDtcblxudmFyIElTX01BUF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX01BUF9fQEAnO1xuXG52YXIgTWFwUHJvdG90eXBlID0gTWFwLnByb3RvdHlwZTtcbk1hcFByb3RvdHlwZVtJU19NQVBfU0VOVElORUxdID0gdHJ1ZTtcbk1hcFByb3RvdHlwZVtERUxFVEVdID0gTWFwUHJvdG90eXBlLnJlbW92ZTtcbk1hcFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5kZWxldGVJbjtcbk1hcFByb3RvdHlwZS5yZW1vdmVBbGwgPSBNYXBQcm90b3R5cGUuZGVsZXRlQWxsO1xuXG4vLyAjcHJhZ21hIFRyaWUgTm9kZXNcblxudmFyIEFycmF5TWFwTm9kZSA9IGZ1bmN0aW9uIEFycmF5TWFwTm9kZShvd25lcklELCBlbnRyaWVzKSB7XG4gIHRoaXMub3duZXJJRCA9IG93bmVySUQ7XG4gIHRoaXMuZW50cmllcyA9IGVudHJpZXM7XG59O1xuXG5BcnJheU1hcE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gIGZvciAodmFyIGlpID0gMCwgbGVuID0gZW50cmllcy5sZW5ndGg7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgaWYgKGlzKGtleSwgZW50cmllc1tpaV1bMF0pKSB7XG4gICAgICByZXR1cm4gZW50cmllc1tpaV1bMV07XG4gICAgfVxuICB9XG4gIHJldHVybiBub3RTZXRWYWx1ZTtcbn07XG5cbkFycmF5TWFwTm9kZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChvd25lcklELCBzaGlmdCwga2V5SGFzaCwga2V5LCB2YWx1ZSwgZGlkQ2hhbmdlU2l6ZSwgZGlkQWx0ZXIpIHtcbiAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcblxuICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgdmFyIGlkeCA9IDA7XG4gIHZhciBsZW4gPSBlbnRyaWVzLmxlbmd0aDtcbiAgZm9yICg7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lkeF1bMF0pKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgdmFyIGV4aXN0cyA9IGlkeCA8IGxlbjtcblxuICBpZiAoZXhpc3RzID8gZW50cmllc1tpZHhdWzFdID09PSB2YWx1ZSA6IHJlbW92ZWQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIFNldFJlZihkaWRBbHRlcik7XG4gIChyZW1vdmVkIHx8ICFleGlzdHMpICYmIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcblxuICBpZiAocmVtb3ZlZCAmJiBlbnRyaWVzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybjsgLy8gdW5kZWZpbmVkXG4gIH1cblxuICBpZiAoIWV4aXN0cyAmJiAhcmVtb3ZlZCAmJiBlbnRyaWVzLmxlbmd0aCA+PSBNQVhfQVJSQVlfTUFQX1NJWkUpIHtcbiAgICByZXR1cm4gY3JlYXRlTm9kZXMob3duZXJJRCwgZW50cmllcywga2V5LCB2YWx1ZSk7XG4gIH1cblxuICB2YXIgaXNFZGl0YWJsZSA9IG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEO1xuICB2YXIgbmV3RW50cmllcyA9IGlzRWRpdGFibGUgPyBlbnRyaWVzIDogYXJyQ29weShlbnRyaWVzKTtcblxuICBpZiAoZXhpc3RzKSB7XG4gICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgIGlkeCA9PT0gbGVuIC0gMVxuICAgICAgICA/IG5ld0VudHJpZXMucG9wKClcbiAgICAgICAgOiAobmV3RW50cmllc1tpZHhdID0gbmV3RW50cmllcy5wb3AoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0VudHJpZXNbaWR4XSA9IFtrZXksIHZhbHVlXTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbmV3RW50cmllcy5wdXNoKFtrZXksIHZhbHVlXSk7XG4gIH1cblxuICBpZiAoaXNFZGl0YWJsZSkge1xuICAgIHRoaXMuZW50cmllcyA9IG5ld0VudHJpZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXR1cm4gbmV3IEFycmF5TWFwTm9kZShvd25lcklELCBuZXdFbnRyaWVzKTtcbn07XG5cbnZhciBCaXRtYXBJbmRleGVkTm9kZSA9IGZ1bmN0aW9uIEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIGJpdG1hcCwgbm9kZXMpIHtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbiAgdGhpcy5iaXRtYXAgPSBiaXRtYXA7XG4gIHRoaXMubm9kZXMgPSBub2Rlcztcbn07XG5cbkJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKHNoaWZ0LCBrZXlIYXNoLCBrZXksIG5vdFNldFZhbHVlKSB7XG4gIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICB9XG4gIHZhciBiaXQgPSAxIDw8ICgoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSyk7XG4gIHZhciBiaXRtYXAgPSB0aGlzLmJpdG1hcDtcbiAgcmV0dXJuIChiaXRtYXAgJiBiaXQpID09PSAwXG4gICAgPyBub3RTZXRWYWx1ZVxuICAgIDogdGhpcy5ub2Rlc1twb3BDb3VudChiaXRtYXAgJiBiaXQgLSAxKV0uZ2V0KFxuICAgICAgICBzaGlmdCArIFNISUZULFxuICAgICAgICBrZXlIYXNoLFxuICAgICAgICBrZXksXG4gICAgICAgIG5vdFNldFZhbHVlXG4gICAgICApO1xufTtcblxuQml0bWFwSW5kZXhlZE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICB9XG4gIHZhciBrZXlIYXNoRnJhZyA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICB2YXIgYml0ID0gMSA8PCBrZXlIYXNoRnJhZztcbiAgdmFyIGJpdG1hcCA9IHRoaXMuYml0bWFwO1xuICB2YXIgZXhpc3RzID0gKGJpdG1hcCAmIGJpdCkgIT09IDA7XG5cbiAgaWYgKCFleGlzdHMgJiYgdmFsdWUgPT09IE5PVF9TRVQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHZhciBpZHggPSBwb3BDb3VudChiaXRtYXAgJiBiaXQgLSAxKTtcbiAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgdmFyIG5vZGUgPSBleGlzdHMgPyBub2Rlc1tpZHhdIDogdW5kZWZpbmVkO1xuICB2YXIgbmV3Tm9kZSA9IHVwZGF0ZU5vZGUoXG4gICAgbm9kZSxcbiAgICBvd25lcklELFxuICAgIHNoaWZ0ICsgU0hJRlQsXG4gICAga2V5SGFzaCxcbiAgICBrZXksXG4gICAgdmFsdWUsXG4gICAgZGlkQ2hhbmdlU2l6ZSxcbiAgICBkaWRBbHRlclxuICApO1xuXG4gIGlmIChuZXdOb2RlID09PSBub2RlKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBpZiAoIWV4aXN0cyAmJiBuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA+PSBNQVhfQklUTUFQX0lOREVYRURfU0laRSkge1xuICAgIHJldHVybiBleHBhbmROb2Rlcyhvd25lcklELCBub2RlcywgYml0bWFwLCBrZXlIYXNoRnJhZywgbmV3Tm9kZSk7XG4gIH1cblxuICBpZiAoXG4gICAgZXhpc3RzICYmICFuZXdOb2RlICYmIG5vZGVzLmxlbmd0aCA9PT0gMiAmJiBpc0xlYWZOb2RlKG5vZGVzW2lkeCBeIDFdKVxuICApIHtcbiAgICByZXR1cm4gbm9kZXNbaWR4IF4gMV07XG4gIH1cblxuICBpZiAoZXhpc3RzICYmIG5ld05vZGUgJiYgbm9kZXMubGVuZ3RoID09PSAxICYmIGlzTGVhZk5vZGUobmV3Tm9kZSkpIHtcbiAgICByZXR1cm4gbmV3Tm9kZTtcbiAgfVxuXG4gIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gIHZhciBuZXdCaXRtYXAgPSBleGlzdHMgPyBuZXdOb2RlID8gYml0bWFwIDogYml0bWFwIF4gYml0IDogYml0bWFwIHwgYml0O1xuICB2YXIgbmV3Tm9kZXMgPSBleGlzdHNcbiAgICA/IG5ld05vZGVcbiAgICAgICAgPyBzZXRJbihub2RlcywgaWR4LCBuZXdOb2RlLCBpc0VkaXRhYmxlKVxuICAgICAgICA6IHNwbGljZU91dChub2RlcywgaWR4LCBpc0VkaXRhYmxlKVxuICAgIDogc3BsaWNlSW4obm9kZXMsIGlkeCwgbmV3Tm9kZSwgaXNFZGl0YWJsZSk7XG5cbiAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICB0aGlzLmJpdG1hcCA9IG5ld0JpdG1hcDtcbiAgICB0aGlzLm5vZGVzID0gbmV3Tm9kZXM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIG5ld0JpdG1hcCwgbmV3Tm9kZXMpO1xufTtcblxudmFyIEhhc2hBcnJheU1hcE5vZGUgPSBmdW5jdGlvbiBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIGNvdW50LCBub2Rlcykge1xuICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICB0aGlzLmNvdW50ID0gY291bnQ7XG4gIHRoaXMubm9kZXMgPSBub2Rlcztcbn07XG5cbkhhc2hBcnJheU1hcE5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgaWYgKGtleUhhc2ggPT09IHVuZGVmaW5lZCkge1xuICAgIGtleUhhc2ggPSBoYXNoKGtleSk7XG4gIH1cbiAgdmFyIGlkeCA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICB2YXIgbm9kZSA9IHRoaXMubm9kZXNbaWR4XTtcbiAgcmV0dXJuIG5vZGVcbiAgICA/IG5vZGUuZ2V0KHNoaWZ0ICsgU0hJRlQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpXG4gICAgOiBub3RTZXRWYWx1ZTtcbn07XG5cbkhhc2hBcnJheU1hcE5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gIGlmIChrZXlIYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICBrZXlIYXNoID0gaGFzaChrZXkpO1xuICB9XG4gIHZhciBpZHggPSAoc2hpZnQgPT09IDAgPyBrZXlIYXNoIDoga2V5SGFzaCA+Pj4gc2hpZnQpICYgTUFTSztcbiAgdmFyIHJlbW92ZWQgPSB2YWx1ZSA9PT0gTk9UX1NFVDtcbiAgdmFyIG5vZGVzID0gdGhpcy5ub2RlcztcbiAgdmFyIG5vZGUgPSBub2Rlc1tpZHhdO1xuXG4gIGlmIChyZW1vdmVkICYmICFub2RlKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbmV3Tm9kZSA9IHVwZGF0ZU5vZGUoXG4gICAgbm9kZSxcbiAgICBvd25lcklELFxuICAgIHNoaWZ0ICsgU0hJRlQsXG4gICAga2V5SGFzaCxcbiAgICBrZXksXG4gICAgdmFsdWUsXG4gICAgZGlkQ2hhbmdlU2l6ZSxcbiAgICBkaWRBbHRlclxuICApO1xuICBpZiAobmV3Tm9kZSA9PT0gbm9kZSkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgdmFyIG5ld0NvdW50ID0gdGhpcy5jb3VudDtcbiAgaWYgKCFub2RlKSB7XG4gICAgbmV3Q291bnQrKztcbiAgfSBlbHNlIGlmICghbmV3Tm9kZSkge1xuICAgIG5ld0NvdW50LS07XG4gICAgaWYgKG5ld0NvdW50IDwgTUlOX0hBU0hfQVJSQVlfTUFQX1NJWkUpIHtcbiAgICAgIHJldHVybiBwYWNrTm9kZXMob3duZXJJRCwgbm9kZXMsIG5ld0NvdW50LCBpZHgpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBpc0VkaXRhYmxlID0gb3duZXJJRCAmJiBvd25lcklEID09PSB0aGlzLm93bmVySUQ7XG4gIHZhciBuZXdOb2RlcyA9IHNldEluKG5vZGVzLCBpZHgsIG5ld05vZGUsIGlzRWRpdGFibGUpO1xuXG4gIGlmIChpc0VkaXRhYmxlKSB7XG4gICAgdGhpcy5jb3VudCA9IG5ld0NvdW50O1xuICAgIHRoaXMubm9kZXMgPSBuZXdOb2RlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldHVybiBuZXcgSGFzaEFycmF5TWFwTm9kZShvd25lcklELCBuZXdDb3VudCwgbmV3Tm9kZXMpO1xufTtcblxudmFyIEhhc2hDb2xsaXNpb25Ob2RlID0gZnVuY3Rpb24gSGFzaENvbGxpc2lvbk5vZGUob3duZXJJRCwga2V5SGFzaCwgZW50cmllcykge1xuICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICB0aGlzLmtleUhhc2ggPSBrZXlIYXNoO1xuICB0aGlzLmVudHJpZXMgPSBlbnRyaWVzO1xufTtcblxuSGFzaENvbGxpc2lvbk5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gIGZvciAodmFyIGlpID0gMCwgbGVuID0gZW50cmllcy5sZW5ndGg7IGlpIDwgbGVuOyBpaSsrKSB7XG4gICAgaWYgKGlzKGtleSwgZW50cmllc1tpaV1bMF0pKSB7XG4gICAgICByZXR1cm4gZW50cmllc1tpaV1bMV07XG4gICAgfVxuICB9XG4gIHJldHVybiBub3RTZXRWYWx1ZTtcbn07XG5cbkhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBrZXksIHZhbHVlLCBkaWRDaGFuZ2VTaXplLCBkaWRBbHRlcikge1xuICBpZiAoa2V5SGFzaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAga2V5SGFzaCA9IGhhc2goa2V5KTtcbiAgfVxuXG4gIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG5cbiAgaWYgKGtleUhhc2ggIT09IHRoaXMua2V5SGFzaCkge1xuICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgU2V0UmVmKGRpZEFsdGVyKTtcbiAgICBTZXRSZWYoZGlkQ2hhbmdlU2l6ZSk7XG4gICAgcmV0dXJuIG1lcmdlSW50b05vZGUodGhpcywgb3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gIH1cblxuICB2YXIgZW50cmllcyA9IHRoaXMuZW50cmllcztcbiAgdmFyIGlkeCA9IDA7XG4gIHZhciBsZW4gPSBlbnRyaWVzLmxlbmd0aDtcbiAgZm9yICg7IGlkeCA8IGxlbjsgaWR4KyspIHtcbiAgICBpZiAoaXMoa2V5LCBlbnRyaWVzW2lkeF1bMF0pKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgdmFyIGV4aXN0cyA9IGlkeCA8IGxlbjtcblxuICBpZiAoZXhpc3RzID8gZW50cmllc1tpZHhdWzFdID09PSB2YWx1ZSA6IHJlbW92ZWQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIFNldFJlZihkaWRBbHRlcik7XG4gIChyZW1vdmVkIHx8ICFleGlzdHMpICYmIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcblxuICBpZiAocmVtb3ZlZCAmJiBsZW4gPT09IDIpIHtcbiAgICByZXR1cm4gbmV3IFZhbHVlTm9kZShvd25lcklELCB0aGlzLmtleUhhc2gsIGVudHJpZXNbaWR4IF4gMV0pO1xuICB9XG5cbiAgdmFyIGlzRWRpdGFibGUgPSBvd25lcklEICYmIG93bmVySUQgPT09IHRoaXMub3duZXJJRDtcbiAgdmFyIG5ld0VudHJpZXMgPSBpc0VkaXRhYmxlID8gZW50cmllcyA6IGFyckNvcHkoZW50cmllcyk7XG5cbiAgaWYgKGV4aXN0cykge1xuICAgIGlmIChyZW1vdmVkKSB7XG4gICAgICBpZHggPT09IGxlbiAtIDFcbiAgICAgICAgPyBuZXdFbnRyaWVzLnBvcCgpXG4gICAgICAgIDogKG5ld0VudHJpZXNbaWR4XSA9IG5ld0VudHJpZXMucG9wKCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXdFbnRyaWVzW2lkeF0gPSBba2V5LCB2YWx1ZV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG5ld0VudHJpZXMucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9XG5cbiAgaWYgKGlzRWRpdGFibGUpIHtcbiAgICB0aGlzLmVudHJpZXMgPSBuZXdFbnRyaWVzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBIYXNoQ29sbGlzaW9uTm9kZShvd25lcklELCB0aGlzLmtleUhhc2gsIG5ld0VudHJpZXMpO1xufTtcblxudmFyIFZhbHVlTm9kZSA9IGZ1bmN0aW9uIFZhbHVlTm9kZShvd25lcklELCBrZXlIYXNoLCBlbnRyeSkge1xuICB0aGlzLm93bmVySUQgPSBvd25lcklEO1xuICB0aGlzLmtleUhhc2ggPSBrZXlIYXNoO1xuICB0aGlzLmVudHJ5ID0gZW50cnk7XG59O1xuXG5WYWx1ZU5vZGUucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoc2hpZnQsIGtleUhhc2gsIGtleSwgbm90U2V0VmFsdWUpIHtcbiAgcmV0dXJuIGlzKGtleSwgdGhpcy5lbnRyeVswXSkgPyB0aGlzLmVudHJ5WzFdIDogbm90U2V0VmFsdWU7XG59O1xuXG5WYWx1ZU5vZGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAob3duZXJJRCwgc2hpZnQsIGtleUhhc2gsIGtleSwgdmFsdWUsIGRpZENoYW5nZVNpemUsIGRpZEFsdGVyKSB7XG4gIHZhciByZW1vdmVkID0gdmFsdWUgPT09IE5PVF9TRVQ7XG4gIHZhciBrZXlNYXRjaCA9IGlzKGtleSwgdGhpcy5lbnRyeVswXSk7XG4gIGlmIChrZXlNYXRjaCA/IHZhbHVlID09PSB0aGlzLmVudHJ5WzFdIDogcmVtb3ZlZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgU2V0UmVmKGRpZEFsdGVyKTtcblxuICBpZiAocmVtb3ZlZCkge1xuICAgIFNldFJlZihkaWRDaGFuZ2VTaXplKTtcbiAgICByZXR1cm47IC8vIHVuZGVmaW5lZFxuICB9XG5cbiAgaWYgKGtleU1hdGNoKSB7XG4gICAgaWYgKG93bmVySUQgJiYgb3duZXJJRCA9PT0gdGhpcy5vd25lcklEKSB7XG4gICAgICB0aGlzLmVudHJ5WzFdID0gdmFsdWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBWYWx1ZU5vZGUob3duZXJJRCwgdGhpcy5rZXlIYXNoLCBba2V5LCB2YWx1ZV0pO1xuICB9XG5cbiAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICByZXR1cm4gbWVyZ2VJbnRvTm9kZSh0aGlzLCBvd25lcklELCBzaGlmdCwgaGFzaChrZXkpLCBba2V5LCB2YWx1ZV0pO1xufTtcblxuLy8gI3ByYWdtYSBJdGVyYXRvcnNcblxuQXJyYXlNYXBOb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gKEhhc2hDb2xsaXNpb25Ob2RlLnByb3RvdHlwZS5pdGVyYXRlID0gZnVuY3Rpb24oXG4gIGZuLFxuICByZXZlcnNlXG4pIHtcbiAgdmFyIGVudHJpZXMgPSB0aGlzLmVudHJpZXM7XG4gIGZvciAodmFyIGlpID0gMCwgbWF4SW5kZXggPSBlbnRyaWVzLmxlbmd0aCAtIDE7IGlpIDw9IG1heEluZGV4OyBpaSsrKSB7XG4gICAgaWYgKGZuKGVudHJpZXNbcmV2ZXJzZSA/IG1heEluZGV4IC0gaWkgOiBpaV0pID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxufSk7XG5cbkJpdG1hcEluZGV4ZWROb2RlLnByb3RvdHlwZS5pdGVyYXRlID0gKEhhc2hBcnJheU1hcE5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbihcbiAgZm4sXG4gIHJldmVyc2Vcbikge1xuICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVzO1xuICBmb3IgKHZhciBpaSA9IDAsIG1heEluZGV4ID0gbm9kZXMubGVuZ3RoIC0gMTsgaWkgPD0gbWF4SW5kZXg7IGlpKyspIHtcbiAgICB2YXIgbm9kZSA9IG5vZGVzW3JldmVyc2UgPyBtYXhJbmRleCAtIGlpIDogaWldO1xuICAgIGlmIChub2RlICYmIG5vZGUuaXRlcmF0ZShmbiwgcmV2ZXJzZSkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59KTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5WYWx1ZU5vZGUucHJvdG90eXBlLml0ZXJhdGUgPSBmdW5jdGlvbihmbiwgcmV2ZXJzZSkge1xuICByZXR1cm4gZm4odGhpcy5lbnRyeSk7XG59O1xuXG52YXIgTWFwSXRlcmF0b3IgPSAoZnVuY3Rpb24gKEl0ZXJhdG9yJCQxKSB7XG4gIGZ1bmN0aW9uIE1hcEl0ZXJhdG9yKG1hcCwgdHlwZSwgcmV2ZXJzZSkge1xuICAgIHRoaXMuX3R5cGUgPSB0eXBlO1xuICAgIHRoaXMuX3JldmVyc2UgPSByZXZlcnNlO1xuICAgIHRoaXMuX3N0YWNrID0gbWFwLl9yb290ICYmIG1hcEl0ZXJhdG9yRnJhbWUobWFwLl9yb290KTtcbiAgfVxuXG4gIGlmICggSXRlcmF0b3IkJDEgKSBNYXBJdGVyYXRvci5fX3Byb3RvX18gPSBJdGVyYXRvciQkMTtcbiAgTWFwSXRlcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSXRlcmF0b3IkJDEgJiYgSXRlcmF0b3IkJDEucHJvdG90eXBlICk7XG4gIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IE1hcEl0ZXJhdG9yO1xuXG4gIE1hcEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gbmV4dCAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgdHlwZSA9IHRoaXMuX3R5cGU7XG4gICAgdmFyIHN0YWNrID0gdGhpcy5fc3RhY2s7XG4gICAgd2hpbGUgKHN0YWNrKSB7XG4gICAgICB2YXIgbm9kZSA9IHN0YWNrLm5vZGU7XG4gICAgICB2YXIgaW5kZXggPSBzdGFjay5pbmRleCsrO1xuICAgICAgdmFyIG1heEluZGV4ID0gKHZvaWQgMCk7XG4gICAgICBpZiAobm9kZS5lbnRyeSkge1xuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gbWFwSXRlcmF0b3JWYWx1ZSh0eXBlLCBub2RlLmVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChub2RlLmVudHJpZXMpIHtcbiAgICAgICAgbWF4SW5kZXggPSBub2RlLmVudHJpZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIG1hcEl0ZXJhdG9yVmFsdWUoXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgbm9kZS5lbnRyaWVzW3RoaXMkMS5fcmV2ZXJzZSA/IG1heEluZGV4IC0gaW5kZXggOiBpbmRleF1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXhJbmRleCA9IG5vZGUubm9kZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKGluZGV4IDw9IG1heEluZGV4KSB7XG4gICAgICAgICAgdmFyIHN1Yk5vZGUgPSBub2RlLm5vZGVzW3RoaXMkMS5fcmV2ZXJzZSA/IG1heEluZGV4IC0gaW5kZXggOiBpbmRleF07XG4gICAgICAgICAgaWYgKHN1Yk5vZGUpIHtcbiAgICAgICAgICAgIGlmIChzdWJOb2RlLmVudHJ5KSB7XG4gICAgICAgICAgICAgIHJldHVybiBtYXBJdGVyYXRvclZhbHVlKHR5cGUsIHN1Yk5vZGUuZW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhY2sgPSAodGhpcyQxLl9zdGFjayA9IG1hcEl0ZXJhdG9yRnJhbWUoc3ViTm9kZSwgc3RhY2spKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrID0gKHRoaXMkMS5fc3RhY2sgPSB0aGlzJDEuX3N0YWNrLl9fcHJldik7XG4gICAgfVxuICAgIHJldHVybiBpdGVyYXRvckRvbmUoKTtcbiAgfTtcblxuICByZXR1cm4gTWFwSXRlcmF0b3I7XG59KEl0ZXJhdG9yKSk7XG5cbmZ1bmN0aW9uIG1hcEl0ZXJhdG9yVmFsdWUodHlwZSwgZW50cnkpIHtcbiAgcmV0dXJuIGl0ZXJhdG9yVmFsdWUodHlwZSwgZW50cnlbMF0sIGVudHJ5WzFdKTtcbn1cblxuZnVuY3Rpb24gbWFwSXRlcmF0b3JGcmFtZShub2RlLCBwcmV2KSB7XG4gIHJldHVybiB7XG4gICAgbm9kZTogbm9kZSxcbiAgICBpbmRleDogMCxcbiAgICBfX3ByZXY6IHByZXZcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZU1hcChzaXplLCByb290LCBvd25lcklELCBoYXNoJCQxKSB7XG4gIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKE1hcFByb3RvdHlwZSk7XG4gIG1hcC5zaXplID0gc2l6ZTtcbiAgbWFwLl9yb290ID0gcm9vdDtcbiAgbWFwLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gIG1hcC5fX2hhc2ggPSBoYXNoJCQxO1xuICBtYXAuX19hbHRlcmVkID0gZmFsc2U7XG4gIHJldHVybiBtYXA7XG59XG5cbnZhciBFTVBUWV9NQVA7XG5mdW5jdGlvbiBlbXB0eU1hcCgpIHtcbiAgcmV0dXJuIEVNUFRZX01BUCB8fCAoRU1QVFlfTUFQID0gbWFrZU1hcCgwKSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU1hcChtYXAsIGssIHYpIHtcbiAgdmFyIG5ld1Jvb3Q7XG4gIHZhciBuZXdTaXplO1xuICBpZiAoIW1hcC5fcm9vdCkge1xuICAgIGlmICh2ID09PSBOT1RfU0VUKSB7XG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgICBuZXdTaXplID0gMTtcbiAgICBuZXdSb290ID0gbmV3IEFycmF5TWFwTm9kZShtYXAuX19vd25lcklELCBbW2ssIHZdXSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGRpZENoYW5nZVNpemUgPSBNYWtlUmVmKENIQU5HRV9MRU5HVEgpO1xuICAgIHZhciBkaWRBbHRlciA9IE1ha2VSZWYoRElEX0FMVEVSKTtcbiAgICBuZXdSb290ID0gdXBkYXRlTm9kZShcbiAgICAgIG1hcC5fcm9vdCxcbiAgICAgIG1hcC5fX293bmVySUQsXG4gICAgICAwLFxuICAgICAgdW5kZWZpbmVkLFxuICAgICAgayxcbiAgICAgIHYsXG4gICAgICBkaWRDaGFuZ2VTaXplLFxuICAgICAgZGlkQWx0ZXJcbiAgICApO1xuICAgIGlmICghZGlkQWx0ZXIudmFsdWUpIHtcbiAgICAgIHJldHVybiBtYXA7XG4gICAgfVxuICAgIG5ld1NpemUgPSBtYXAuc2l6ZSArIChkaWRDaGFuZ2VTaXplLnZhbHVlID8gdiA9PT0gTk9UX1NFVCA/IC0xIDogMSA6IDApO1xuICB9XG4gIGlmIChtYXAuX19vd25lcklEKSB7XG4gICAgbWFwLnNpemUgPSBuZXdTaXplO1xuICAgIG1hcC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgbWFwLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICBtYXAuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICByZXR1cm4gbWFwO1xuICB9XG4gIHJldHVybiBuZXdSb290ID8gbWFrZU1hcChuZXdTaXplLCBuZXdSb290KSA6IGVtcHR5TWFwKCk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZU5vZGUoXG4gIG5vZGUsXG4gIG93bmVySUQsXG4gIHNoaWZ0LFxuICBrZXlIYXNoLFxuICBrZXksXG4gIHZhbHVlLFxuICBkaWRDaGFuZ2VTaXplLFxuICBkaWRBbHRlclxuKSB7XG4gIGlmICghbm9kZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gTk9UX1NFVCkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIFNldFJlZihkaWRBbHRlcik7XG4gICAgU2V0UmVmKGRpZENoYW5nZVNpemUpO1xuICAgIHJldHVybiBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIFtrZXksIHZhbHVlXSk7XG4gIH1cbiAgcmV0dXJuIG5vZGUudXBkYXRlKFxuICAgIG93bmVySUQsXG4gICAgc2hpZnQsXG4gICAga2V5SGFzaCxcbiAgICBrZXksXG4gICAgdmFsdWUsXG4gICAgZGlkQ2hhbmdlU2l6ZSxcbiAgICBkaWRBbHRlclxuICApO1xufVxuXG5mdW5jdGlvbiBpc0xlYWZOb2RlKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuY29uc3RydWN0b3IgPT09IFZhbHVlTm9kZSB8fFxuICAgIG5vZGUuY29uc3RydWN0b3IgPT09IEhhc2hDb2xsaXNpb25Ob2RlO1xufVxuXG5mdW5jdGlvbiBtZXJnZUludG9Ob2RlKG5vZGUsIG93bmVySUQsIHNoaWZ0LCBrZXlIYXNoLCBlbnRyeSkge1xuICBpZiAobm9kZS5rZXlIYXNoID09PSBrZXlIYXNoKSB7XG4gICAgcmV0dXJuIG5ldyBIYXNoQ29sbGlzaW9uTm9kZShvd25lcklELCBrZXlIYXNoLCBbbm9kZS5lbnRyeSwgZW50cnldKTtcbiAgfVxuXG4gIHZhciBpZHgxID0gKHNoaWZ0ID09PSAwID8gbm9kZS5rZXlIYXNoIDogbm9kZS5rZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuICB2YXIgaWR4MiA9IChzaGlmdCA9PT0gMCA/IGtleUhhc2ggOiBrZXlIYXNoID4+PiBzaGlmdCkgJiBNQVNLO1xuXG4gIHZhciBuZXdOb2RlO1xuICB2YXIgbm9kZXMgPSBpZHgxID09PSBpZHgyXG4gICAgPyBbbWVyZ2VJbnRvTm9kZShub2RlLCBvd25lcklELCBzaGlmdCArIFNISUZULCBrZXlIYXNoLCBlbnRyeSldXG4gICAgOiAoKG5ld05vZGUgPSBuZXcgVmFsdWVOb2RlKG93bmVySUQsIGtleUhhc2gsIGVudHJ5KSksIGlkeDEgPCBpZHgyXG4gICAgICAgID8gW25vZGUsIG5ld05vZGVdXG4gICAgICAgIDogW25ld05vZGUsIG5vZGVdKTtcblxuICByZXR1cm4gbmV3IEJpdG1hcEluZGV4ZWROb2RlKG93bmVySUQsIDEgPDwgaWR4MSB8IDEgPDwgaWR4Miwgbm9kZXMpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVOb2Rlcyhvd25lcklELCBlbnRyaWVzLCBrZXksIHZhbHVlKSB7XG4gIGlmICghb3duZXJJRCkge1xuICAgIG93bmVySUQgPSBuZXcgT3duZXJJRCgpO1xuICB9XG4gIHZhciBub2RlID0gbmV3IFZhbHVlTm9kZShvd25lcklELCBoYXNoKGtleSksIFtrZXksIHZhbHVlXSk7XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBlbnRyaWVzLmxlbmd0aDsgaWkrKykge1xuICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaWldO1xuICAgIG5vZGUgPSBub2RlLnVwZGF0ZShvd25lcklELCAwLCB1bmRlZmluZWQsIGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gIH1cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmZ1bmN0aW9uIHBhY2tOb2Rlcyhvd25lcklELCBub2RlcywgY291bnQsIGV4Y2x1ZGluZykge1xuICB2YXIgYml0bWFwID0gMDtcbiAgdmFyIHBhY2tlZElJID0gMDtcbiAgdmFyIHBhY2tlZE5vZGVzID0gbmV3IEFycmF5KGNvdW50KTtcbiAgZm9yICh2YXIgaWkgPSAwLCBiaXQgPSAxLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGlpIDwgbGVuOyBpaSsrLCAoYml0IDw8PSAxKSkge1xuICAgIHZhciBub2RlID0gbm9kZXNbaWldO1xuICAgIGlmIChub2RlICE9PSB1bmRlZmluZWQgJiYgaWkgIT09IGV4Y2x1ZGluZykge1xuICAgICAgYml0bWFwIHw9IGJpdDtcbiAgICAgIHBhY2tlZE5vZGVzW3BhY2tlZElJKytdID0gbm9kZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBCaXRtYXBJbmRleGVkTm9kZShvd25lcklELCBiaXRtYXAsIHBhY2tlZE5vZGVzKTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kTm9kZXMob3duZXJJRCwgbm9kZXMsIGJpdG1hcCwgaW5jbHVkaW5nLCBub2RlKSB7XG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciBleHBhbmRlZE5vZGVzID0gbmV3IEFycmF5KFNJWkUpO1xuICBmb3IgKHZhciBpaSA9IDA7IGJpdG1hcCAhPT0gMDsgaWkrKywgKGJpdG1hcCA+Pj49IDEpKSB7XG4gICAgZXhwYW5kZWROb2Rlc1tpaV0gPSBiaXRtYXAgJiAxID8gbm9kZXNbY291bnQrK10gOiB1bmRlZmluZWQ7XG4gIH1cbiAgZXhwYW5kZWROb2Rlc1tpbmNsdWRpbmddID0gbm9kZTtcbiAgcmV0dXJuIG5ldyBIYXNoQXJyYXlNYXBOb2RlKG93bmVySUQsIGNvdW50ICsgMSwgZXhwYW5kZWROb2Rlcyk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlSW50b01hcFdpdGgobWFwLCBtZXJnZXIsIGNvbGxlY3Rpb25zKSB7XG4gIHZhciBpdGVycyA9IFtdO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgY29sbGVjdGlvbnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgdmFyIHZhbHVlID0gY29sbGVjdGlvbnNbaWldO1xuICAgIHZhciBpdGVyID0gS2V5ZWRDb2xsZWN0aW9uKHZhbHVlKTtcbiAgICBpZiAoIWlzQ29sbGVjdGlvbih2YWx1ZSkpIHtcbiAgICAgIGl0ZXIgPSBpdGVyLm1hcChmdW5jdGlvbiAodikgeyByZXR1cm4gZnJvbUpTKHYpOyB9KTtcbiAgICB9XG4gICAgaXRlcnMucHVzaChpdGVyKTtcbiAgfVxuICByZXR1cm4gbWVyZ2VJbnRvQ29sbGVjdGlvbldpdGgobWFwLCBtZXJnZXIsIGl0ZXJzKTtcbn1cblxuZnVuY3Rpb24gZGVlcE1lcmdlcihvbGRWYWwsIG5ld1ZhbCkge1xuICByZXR1cm4gb2xkVmFsICYmIG9sZFZhbC5tZXJnZURlZXAgJiYgaXNDb2xsZWN0aW9uKG5ld1ZhbClcbiAgICA/IG9sZFZhbC5tZXJnZURlZXAobmV3VmFsKVxuICAgIDogaXMob2xkVmFsLCBuZXdWYWwpID8gb2xkVmFsIDogbmV3VmFsO1xufVxuXG5mdW5jdGlvbiBkZWVwTWVyZ2VyV2l0aChtZXJnZXIpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChvbGRWYWwsIG5ld1ZhbCwga2V5KSB7XG4gICAgaWYgKG9sZFZhbCAmJiBvbGRWYWwubWVyZ2VEZWVwV2l0aCAmJiBpc0NvbGxlY3Rpb24obmV3VmFsKSkge1xuICAgICAgcmV0dXJuIG9sZFZhbC5tZXJnZURlZXBXaXRoKG1lcmdlciwgbmV3VmFsKTtcbiAgICB9XG4gICAgdmFyIG5leHRWYWx1ZSA9IG1lcmdlcihvbGRWYWwsIG5ld1ZhbCwga2V5KTtcbiAgICByZXR1cm4gaXMob2xkVmFsLCBuZXh0VmFsdWUpID8gb2xkVmFsIDogbmV4dFZhbHVlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBtZXJnZUludG9Db2xsZWN0aW9uV2l0aChjb2xsZWN0aW9uLCBtZXJnZXIsIGl0ZXJzKSB7XG4gIGl0ZXJzID0gaXRlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnNpemUgIT09IDA7IH0pO1xuICBpZiAoaXRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH1cbiAgaWYgKGNvbGxlY3Rpb24uc2l6ZSA9PT0gMCAmJiAhY29sbGVjdGlvbi5fX293bmVySUQgJiYgaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb24uY29uc3RydWN0b3IoaXRlcnNbMF0pO1xuICB9XG4gIHJldHVybiBjb2xsZWN0aW9uLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcbiAgICB2YXIgbWVyZ2VJbnRvTWFwID0gbWVyZ2VyXG4gICAgICA/IGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgY29sbGVjdGlvbi51cGRhdGUoXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBOT1RfU0VULFxuICAgICAgICAgICAgZnVuY3Rpb24gKG9sZFZhbCkgeyByZXR1cm4gb2xkVmFsID09PSBOT1RfU0VUID8gdmFsdWUgOiBtZXJnZXIob2xkVmFsLCB2YWx1ZSwga2V5KTsgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIDogZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICBjb2xsZWN0aW9uLnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfTtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICBpdGVyc1tpaV0uZm9yRWFjaChtZXJnZUludG9NYXApO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUluRGVlcE1hcChleGlzdGluZywga2V5UGF0aCwgaSwgbm90U2V0VmFsdWUsIHVwZGF0ZXIpIHtcbiAgdmFyIGlzTm90U2V0ID0gZXhpc3RpbmcgPT09IE5PVF9TRVQ7XG4gIGlmIChpID09PSBrZXlQYXRoLmxlbmd0aCkge1xuICAgIHZhciBleGlzdGluZ1ZhbHVlID0gaXNOb3RTZXQgPyBub3RTZXRWYWx1ZSA6IGV4aXN0aW5nO1xuICAgIHZhciBuZXdWYWx1ZSA9IHVwZGF0ZXIoZXhpc3RpbmdWYWx1ZSk7XG4gICAgcmV0dXJuIG5ld1ZhbHVlID09PSBleGlzdGluZ1ZhbHVlID8gZXhpc3RpbmcgOiBuZXdWYWx1ZTtcbiAgfVxuICBpZiAoIShpc05vdFNldCB8fCAoZXhpc3RpbmcgJiYgZXhpc3Rpbmcuc2V0KSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgJ0ludmFsaWQga2V5UGF0aDogVmFsdWUgYXQgWycgK1xuICAgICAgICBrZXlQYXRoLnNsaWNlKDAsIGkpLm1hcChxdW90ZVN0cmluZykgK1xuICAgICAgICAnXSBkb2VzIG5vdCBoYXZlIGEgLnNldCgpIG1ldGhvZCBhbmQgY2Fubm90IGJlIHVwZGF0ZWQ6ICcgK1xuICAgICAgICBleGlzdGluZ1xuICAgICk7XG4gIH1cbiAgdmFyIGtleSA9IGtleVBhdGhbaV07XG4gIHZhciBuZXh0RXhpc3RpbmcgPSBpc05vdFNldCA/IE5PVF9TRVQgOiBleGlzdGluZy5nZXQoa2V5LCBOT1RfU0VUKTtcbiAgdmFyIG5leHRVcGRhdGVkID0gdXBkYXRlSW5EZWVwTWFwKFxuICAgIG5leHRFeGlzdGluZyxcbiAgICBrZXlQYXRoLFxuICAgIGkgKyAxLFxuICAgIG5vdFNldFZhbHVlLFxuICAgIHVwZGF0ZXJcbiAgKTtcbiAgcmV0dXJuIG5leHRVcGRhdGVkID09PSBuZXh0RXhpc3RpbmdcbiAgICA/IGV4aXN0aW5nXG4gICAgOiBuZXh0VXBkYXRlZCA9PT0gTk9UX1NFVFxuICAgICAgICA/IGV4aXN0aW5nLnJlbW92ZShrZXkpXG4gICAgICAgIDogKGlzTm90U2V0ID8gZW1wdHlNYXAoKSA6IGV4aXN0aW5nKS5zZXQoa2V5LCBuZXh0VXBkYXRlZCk7XG59XG5cbmZ1bmN0aW9uIHBvcENvdW50KHgpIHtcbiAgeCAtPSB4ID4+IDEgJiAweDU1NTU1NTU1O1xuICB4ID0gKHggJiAweDMzMzMzMzMzKSArICh4ID4+IDIgJiAweDMzMzMzMzMzKTtcbiAgeCA9IHggKyAoeCA+PiA0KSAmIDB4MGYwZjBmMGY7XG4gIHggKz0geCA+PiA4O1xuICB4ICs9IHggPj4gMTY7XG4gIHJldHVybiB4ICYgMHg3Zjtcbn1cblxuZnVuY3Rpb24gc2V0SW4oYXJyYXksIGlkeCwgdmFsLCBjYW5FZGl0KSB7XG4gIHZhciBuZXdBcnJheSA9IGNhbkVkaXQgPyBhcnJheSA6IGFyckNvcHkoYXJyYXkpO1xuICBuZXdBcnJheVtpZHhdID0gdmFsO1xuICByZXR1cm4gbmV3QXJyYXk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZUluKGFycmF5LCBpZHgsIHZhbCwgY2FuRWRpdCkge1xuICB2YXIgbmV3TGVuID0gYXJyYXkubGVuZ3RoICsgMTtcbiAgaWYgKGNhbkVkaXQgJiYgaWR4ICsgMSA9PT0gbmV3TGVuKSB7XG4gICAgYXJyYXlbaWR4XSA9IHZhbDtcbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cbiAgdmFyIG5ld0FycmF5ID0gbmV3IEFycmF5KG5ld0xlbik7XG4gIHZhciBhZnRlciA9IDA7XG4gIGZvciAodmFyIGlpID0gMDsgaWkgPCBuZXdMZW47IGlpKyspIHtcbiAgICBpZiAoaWkgPT09IGlkeCkge1xuICAgICAgbmV3QXJyYXlbaWldID0gdmFsO1xuICAgICAgYWZ0ZXIgPSAtMTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3QXJyYXlbaWldID0gYXJyYXlbaWkgKyBhZnRlcl07XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdBcnJheTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT3V0KGFycmF5LCBpZHgsIGNhbkVkaXQpIHtcbiAgdmFyIG5ld0xlbiA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gIGlmIChjYW5FZGl0ICYmIGlkeCA9PT0gbmV3TGVuKSB7XG4gICAgYXJyYXkucG9wKCk7XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG4gIHZhciBuZXdBcnJheSA9IG5ldyBBcnJheShuZXdMZW4pO1xuICB2YXIgYWZ0ZXIgPSAwO1xuICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbmV3TGVuOyBpaSsrKSB7XG4gICAgaWYgKGlpID09PSBpZHgpIHtcbiAgICAgIGFmdGVyID0gMTtcbiAgICB9XG4gICAgbmV3QXJyYXlbaWldID0gYXJyYXlbaWkgKyBhZnRlcl07XG4gIH1cbiAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG52YXIgTUFYX0FSUkFZX01BUF9TSVpFID0gU0laRSAvIDQ7XG52YXIgTUFYX0JJVE1BUF9JTkRFWEVEX1NJWkUgPSBTSVpFIC8gMjtcbnZhciBNSU5fSEFTSF9BUlJBWV9NQVBfU0laRSA9IFNJWkUgLyA0O1xuXG52YXIgTGlzdCA9IChmdW5jdGlvbiAoSW5kZXhlZENvbGxlY3Rpb24kJDEpIHtcbiAgZnVuY3Rpb24gTGlzdCh2YWx1ZSkge1xuICAgIHZhciBlbXB0eSA9IGVtcHR5TGlzdCgpO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZW1wdHk7XG4gICAgfVxuICAgIGlmIChpc0xpc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHZhciBpdGVyID0gSW5kZXhlZENvbGxlY3Rpb24kJDEodmFsdWUpO1xuICAgIHZhciBzaXplID0gaXRlci5zaXplO1xuICAgIGlmIChzaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gZW1wdHk7XG4gICAgfVxuICAgIGFzc2VydE5vdEluZmluaXRlKHNpemUpO1xuICAgIGlmIChzaXplID4gMCAmJiBzaXplIDwgU0laRSkge1xuICAgICAgcmV0dXJuIG1ha2VMaXN0KDAsIHNpemUsIFNISUZULCBudWxsLCBuZXcgVk5vZGUoaXRlci50b0FycmF5KCkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5LndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgIGxpc3Quc2V0U2l6ZShzaXplKTtcbiAgICAgIGl0ZXIuZm9yRWFjaChmdW5jdGlvbiAodiwgaSkgeyByZXR1cm4gbGlzdC5zZXQoaSwgdik7IH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKCBJbmRleGVkQ29sbGVjdGlvbiQkMSApIExpc3QuX19wcm90b19fID0gSW5kZXhlZENvbGxlY3Rpb24kJDE7XG4gIExpc3QucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW5kZXhlZENvbGxlY3Rpb24kJDEgJiYgSW5kZXhlZENvbGxlY3Rpb24kJDEucHJvdG90eXBlICk7XG4gIExpc3QucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGlzdDtcblxuICBMaXN0Lm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ0xpc3QgWycsICddJyk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICBMaXN0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICBpZiAoaW5kZXggPj0gMCAmJiBpbmRleCA8IHRoaXMuc2l6ZSkge1xuICAgICAgaW5kZXggKz0gdGhpcy5fb3JpZ2luO1xuICAgICAgdmFyIG5vZGUgPSBsaXN0Tm9kZUZvcih0aGlzLCBpbmRleCk7XG4gICAgICByZXR1cm4gbm9kZSAmJiBub2RlLmFycmF5W2luZGV4ICYgTUFTS107XG4gICAgfVxuICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE1vZGlmaWNhdGlvblxuXG4gIExpc3QucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIHNldCAoaW5kZXgsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHVwZGF0ZUxpc3QodGhpcywgaW5kZXgsIHZhbHVlKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGluZGV4KSB7XG4gICAgcmV0dXJuICF0aGlzLmhhcyhpbmRleClcbiAgICAgID8gdGhpc1xuICAgICAgOiBpbmRleCA9PT0gMFxuICAgICAgICAgID8gdGhpcy5zaGlmdCgpXG4gICAgICAgICAgOiBpbmRleCA9PT0gdGhpcy5zaXplIC0gMSA/IHRoaXMucG9wKCkgOiB0aGlzLnNwbGljZShpbmRleCwgMSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gaW5zZXJ0IChpbmRleCwgdmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5zcGxpY2UoaW5kZXgsIDAsIHZhbHVlKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSAodGhpcy5fb3JpZ2luID0gKHRoaXMuX2NhcGFjaXR5ID0gMCkpO1xuICAgICAgdGhpcy5fbGV2ZWwgPSBTSElGVDtcbiAgICAgIHRoaXMuX3Jvb3QgPSAodGhpcy5fdGFpbCA9IG51bGwpO1xuICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIGVtcHR5TGlzdCgpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoICgvKi4uLnZhbHVlcyovKSB7XG4gICAgdmFyIHZhbHVlcyA9IGFyZ3VtZW50cztcbiAgICB2YXIgb2xkU2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICByZXR1cm4gdGhpcy53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICBzZXRMaXN0Qm91bmRzKGxpc3QsIDAsIG9sZFNpemUgKyB2YWx1ZXMubGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCB2YWx1ZXMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgIGxpc3Quc2V0KG9sZFNpemUgKyBpaSwgdmFsdWVzW2lpXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUucG9wID0gZnVuY3Rpb24gcG9wICgpIHtcbiAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyh0aGlzLCAwLCAtMSk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uIHVuc2hpZnQgKC8qLi4udmFsdWVzKi8pIHtcbiAgICB2YXIgdmFsdWVzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgIHNldExpc3RCb3VuZHMobGlzdCwgLXZhbHVlcy5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IHZhbHVlcy5sZW5ndGg7IGlpKyspIHtcbiAgICAgICAgbGlzdC5zZXQoaWksIHZhbHVlc1tpaV0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnNoaWZ0ID0gZnVuY3Rpb24gc2hpZnQgKCkge1xuICAgIHJldHVybiBzZXRMaXN0Qm91bmRzKHRoaXMsIDEpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQ29tcG9zaXRpb25cblxuICBMaXN0LnByb3RvdHlwZS5tZXJnZSA9IGZ1bmN0aW9uIG1lcmdlICgvKi4uLml0ZXJzKi8pIHtcbiAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgdW5kZWZpbmVkLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLm1lcmdlV2l0aCA9IGZ1bmN0aW9uIG1lcmdlV2l0aCAobWVyZ2VyKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHdoaWxlICggbGVuLS0gPiAwICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgbWVyZ2VyLCBpdGVycyk7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUubWVyZ2VEZWVwID0gZnVuY3Rpb24gbWVyZ2VEZWVwICgvKi4uLml0ZXJzKi8pIHtcbiAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgZGVlcE1lcmdlciwgYXJndW1lbnRzKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gZnVuY3Rpb24gbWVyZ2VEZWVwV2l0aCAobWVyZ2VyKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHdoaWxlICggbGVuLS0gPiAwICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICByZXR1cm4gbWVyZ2VJbnRvTGlzdFdpdGgodGhpcywgZGVlcE1lcmdlcldpdGgobWVyZ2VyKSwgaXRlcnMpO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLnNldFNpemUgPSBmdW5jdGlvbiBzZXRTaXplIChzaXplKSB7XG4gICAgcmV0dXJuIHNldExpc3RCb3VuZHModGhpcywgMCwgc2l6ZSk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBJdGVyYXRpb25cblxuICBMaXN0LnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChiZWdpbiwgZW5kKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgc2l6ZSkpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gc2V0TGlzdEJvdW5kcyhcbiAgICAgIHRoaXMsXG4gICAgICByZXNvbHZlQmVnaW4oYmVnaW4sIHNpemUpLFxuICAgICAgcmVzb2x2ZUVuZChlbmQsIHNpemUpXG4gICAgKTtcbiAgfTtcblxuICBMaXN0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHZhciBpbmRleCA9IHJldmVyc2UgPyB0aGlzLnNpemUgOiAwO1xuICAgIHZhciB2YWx1ZXMgPSBpdGVyYXRlTGlzdCh0aGlzLCByZXZlcnNlKTtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHZhbHVlcygpO1xuICAgICAgcmV0dXJuIHZhbHVlID09PSBET05FXG4gICAgICAgID8gaXRlcmF0b3JEb25lKClcbiAgICAgICAgOiBpdGVyYXRvclZhbHVlKHR5cGUsIHJldmVyc2UgPyAtLWluZGV4IDogaW5kZXgrKywgdmFsdWUpO1xuICAgIH0pO1xuICB9O1xuXG4gIExpc3QucHJvdG90eXBlLl9faXRlcmF0ZSA9IGZ1bmN0aW9uIF9faXRlcmF0ZSAoZm4sIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpbmRleCA9IHJldmVyc2UgPyB0aGlzLnNpemUgOiAwO1xuICAgIHZhciB2YWx1ZXMgPSBpdGVyYXRlTGlzdCh0aGlzLCByZXZlcnNlKTtcbiAgICB2YXIgdmFsdWU7XG4gICAgd2hpbGUgKCh2YWx1ZSA9IHZhbHVlcygpKSAhPT0gRE9ORSkge1xuICAgICAgaWYgKGZuKHZhbHVlLCByZXZlcnNlID8gLS1pbmRleCA6IGluZGV4KyssIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW5kZXg7XG4gIH07XG5cbiAgTGlzdC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uIF9fZW5zdXJlT3duZXIgKG93bmVySUQpIHtcbiAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5TGlzdCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlTGlzdChcbiAgICAgIHRoaXMuX29yaWdpbixcbiAgICAgIHRoaXMuX2NhcGFjaXR5LFxuICAgICAgdGhpcy5fbGV2ZWwsXG4gICAgICB0aGlzLl9yb290LFxuICAgICAgdGhpcy5fdGFpbCxcbiAgICAgIG93bmVySUQsXG4gICAgICB0aGlzLl9faGFzaFxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIExpc3Q7XG59KEluZGV4ZWRDb2xsZWN0aW9uKSk7XG5cbmZ1bmN0aW9uIGlzTGlzdChtYXliZUxpc3QpIHtcbiAgcmV0dXJuICEhKG1heWJlTGlzdCAmJiBtYXliZUxpc3RbSVNfTElTVF9TRU5USU5FTF0pO1xufVxuXG5MaXN0LmlzTGlzdCA9IGlzTGlzdDtcblxudmFyIElTX0xJU1RfU0VOVElORUwgPSAnQEBfX0lNTVVUQUJMRV9MSVNUX19AQCc7XG5cbnZhciBMaXN0UHJvdG90eXBlID0gTGlzdC5wcm90b3R5cGU7XG5MaXN0UHJvdG90eXBlW0lTX0xJU1RfU0VOVElORUxdID0gdHJ1ZTtcbkxpc3RQcm90b3R5cGVbREVMRVRFXSA9IExpc3RQcm90b3R5cGUucmVtb3ZlO1xuTGlzdFByb3RvdHlwZS5zZXRJbiA9IE1hcFByb3RvdHlwZS5zZXRJbjtcbkxpc3RQcm90b3R5cGUuZGVsZXRlSW4gPSAoTGlzdFByb3RvdHlwZS5yZW1vdmVJbiA9IE1hcFByb3RvdHlwZS5yZW1vdmVJbik7XG5MaXN0UHJvdG90eXBlLnVwZGF0ZSA9IE1hcFByb3RvdHlwZS51cGRhdGU7XG5MaXN0UHJvdG90eXBlLnVwZGF0ZUluID0gTWFwUHJvdG90eXBlLnVwZGF0ZUluO1xuTGlzdFByb3RvdHlwZS5tZXJnZUluID0gTWFwUHJvdG90eXBlLm1lcmdlSW47XG5MaXN0UHJvdG90eXBlLm1lcmdlRGVlcEluID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcEluO1xuTGlzdFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG5MaXN0UHJvdG90eXBlLmFzTXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc011dGFibGU7XG5MaXN0UHJvdG90eXBlLmFzSW1tdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzSW1tdXRhYmxlO1xuTGlzdFByb3RvdHlwZS53YXNBbHRlcmVkID0gTWFwUHJvdG90eXBlLndhc0FsdGVyZWQ7XG5cbnZhciBWTm9kZSA9IGZ1bmN0aW9uIFZOb2RlKGFycmF5LCBvd25lcklEKSB7XG4gIHRoaXMuYXJyYXkgPSBhcnJheTtcbiAgdGhpcy5vd25lcklEID0gb3duZXJJRDtcbn07XG5cbi8vIFRPRE86IHNlZW1zIGxpa2UgdGhlc2UgbWV0aG9kcyBhcmUgdmVyeSBzaW1pbGFyXG5cblZOb2RlLnByb3RvdHlwZS5yZW1vdmVCZWZvcmUgPSBmdW5jdGlvbiByZW1vdmVCZWZvcmUgKG93bmVySUQsIGxldmVsLCBpbmRleCkge1xuICBpZiAoaW5kZXggPT09IGxldmVsID8gMSA8PCBsZXZlbCA6IDAgfHwgdGhpcy5hcnJheS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgb3JpZ2luSW5kZXggPSBpbmRleCA+Pj4gbGV2ZWwgJiBNQVNLO1xuICBpZiAob3JpZ2luSW5kZXggPj0gdGhpcy5hcnJheS5sZW5ndGgpIHtcbiAgICByZXR1cm4gbmV3IFZOb2RlKFtdLCBvd25lcklEKTtcbiAgfVxuICB2YXIgcmVtb3ZpbmdGaXJzdCA9IG9yaWdpbkluZGV4ID09PSAwO1xuICB2YXIgbmV3Q2hpbGQ7XG4gIGlmIChsZXZlbCA+IDApIHtcbiAgICB2YXIgb2xkQ2hpbGQgPSB0aGlzLmFycmF5W29yaWdpbkluZGV4XTtcbiAgICBuZXdDaGlsZCA9IG9sZENoaWxkICYmXG4gICAgICBvbGRDaGlsZC5yZW1vdmVCZWZvcmUob3duZXJJRCwgbGV2ZWwgLSBTSElGVCwgaW5kZXgpO1xuICAgIGlmIChuZXdDaGlsZCA9PT0gb2xkQ2hpbGQgJiYgcmVtb3ZpbmdGaXJzdCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG4gIGlmIChyZW1vdmluZ0ZpcnN0ICYmICFuZXdDaGlsZCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHZhciBlZGl0YWJsZSA9IGVkaXRhYmxlVk5vZGUodGhpcywgb3duZXJJRCk7XG4gIGlmICghcmVtb3ZpbmdGaXJzdCkge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBvcmlnaW5JbmRleDsgaWkrKykge1xuICAgICAgZWRpdGFibGUuYXJyYXlbaWldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICBpZiAobmV3Q2hpbGQpIHtcbiAgICBlZGl0YWJsZS5hcnJheVtvcmlnaW5JbmRleF0gPSBuZXdDaGlsZDtcbiAgfVxuICByZXR1cm4gZWRpdGFibGU7XG59O1xuXG5WTm9kZS5wcm90b3R5cGUucmVtb3ZlQWZ0ZXIgPSBmdW5jdGlvbiByZW1vdmVBZnRlciAob3duZXJJRCwgbGV2ZWwsIGluZGV4KSB7XG4gIGlmIChpbmRleCA9PT0gKGxldmVsID8gMSA8PCBsZXZlbCA6IDApIHx8IHRoaXMuYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgdmFyIHNpemVJbmRleCA9IGluZGV4IC0gMSA+Pj4gbGV2ZWwgJiBNQVNLO1xuICBpZiAoc2l6ZUluZGV4ID49IHRoaXMuYXJyYXkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbmV3Q2hpbGQ7XG4gIGlmIChsZXZlbCA+IDApIHtcbiAgICB2YXIgb2xkQ2hpbGQgPSB0aGlzLmFycmF5W3NpemVJbmRleF07XG4gICAgbmV3Q2hpbGQgPSBvbGRDaGlsZCAmJlxuICAgICAgb2xkQ2hpbGQucmVtb3ZlQWZ0ZXIob3duZXJJRCwgbGV2ZWwgLSBTSElGVCwgaW5kZXgpO1xuICAgIGlmIChuZXdDaGlsZCA9PT0gb2xkQ2hpbGQgJiYgc2l6ZUluZGV4ID09PSB0aGlzLmFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIHZhciBlZGl0YWJsZSA9IGVkaXRhYmxlVk5vZGUodGhpcywgb3duZXJJRCk7XG4gIGVkaXRhYmxlLmFycmF5LnNwbGljZShzaXplSW5kZXggKyAxKTtcbiAgaWYgKG5ld0NoaWxkKSB7XG4gICAgZWRpdGFibGUuYXJyYXlbc2l6ZUluZGV4XSA9IG5ld0NoaWxkO1xuICB9XG4gIHJldHVybiBlZGl0YWJsZTtcbn07XG5cbnZhciBET05FID0ge307XG5cbmZ1bmN0aW9uIGl0ZXJhdGVMaXN0KGxpc3QsIHJldmVyc2UpIHtcbiAgdmFyIGxlZnQgPSBsaXN0Ll9vcmlnaW47XG4gIHZhciByaWdodCA9IGxpc3QuX2NhcGFjaXR5O1xuICB2YXIgdGFpbFBvcyA9IGdldFRhaWxPZmZzZXQocmlnaHQpO1xuICB2YXIgdGFpbCA9IGxpc3QuX3RhaWw7XG5cbiAgcmV0dXJuIGl0ZXJhdGVOb2RlT3JMZWFmKGxpc3QuX3Jvb3QsIGxpc3QuX2xldmVsLCAwKTtcblxuICBmdW5jdGlvbiBpdGVyYXRlTm9kZU9yTGVhZihub2RlLCBsZXZlbCwgb2Zmc2V0KSB7XG4gICAgcmV0dXJuIGxldmVsID09PSAwXG4gICAgICA/IGl0ZXJhdGVMZWFmKG5vZGUsIG9mZnNldClcbiAgICAgIDogaXRlcmF0ZU5vZGUobm9kZSwgbGV2ZWwsIG9mZnNldCk7XG4gIH1cblxuICBmdW5jdGlvbiBpdGVyYXRlTGVhZihub2RlLCBvZmZzZXQpIHtcbiAgICB2YXIgYXJyYXkgPSBvZmZzZXQgPT09IHRhaWxQb3MgPyB0YWlsICYmIHRhaWwuYXJyYXkgOiBub2RlICYmIG5vZGUuYXJyYXk7XG4gICAgdmFyIGZyb20gPSBvZmZzZXQgPiBsZWZ0ID8gMCA6IGxlZnQgLSBvZmZzZXQ7XG4gICAgdmFyIHRvID0gcmlnaHQgLSBvZmZzZXQ7XG4gICAgaWYgKHRvID4gU0laRSkge1xuICAgICAgdG8gPSBTSVpFO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgIHJldHVybiBET05FO1xuICAgICAgfVxuICAgICAgdmFyIGlkeCA9IHJldmVyc2UgPyAtLXRvIDogZnJvbSsrO1xuICAgICAgcmV0dXJuIGFycmF5ICYmIGFycmF5W2lkeF07XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGl0ZXJhdGVOb2RlKG5vZGUsIGxldmVsLCBvZmZzZXQpIHtcbiAgICB2YXIgdmFsdWVzO1xuICAgIHZhciBhcnJheSA9IG5vZGUgJiYgbm9kZS5hcnJheTtcbiAgICB2YXIgZnJvbSA9IG9mZnNldCA+IGxlZnQgPyAwIDogbGVmdCAtIG9mZnNldCA+PiBsZXZlbDtcbiAgICB2YXIgdG8gPSAocmlnaHQgLSBvZmZzZXQgPj4gbGV2ZWwpICsgMTtcbiAgICBpZiAodG8gPiBTSVpFKSB7XG4gICAgICB0byA9IFNJWkU7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzKCk7XG4gICAgICAgICAgaWYgKHZhbHVlICE9PSBET05FKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlcyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgcmV0dXJuIERPTkU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlkeCA9IHJldmVyc2UgPyAtLXRvIDogZnJvbSsrO1xuICAgICAgICB2YWx1ZXMgPSBpdGVyYXRlTm9kZU9yTGVhZihcbiAgICAgICAgICBhcnJheSAmJiBhcnJheVtpZHhdLFxuICAgICAgICAgIGxldmVsIC0gU0hJRlQsXG4gICAgICAgICAgb2Zmc2V0ICsgKGlkeCA8PCBsZXZlbClcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VMaXN0KG9yaWdpbiwgY2FwYWNpdHksIGxldmVsLCByb290LCB0YWlsLCBvd25lcklELCBoYXNoKSB7XG4gIHZhciBsaXN0ID0gT2JqZWN0LmNyZWF0ZShMaXN0UHJvdG90eXBlKTtcbiAgbGlzdC5zaXplID0gY2FwYWNpdHkgLSBvcmlnaW47XG4gIGxpc3QuX29yaWdpbiA9IG9yaWdpbjtcbiAgbGlzdC5fY2FwYWNpdHkgPSBjYXBhY2l0eTtcbiAgbGlzdC5fbGV2ZWwgPSBsZXZlbDtcbiAgbGlzdC5fcm9vdCA9IHJvb3Q7XG4gIGxpc3QuX3RhaWwgPSB0YWlsO1xuICBsaXN0Ll9fb3duZXJJRCA9IG93bmVySUQ7XG4gIGxpc3QuX19oYXNoID0gaGFzaDtcbiAgbGlzdC5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGxpc3Q7XG59XG5cbnZhciBFTVBUWV9MSVNUO1xuZnVuY3Rpb24gZW1wdHlMaXN0KCkge1xuICByZXR1cm4gRU1QVFlfTElTVCB8fCAoRU1QVFlfTElTVCA9IG1ha2VMaXN0KDAsIDAsIFNISUZUKSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpc3QobGlzdCwgaW5kZXgsIHZhbHVlKSB7XG4gIGluZGV4ID0gd3JhcEluZGV4KGxpc3QsIGluZGV4KTtcblxuICBpZiAoaW5kZXggIT09IGluZGV4KSB7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICBpZiAoaW5kZXggPj0gbGlzdC5zaXplIHx8IGluZGV4IDwgMCkge1xuICAgIHJldHVybiBsaXN0LndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgIGluZGV4IDwgMFxuICAgICAgICA/IHNldExpc3RCb3VuZHMobGlzdCwgaW5kZXgpLnNldCgwLCB2YWx1ZSlcbiAgICAgICAgOiBzZXRMaXN0Qm91bmRzKGxpc3QsIDAsIGluZGV4ICsgMSkuc2V0KGluZGV4LCB2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBpbmRleCArPSBsaXN0Ll9vcmlnaW47XG5cbiAgdmFyIG5ld1RhaWwgPSBsaXN0Ll90YWlsO1xuICB2YXIgbmV3Um9vdCA9IGxpc3QuX3Jvb3Q7XG4gIHZhciBkaWRBbHRlciA9IE1ha2VSZWYoRElEX0FMVEVSKTtcbiAgaWYgKGluZGV4ID49IGdldFRhaWxPZmZzZXQobGlzdC5fY2FwYWNpdHkpKSB7XG4gICAgbmV3VGFpbCA9IHVwZGF0ZVZOb2RlKG5ld1RhaWwsIGxpc3QuX19vd25lcklELCAwLCBpbmRleCwgdmFsdWUsIGRpZEFsdGVyKTtcbiAgfSBlbHNlIHtcbiAgICBuZXdSb290ID0gdXBkYXRlVk5vZGUoXG4gICAgICBuZXdSb290LFxuICAgICAgbGlzdC5fX293bmVySUQsXG4gICAgICBsaXN0Ll9sZXZlbCxcbiAgICAgIGluZGV4LFxuICAgICAgdmFsdWUsXG4gICAgICBkaWRBbHRlclxuICAgICk7XG4gIH1cblxuICBpZiAoIWRpZEFsdGVyLnZhbHVlKSB7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cblxuICBpZiAobGlzdC5fX293bmVySUQpIHtcbiAgICBsaXN0Ll9yb290ID0gbmV3Um9vdDtcbiAgICBsaXN0Ll90YWlsID0gbmV3VGFpbDtcbiAgICBsaXN0Ll9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICBsaXN0Ll9fYWx0ZXJlZCA9IHRydWU7XG4gICAgcmV0dXJuIGxpc3Q7XG4gIH1cbiAgcmV0dXJuIG1ha2VMaXN0KGxpc3QuX29yaWdpbiwgbGlzdC5fY2FwYWNpdHksIGxpc3QuX2xldmVsLCBuZXdSb290LCBuZXdUYWlsKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlVk5vZGUobm9kZSwgb3duZXJJRCwgbGV2ZWwsIGluZGV4LCB2YWx1ZSwgZGlkQWx0ZXIpIHtcbiAgdmFyIGlkeCA9IGluZGV4ID4+PiBsZXZlbCAmIE1BU0s7XG4gIHZhciBub2RlSGFzID0gbm9kZSAmJiBpZHggPCBub2RlLmFycmF5Lmxlbmd0aDtcbiAgaWYgKCFub2RlSGFzICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIHZhciBuZXdOb2RlO1xuXG4gIGlmIChsZXZlbCA+IDApIHtcbiAgICB2YXIgbG93ZXJOb2RlID0gbm9kZSAmJiBub2RlLmFycmF5W2lkeF07XG4gICAgdmFyIG5ld0xvd2VyTm9kZSA9IHVwZGF0ZVZOb2RlKFxuICAgICAgbG93ZXJOb2RlLFxuICAgICAgb3duZXJJRCxcbiAgICAgIGxldmVsIC0gU0hJRlQsXG4gICAgICBpbmRleCxcbiAgICAgIHZhbHVlLFxuICAgICAgZGlkQWx0ZXJcbiAgICApO1xuICAgIGlmIChuZXdMb3dlck5vZGUgPT09IGxvd2VyTm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuICAgIG5ld05vZGUgPSBlZGl0YWJsZVZOb2RlKG5vZGUsIG93bmVySUQpO1xuICAgIG5ld05vZGUuYXJyYXlbaWR4XSA9IG5ld0xvd2VyTm9kZTtcbiAgICByZXR1cm4gbmV3Tm9kZTtcbiAgfVxuXG4gIGlmIChub2RlSGFzICYmIG5vZGUuYXJyYXlbaWR4XSA9PT0gdmFsdWUpIHtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIFNldFJlZihkaWRBbHRlcik7XG5cbiAgbmV3Tm9kZSA9IGVkaXRhYmxlVk5vZGUobm9kZSwgb3duZXJJRCk7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmIGlkeCA9PT0gbmV3Tm9kZS5hcnJheS5sZW5ndGggLSAxKSB7XG4gICAgbmV3Tm9kZS5hcnJheS5wb3AoKTtcbiAgfSBlbHNlIHtcbiAgICBuZXdOb2RlLmFycmF5W2lkeF0gPSB2YWx1ZTtcbiAgfVxuICByZXR1cm4gbmV3Tm9kZTtcbn1cblxuZnVuY3Rpb24gZWRpdGFibGVWTm9kZShub2RlLCBvd25lcklEKSB7XG4gIGlmIChvd25lcklEICYmIG5vZGUgJiYgb3duZXJJRCA9PT0gbm9kZS5vd25lcklEKSB7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgcmV0dXJuIG5ldyBWTm9kZShub2RlID8gbm9kZS5hcnJheS5zbGljZSgpIDogW10sIG93bmVySUQpO1xufVxuXG5mdW5jdGlvbiBsaXN0Tm9kZUZvcihsaXN0LCByYXdJbmRleCkge1xuICBpZiAocmF3SW5kZXggPj0gZ2V0VGFpbE9mZnNldChsaXN0Ll9jYXBhY2l0eSkpIHtcbiAgICByZXR1cm4gbGlzdC5fdGFpbDtcbiAgfVxuICBpZiAocmF3SW5kZXggPCAxIDw8IGxpc3QuX2xldmVsICsgU0hJRlQpIHtcbiAgICB2YXIgbm9kZSA9IGxpc3QuX3Jvb3Q7XG4gICAgdmFyIGxldmVsID0gbGlzdC5fbGV2ZWw7XG4gICAgd2hpbGUgKG5vZGUgJiYgbGV2ZWwgPiAwKSB7XG4gICAgICBub2RlID0gbm9kZS5hcnJheVtyYXdJbmRleCA+Pj4gbGV2ZWwgJiBNQVNLXTtcbiAgICAgIGxldmVsIC09IFNISUZUO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRMaXN0Qm91bmRzKGxpc3QsIGJlZ2luLCBlbmQpIHtcbiAgLy8gU2FuaXRpemUgYmVnaW4gJiBlbmQgdXNpbmcgdGhpcyBzaG9ydGhhbmQgZm9yIFRvSW50MzIoYXJndW1lbnQpXG4gIC8vIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi82LjAvI3NlYy10b2ludDMyXG4gIGlmIChiZWdpbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgYmVnaW4gfD0gMDtcbiAgfVxuICBpZiAoZW5kICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbmQgfD0gMDtcbiAgfVxuICB2YXIgb3duZXIgPSBsaXN0Ll9fb3duZXJJRCB8fCBuZXcgT3duZXJJRCgpO1xuICB2YXIgb2xkT3JpZ2luID0gbGlzdC5fb3JpZ2luO1xuICB2YXIgb2xkQ2FwYWNpdHkgPSBsaXN0Ll9jYXBhY2l0eTtcbiAgdmFyIG5ld09yaWdpbiA9IG9sZE9yaWdpbiArIGJlZ2luO1xuICB2YXIgbmV3Q2FwYWNpdHkgPSBlbmQgPT09IHVuZGVmaW5lZFxuICAgID8gb2xkQ2FwYWNpdHlcbiAgICA6IGVuZCA8IDAgPyBvbGRDYXBhY2l0eSArIGVuZCA6IG9sZE9yaWdpbiArIGVuZDtcbiAgaWYgKG5ld09yaWdpbiA9PT0gb2xkT3JpZ2luICYmIG5ld0NhcGFjaXR5ID09PSBvbGRDYXBhY2l0eSkge1xuICAgIHJldHVybiBsaXN0O1xuICB9XG5cbiAgLy8gSWYgaXQncyBnb2luZyB0byBlbmQgYWZ0ZXIgaXQgc3RhcnRzLCBpdCdzIGVtcHR5LlxuICBpZiAobmV3T3JpZ2luID49IG5ld0NhcGFjaXR5KSB7XG4gICAgcmV0dXJuIGxpc3QuY2xlYXIoKTtcbiAgfVxuXG4gIHZhciBuZXdMZXZlbCA9IGxpc3QuX2xldmVsO1xuICB2YXIgbmV3Um9vdCA9IGxpc3QuX3Jvb3Q7XG5cbiAgLy8gTmV3IG9yaWdpbiBtaWdodCBuZWVkIGNyZWF0aW5nIGEgaGlnaGVyIHJvb3QuXG4gIHZhciBvZmZzZXRTaGlmdCA9IDA7XG4gIHdoaWxlIChuZXdPcmlnaW4gKyBvZmZzZXRTaGlmdCA8IDApIHtcbiAgICBuZXdSb290ID0gbmV3IFZOb2RlKFxuICAgICAgbmV3Um9vdCAmJiBuZXdSb290LmFycmF5Lmxlbmd0aCA/IFt1bmRlZmluZWQsIG5ld1Jvb3RdIDogW10sXG4gICAgICBvd25lclxuICAgICk7XG4gICAgbmV3TGV2ZWwgKz0gU0hJRlQ7XG4gICAgb2Zmc2V0U2hpZnQgKz0gMSA8PCBuZXdMZXZlbDtcbiAgfVxuICBpZiAob2Zmc2V0U2hpZnQpIHtcbiAgICBuZXdPcmlnaW4gKz0gb2Zmc2V0U2hpZnQ7XG4gICAgb2xkT3JpZ2luICs9IG9mZnNldFNoaWZ0O1xuICAgIG5ld0NhcGFjaXR5ICs9IG9mZnNldFNoaWZ0O1xuICAgIG9sZENhcGFjaXR5ICs9IG9mZnNldFNoaWZ0O1xuICB9XG5cbiAgdmFyIG9sZFRhaWxPZmZzZXQgPSBnZXRUYWlsT2Zmc2V0KG9sZENhcGFjaXR5KTtcbiAgdmFyIG5ld1RhaWxPZmZzZXQgPSBnZXRUYWlsT2Zmc2V0KG5ld0NhcGFjaXR5KTtcblxuICAvLyBOZXcgc2l6ZSBtaWdodCBuZWVkIGNyZWF0aW5nIGEgaGlnaGVyIHJvb3QuXG4gIHdoaWxlIChuZXdUYWlsT2Zmc2V0ID49IDEgPDwgbmV3TGV2ZWwgKyBTSElGVCkge1xuICAgIG5ld1Jvb3QgPSBuZXcgVk5vZGUoXG4gICAgICBuZXdSb290ICYmIG5ld1Jvb3QuYXJyYXkubGVuZ3RoID8gW25ld1Jvb3RdIDogW10sXG4gICAgICBvd25lclxuICAgICk7XG4gICAgbmV3TGV2ZWwgKz0gU0hJRlQ7XG4gIH1cblxuICAvLyBMb2NhdGUgb3IgY3JlYXRlIHRoZSBuZXcgdGFpbC5cbiAgdmFyIG9sZFRhaWwgPSBsaXN0Ll90YWlsO1xuICB2YXIgbmV3VGFpbCA9IG5ld1RhaWxPZmZzZXQgPCBvbGRUYWlsT2Zmc2V0XG4gICAgPyBsaXN0Tm9kZUZvcihsaXN0LCBuZXdDYXBhY2l0eSAtIDEpXG4gICAgOiBuZXdUYWlsT2Zmc2V0ID4gb2xkVGFpbE9mZnNldCA/IG5ldyBWTm9kZShbXSwgb3duZXIpIDogb2xkVGFpbDtcblxuICAvLyBNZXJnZSBUYWlsIGludG8gdHJlZS5cbiAgaWYgKFxuICAgIG9sZFRhaWwgJiZcbiAgICBuZXdUYWlsT2Zmc2V0ID4gb2xkVGFpbE9mZnNldCAmJlxuICAgIG5ld09yaWdpbiA8IG9sZENhcGFjaXR5ICYmXG4gICAgb2xkVGFpbC5hcnJheS5sZW5ndGhcbiAgKSB7XG4gICAgbmV3Um9vdCA9IGVkaXRhYmxlVk5vZGUobmV3Um9vdCwgb3duZXIpO1xuICAgIHZhciBub2RlID0gbmV3Um9vdDtcbiAgICBmb3IgKHZhciBsZXZlbCA9IG5ld0xldmVsOyBsZXZlbCA+IFNISUZUOyBsZXZlbCAtPSBTSElGVCkge1xuICAgICAgdmFyIGlkeCA9IG9sZFRhaWxPZmZzZXQgPj4+IGxldmVsICYgTUFTSztcbiAgICAgIG5vZGUgPSAobm9kZS5hcnJheVtpZHhdID0gZWRpdGFibGVWTm9kZShub2RlLmFycmF5W2lkeF0sIG93bmVyKSk7XG4gICAgfVxuICAgIG5vZGUuYXJyYXlbb2xkVGFpbE9mZnNldCA+Pj4gU0hJRlQgJiBNQVNLXSA9IG9sZFRhaWw7XG4gIH1cblxuICAvLyBJZiB0aGUgc2l6ZSBoYXMgYmVlbiByZWR1Y2VkLCB0aGVyZSdzIGEgY2hhbmNlIHRoZSB0YWlsIG5lZWRzIHRvIGJlIHRyaW1tZWQuXG4gIGlmIChuZXdDYXBhY2l0eSA8IG9sZENhcGFjaXR5KSB7XG4gICAgbmV3VGFpbCA9IG5ld1RhaWwgJiYgbmV3VGFpbC5yZW1vdmVBZnRlcihvd25lciwgMCwgbmV3Q2FwYWNpdHkpO1xuICB9XG5cbiAgLy8gSWYgdGhlIG5ldyBvcmlnaW4gaXMgd2l0aGluIHRoZSB0YWlsLCB0aGVuIHdlIGRvIG5vdCBuZWVkIGEgcm9vdC5cbiAgaWYgKG5ld09yaWdpbiA+PSBuZXdUYWlsT2Zmc2V0KSB7XG4gICAgbmV3T3JpZ2luIC09IG5ld1RhaWxPZmZzZXQ7XG4gICAgbmV3Q2FwYWNpdHkgLT0gbmV3VGFpbE9mZnNldDtcbiAgICBuZXdMZXZlbCA9IFNISUZUO1xuICAgIG5ld1Jvb3QgPSBudWxsO1xuICAgIG5ld1RhaWwgPSBuZXdUYWlsICYmIG5ld1RhaWwucmVtb3ZlQmVmb3JlKG93bmVyLCAwLCBuZXdPcmlnaW4pO1xuXG4gICAgLy8gT3RoZXJ3aXNlLCBpZiB0aGUgcm9vdCBoYXMgYmVlbiB0cmltbWVkLCBnYXJiYWdlIGNvbGxlY3QuXG4gIH0gZWxzZSBpZiAobmV3T3JpZ2luID4gb2xkT3JpZ2luIHx8IG5ld1RhaWxPZmZzZXQgPCBvbGRUYWlsT2Zmc2V0KSB7XG4gICAgb2Zmc2V0U2hpZnQgPSAwO1xuXG4gICAgLy8gSWRlbnRpZnkgdGhlIG5ldyB0b3Agcm9vdCBub2RlIG9mIHRoZSBzdWJ0cmVlIG9mIHRoZSBvbGQgcm9vdC5cbiAgICB3aGlsZSAobmV3Um9vdCkge1xuICAgICAgdmFyIGJlZ2luSW5kZXggPSBuZXdPcmlnaW4gPj4+IG5ld0xldmVsICYgTUFTSztcbiAgICAgIGlmIChiZWdpbkluZGV4ICE9PSBuZXdUYWlsT2Zmc2V0ID4+PiBuZXdMZXZlbCAmIE1BU0spIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoYmVnaW5JbmRleCkge1xuICAgICAgICBvZmZzZXRTaGlmdCArPSAoMSA8PCBuZXdMZXZlbCkgKiBiZWdpbkluZGV4O1xuICAgICAgfVxuICAgICAgbmV3TGV2ZWwgLT0gU0hJRlQ7XG4gICAgICBuZXdSb290ID0gbmV3Um9vdC5hcnJheVtiZWdpbkluZGV4XTtcbiAgICB9XG5cbiAgICAvLyBUcmltIHRoZSBuZXcgc2lkZXMgb2YgdGhlIG5ldyByb290LlxuICAgIGlmIChuZXdSb290ICYmIG5ld09yaWdpbiA+IG9sZE9yaWdpbikge1xuICAgICAgbmV3Um9vdCA9IG5ld1Jvb3QucmVtb3ZlQmVmb3JlKG93bmVyLCBuZXdMZXZlbCwgbmV3T3JpZ2luIC0gb2Zmc2V0U2hpZnQpO1xuICAgIH1cbiAgICBpZiAobmV3Um9vdCAmJiBuZXdUYWlsT2Zmc2V0IDwgb2xkVGFpbE9mZnNldCkge1xuICAgICAgbmV3Um9vdCA9IG5ld1Jvb3QucmVtb3ZlQWZ0ZXIoXG4gICAgICAgIG93bmVyLFxuICAgICAgICBuZXdMZXZlbCxcbiAgICAgICAgbmV3VGFpbE9mZnNldCAtIG9mZnNldFNoaWZ0XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAob2Zmc2V0U2hpZnQpIHtcbiAgICAgIG5ld09yaWdpbiAtPSBvZmZzZXRTaGlmdDtcbiAgICAgIG5ld0NhcGFjaXR5IC09IG9mZnNldFNoaWZ0O1xuICAgIH1cbiAgfVxuXG4gIGlmIChsaXN0Ll9fb3duZXJJRCkge1xuICAgIGxpc3Quc2l6ZSA9IG5ld0NhcGFjaXR5IC0gbmV3T3JpZ2luO1xuICAgIGxpc3QuX29yaWdpbiA9IG5ld09yaWdpbjtcbiAgICBsaXN0Ll9jYXBhY2l0eSA9IG5ld0NhcGFjaXR5O1xuICAgIGxpc3QuX2xldmVsID0gbmV3TGV2ZWw7XG4gICAgbGlzdC5fcm9vdCA9IG5ld1Jvb3Q7XG4gICAgbGlzdC5fdGFpbCA9IG5ld1RhaWw7XG4gICAgbGlzdC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgbGlzdC5fX2FsdGVyZWQgPSB0cnVlO1xuICAgIHJldHVybiBsaXN0O1xuICB9XG4gIHJldHVybiBtYWtlTGlzdChuZXdPcmlnaW4sIG5ld0NhcGFjaXR5LCBuZXdMZXZlbCwgbmV3Um9vdCwgbmV3VGFpbCk7XG59XG5cbmZ1bmN0aW9uIG1lcmdlSW50b0xpc3RXaXRoKGxpc3QsIG1lcmdlciwgY29sbGVjdGlvbnMpIHtcbiAgdmFyIGl0ZXJzID0gW107XG4gIHZhciBtYXhTaXplID0gMDtcbiAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGNvbGxlY3Rpb25zLmxlbmd0aDsgaWkrKykge1xuICAgIHZhciB2YWx1ZSA9IGNvbGxlY3Rpb25zW2lpXTtcbiAgICB2YXIgaXRlciA9IEluZGV4ZWRDb2xsZWN0aW9uKHZhbHVlKTtcbiAgICBpZiAoaXRlci5zaXplID4gbWF4U2l6ZSkge1xuICAgICAgbWF4U2l6ZSA9IGl0ZXIuc2l6ZTtcbiAgICB9XG4gICAgaWYgKCFpc0NvbGxlY3Rpb24odmFsdWUpKSB7XG4gICAgICBpdGVyID0gaXRlci5tYXAoZnVuY3Rpb24gKHYpIHsgcmV0dXJuIGZyb21KUyh2KTsgfSk7XG4gICAgfVxuICAgIGl0ZXJzLnB1c2goaXRlcik7XG4gIH1cbiAgaWYgKG1heFNpemUgPiBsaXN0LnNpemUpIHtcbiAgICBsaXN0ID0gbGlzdC5zZXRTaXplKG1heFNpemUpO1xuICB9XG4gIHJldHVybiBtZXJnZUludG9Db2xsZWN0aW9uV2l0aChsaXN0LCBtZXJnZXIsIGl0ZXJzKTtcbn1cblxuZnVuY3Rpb24gZ2V0VGFpbE9mZnNldChzaXplKSB7XG4gIHJldHVybiBzaXplIDwgU0laRSA/IDAgOiBzaXplIC0gMSA+Pj4gU0hJRlQgPDwgU0hJRlQ7XG59XG5cbnZhciBPcmRlcmVkTWFwID0gKGZ1bmN0aW9uIChNYXAkJDEpIHtcbiAgZnVuY3Rpb24gT3JkZXJlZE1hcCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5T3JkZXJlZE1hcCgpXG4gICAgICA6IGlzT3JkZXJlZE1hcCh2YWx1ZSlcbiAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgOiBlbXB0eU9yZGVyZWRNYXAoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChtYXApIHtcbiAgICAgICAgICAgICAgdmFyIGl0ZXIgPSBLZXllZENvbGxlY3Rpb24odmFsdWUpO1xuICAgICAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIG1hcC5zZXQoaywgdik7IH0pO1xuICAgICAgICAgICAgfSk7XG4gIH1cblxuICBpZiAoIE1hcCQkMSApIE9yZGVyZWRNYXAuX19wcm90b19fID0gTWFwJCQxO1xuICBPcmRlcmVkTWFwLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIE1hcCQkMSAmJiBNYXAkJDEucHJvdG90eXBlICk7XG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gT3JkZXJlZE1hcDtcblxuICBPcmRlcmVkTWFwLm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICB9O1xuXG4gIE9yZGVyZWRNYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIHJldHVybiB0aGlzLl9fdG9TdHJpbmcoJ09yZGVyZWRNYXAgeycsICd9Jyk7XG4gIH07XG5cbiAgLy8gQHByYWdtYSBBY2Nlc3NcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGssIG5vdFNldFZhbHVlKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5fbWFwLmdldChrKTtcbiAgICByZXR1cm4gaW5kZXggIT09IHVuZGVmaW5lZCA/IHRoaXMuX2xpc3QuZ2V0KGluZGV4KVsxXSA6IG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX21hcC5jbGVhcigpO1xuICAgICAgdGhpcy5fbGlzdC5jbGVhcigpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eU9yZGVyZWRNYXAoKTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiBzZXQgKGssIHYpIHtcbiAgICByZXR1cm4gdXBkYXRlT3JkZXJlZE1hcCh0aGlzLCBrLCB2KTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKGspIHtcbiAgICByZXR1cm4gdXBkYXRlT3JkZXJlZE1hcCh0aGlzLCBrLCBOT1RfU0VUKTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24gd2FzQWx0ZXJlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCkgfHwgdGhpcy5fbGlzdC53YXNBbHRlcmVkKCk7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgcmV0dXJuIHRoaXMuX2xpc3QuX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeSAmJiBmbihlbnRyeVsxXSwgZW50cnlbMF0sIHRoaXMkMSk7IH0sXG4gICAgICByZXZlcnNlXG4gICAgKTtcbiAgfTtcblxuICBPcmRlcmVkTWFwLnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHJldHVybiB0aGlzLl9saXN0LmZyb21FbnRyeVNlcSgpLl9faXRlcmF0b3IodHlwZSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgT3JkZXJlZE1hcC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uIF9fZW5zdXJlT3duZXIgKG93bmVySUQpIHtcbiAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgdmFyIG5ld0xpc3QgPSB0aGlzLl9saXN0Ll9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgaWYgKCFvd25lcklEKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBlbXB0eU9yZGVyZWRNYXAoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuX21hcCA9IG5ld01hcDtcbiAgICAgIHRoaXMuX2xpc3QgPSBuZXdMaXN0O1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBtYWtlT3JkZXJlZE1hcChuZXdNYXAsIG5ld0xpc3QsIG93bmVySUQsIHRoaXMuX19oYXNoKTtcbiAgfTtcblxuICByZXR1cm4gT3JkZXJlZE1hcDtcbn0oTWFwKSk7XG5cbmZ1bmN0aW9uIGlzT3JkZXJlZE1hcChtYXliZU9yZGVyZWRNYXApIHtcbiAgcmV0dXJuIGlzTWFwKG1heWJlT3JkZXJlZE1hcCkgJiYgaXNPcmRlcmVkKG1heWJlT3JkZXJlZE1hcCk7XG59XG5cbk9yZGVyZWRNYXAuaXNPcmRlcmVkTWFwID0gaXNPcmRlcmVkTWFwO1xuXG5PcmRlcmVkTWFwLnByb3RvdHlwZVtJU19PUkRFUkVEX1NFTlRJTkVMXSA9IHRydWU7XG5PcmRlcmVkTWFwLnByb3RvdHlwZVtERUxFVEVdID0gT3JkZXJlZE1hcC5wcm90b3R5cGUucmVtb3ZlO1xuXG5mdW5jdGlvbiBtYWtlT3JkZXJlZE1hcChtYXAsIGxpc3QsIG93bmVySUQsIGhhc2gpIHtcbiAgdmFyIG9tYXAgPSBPYmplY3QuY3JlYXRlKE9yZGVyZWRNYXAucHJvdG90eXBlKTtcbiAgb21hcC5zaXplID0gbWFwID8gbWFwLnNpemUgOiAwO1xuICBvbWFwLl9tYXAgPSBtYXA7XG4gIG9tYXAuX2xpc3QgPSBsaXN0O1xuICBvbWFwLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gIG9tYXAuX19oYXNoID0gaGFzaDtcbiAgcmV0dXJuIG9tYXA7XG59XG5cbnZhciBFTVBUWV9PUkRFUkVEX01BUDtcbmZ1bmN0aW9uIGVtcHR5T3JkZXJlZE1hcCgpIHtcbiAgcmV0dXJuIEVNUFRZX09SREVSRURfTUFQIHx8XG4gICAgKEVNUFRZX09SREVSRURfTUFQID0gbWFrZU9yZGVyZWRNYXAoZW1wdHlNYXAoKSwgZW1wdHlMaXN0KCkpKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlT3JkZXJlZE1hcChvbWFwLCBrLCB2KSB7XG4gIHZhciBtYXAgPSBvbWFwLl9tYXA7XG4gIHZhciBsaXN0ID0gb21hcC5fbGlzdDtcbiAgdmFyIGkgPSBtYXAuZ2V0KGspO1xuICB2YXIgaGFzID0gaSAhPT0gdW5kZWZpbmVkO1xuICB2YXIgbmV3TWFwO1xuICB2YXIgbmV3TGlzdDtcbiAgaWYgKHYgPT09IE5PVF9TRVQpIHtcbiAgICAvLyByZW1vdmVkXG4gICAgaWYgKCFoYXMpIHtcbiAgICAgIHJldHVybiBvbWFwO1xuICAgIH1cbiAgICBpZiAobGlzdC5zaXplID49IFNJWkUgJiYgbGlzdC5zaXplID49IG1hcC5zaXplICogMikge1xuICAgICAgbmV3TGlzdCA9IGxpc3QuZmlsdGVyKGZ1bmN0aW9uIChlbnRyeSwgaWR4KSB7IHJldHVybiBlbnRyeSAhPT0gdW5kZWZpbmVkICYmIGkgIT09IGlkeDsgfSk7XG4gICAgICBuZXdNYXAgPSBuZXdMaXN0LnRvS2V5ZWRTZXEoKS5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBlbnRyeVswXTsgfSkuZmxpcCgpLnRvTWFwKCk7XG4gICAgICBpZiAob21hcC5fX293bmVySUQpIHtcbiAgICAgICAgbmV3TWFwLl9fb3duZXJJRCA9IChuZXdMaXN0Ll9fb3duZXJJRCA9IG9tYXAuX19vd25lcklEKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3TWFwID0gbWFwLnJlbW92ZShrKTtcbiAgICAgIG5ld0xpc3QgPSBpID09PSBsaXN0LnNpemUgLSAxID8gbGlzdC5wb3AoKSA6IGxpc3Quc2V0KGksIHVuZGVmaW5lZCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGhhcykge1xuICAgIGlmICh2ID09PSBsaXN0LmdldChpKVsxXSkge1xuICAgICAgcmV0dXJuIG9tYXA7XG4gICAgfVxuICAgIG5ld01hcCA9IG1hcDtcbiAgICBuZXdMaXN0ID0gbGlzdC5zZXQoaSwgW2ssIHZdKTtcbiAgfSBlbHNlIHtcbiAgICBuZXdNYXAgPSBtYXAuc2V0KGssIGxpc3Quc2l6ZSk7XG4gICAgbmV3TGlzdCA9IGxpc3Quc2V0KGxpc3Quc2l6ZSwgW2ssIHZdKTtcbiAgfVxuICBpZiAob21hcC5fX293bmVySUQpIHtcbiAgICBvbWFwLnNpemUgPSBuZXdNYXAuc2l6ZTtcbiAgICBvbWFwLl9tYXAgPSBuZXdNYXA7XG4gICAgb21hcC5fbGlzdCA9IG5ld0xpc3Q7XG4gICAgb21hcC5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG9tYXA7XG4gIH1cbiAgcmV0dXJuIG1ha2VPcmRlcmVkTWFwKG5ld01hcCwgbmV3TGlzdCk7XG59XG5cbnZhciBTdGFjayA9IChmdW5jdGlvbiAoSW5kZXhlZENvbGxlY3Rpb24kJDEpIHtcbiAgZnVuY3Rpb24gU3RhY2sodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZFxuICAgICAgPyBlbXB0eVN0YWNrKClcbiAgICAgIDogaXNTdGFjayh2YWx1ZSkgPyB2YWx1ZSA6IGVtcHR5U3RhY2soKS5wdXNoQWxsKHZhbHVlKTtcbiAgfVxuXG4gIGlmICggSW5kZXhlZENvbGxlY3Rpb24kJDEgKSBTdGFjay5fX3Byb3RvX18gPSBJbmRleGVkQ29sbGVjdGlvbiQkMTtcbiAgU3RhY2sucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW5kZXhlZENvbGxlY3Rpb24kJDEgJiYgSW5kZXhlZENvbGxlY3Rpb24kJDEucHJvdG90eXBlICk7XG4gIFN0YWNrLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN0YWNrO1xuXG4gIFN0YWNrLm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdTdGFjayBbJywgJ10nKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEFjY2Vzc1xuXG4gIFN0YWNrLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciBoZWFkID0gdGhpcy5faGVhZDtcbiAgICBpbmRleCA9IHdyYXBJbmRleCh0aGlzLCBpbmRleCk7XG4gICAgd2hpbGUgKGhlYWQgJiYgaW5kZXgtLSkge1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGhlYWQgPyBoZWFkLnZhbHVlIDogbm90U2V0VmFsdWU7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLnBlZWsgPSBmdW5jdGlvbiBwZWVrICgpIHtcbiAgICByZXR1cm4gdGhpcy5faGVhZCAmJiB0aGlzLl9oZWFkLnZhbHVlO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgU3RhY2sucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiBwdXNoICgvKi4uLnZhbHVlcyovKSB7XG4gICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZSArIGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgIGZvciAodmFyIGlpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGlpID49IDA7IGlpLS0pIHtcbiAgICAgIGhlYWQgPSB7XG4gICAgICAgIHZhbHVlOiBhcmd1bWVudHMkMVtpaV0sXG4gICAgICAgIG5leHQ6IGhlYWRcbiAgICAgIH07XG4gICAgfVxuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gbmV3U2l6ZTtcbiAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VTdGFjayhuZXdTaXplLCBoZWFkKTtcbiAgfTtcblxuICBTdGFjay5wcm90b3R5cGUucHVzaEFsbCA9IGZ1bmN0aW9uIHB1c2hBbGwgKGl0ZXIpIHtcbiAgICBpdGVyID0gSW5kZXhlZENvbGxlY3Rpb24kJDEoaXRlcik7XG4gICAgaWYgKGl0ZXIuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlmICh0aGlzLnNpemUgPT09IDAgJiYgaXNTdGFjayhpdGVyKSkge1xuICAgICAgcmV0dXJuIGl0ZXI7XG4gICAgfVxuICAgIGFzc2VydE5vdEluZmluaXRlKGl0ZXIuc2l6ZSk7XG4gICAgdmFyIG5ld1NpemUgPSB0aGlzLnNpemU7XG4gICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgIGl0ZXIuX19pdGVyYXRlKFxuICAgICAgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIG5ld1NpemUrKztcbiAgICAgICAgaGVhZCA9IHtcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgbmV4dDogaGVhZFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIC8qIHJldmVyc2UgKi8gdHJ1ZVxuICAgICk7XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSBuZXdTaXplO1xuICAgICAgdGhpcy5faGVhZCA9IGhlYWQ7XG4gICAgICB0aGlzLl9faGFzaCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gbWFrZVN0YWNrKG5ld1NpemUsIGhlYWQpO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5wb3AgPSBmdW5jdGlvbiBwb3AgKCkge1xuICAgIHJldHVybiB0aGlzLnNsaWNlKDEpO1xuICB9O1xuXG4gIFN0YWNrLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaWYgKHRoaXMuX19vd25lcklEKSB7XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgICAgdGhpcy5faGVhZCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuX19oYXNoID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fX2FsdGVyZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBlbXB0eVN0YWNrKCk7XG4gIH07XG5cbiAgU3RhY2sucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKGJlZ2luLCBlbmQpIHtcbiAgICBpZiAod2hvbGVTbGljZShiZWdpbiwgZW5kLCB0aGlzLnNpemUpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFyIHJlc29sdmVkQmVnaW4gPSByZXNvbHZlQmVnaW4oYmVnaW4sIHRoaXMuc2l6ZSk7XG4gICAgdmFyIHJlc29sdmVkRW5kID0gcmVzb2x2ZUVuZChlbmQsIHRoaXMuc2l6ZSk7XG4gICAgaWYgKHJlc29sdmVkRW5kICE9PSB0aGlzLnNpemUpIHtcbiAgICAgIC8vIHN1cGVyLnNsaWNlKGJlZ2luLCBlbmQpO1xuICAgICAgcmV0dXJuIEluZGV4ZWRDb2xsZWN0aW9uJCQxLnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMsIGJlZ2luLCBlbmQpO1xuICAgIH1cbiAgICB2YXIgbmV3U2l6ZSA9IHRoaXMuc2l6ZSAtIHJlc29sdmVkQmVnaW47XG4gICAgdmFyIGhlYWQgPSB0aGlzLl9oZWFkO1xuICAgIHdoaWxlIChyZXNvbHZlZEJlZ2luLS0pIHtcbiAgICAgIGhlYWQgPSBoZWFkLm5leHQ7XG4gICAgfVxuICAgIGlmICh0aGlzLl9fb3duZXJJRCkge1xuICAgICAgdGhpcy5zaXplID0gbmV3U2l6ZTtcbiAgICAgIHRoaXMuX2hlYWQgPSBoZWFkO1xuICAgICAgdGhpcy5fX2hhc2ggPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9fYWx0ZXJlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VTdGFjayhuZXdTaXplLCBoZWFkKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIE11dGFiaWxpdHlcblxuICBTdGFjay5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uIF9fZW5zdXJlT3duZXIgKG93bmVySUQpIHtcbiAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAoIW93bmVySUQpIHtcbiAgICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGVtcHR5U3RhY2soKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX19vd25lcklEID0gb3duZXJJRDtcbiAgICAgIHRoaXMuX19hbHRlcmVkID0gZmFsc2U7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuIG1ha2VTdGFjayh0aGlzLnNpemUsIHRoaXMuX2hlYWQsIG93bmVySUQsIHRoaXMuX19oYXNoKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIEl0ZXJhdGlvblxuXG4gIFN0YWNrLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIG5ldyBBcnJheVNlcSh0aGlzLnRvQXJyYXkoKSkuX19pdGVyYXRlKFxuICAgICAgICBmdW5jdGlvbiAodiwgaykgeyByZXR1cm4gZm4odiwgaywgdGhpcyQxKTsgfSxcbiAgICAgICAgcmV2ZXJzZVxuICAgICAgKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgaWYgKGZuKG5vZGUudmFsdWUsIGl0ZXJhdGlvbnMrKywgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZS5uZXh0O1xuICAgIH1cbiAgICByZXR1cm4gaXRlcmF0aW9ucztcbiAgfTtcblxuICBTdGFjay5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgcmV0dXJuIG5ldyBBcnJheVNlcSh0aGlzLnRvQXJyYXkoKSkuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbiAgICB9XG4gICAgdmFyIGl0ZXJhdGlvbnMgPSAwO1xuICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG5vZGUudmFsdWU7XG4gICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XG4gICAgICAgIHJldHVybiBpdGVyYXRvclZhbHVlKHR5cGUsIGl0ZXJhdGlvbnMrKywgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBTdGFjaztcbn0oSW5kZXhlZENvbGxlY3Rpb24pKTtcblxuZnVuY3Rpb24gaXNTdGFjayhtYXliZVN0YWNrKSB7XG4gIHJldHVybiAhIShtYXliZVN0YWNrICYmIG1heWJlU3RhY2tbSVNfU1RBQ0tfU0VOVElORUxdKTtcbn1cblxuU3RhY2suaXNTdGFjayA9IGlzU3RhY2s7XG5cbnZhciBJU19TVEFDS19TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NUQUNLX19AQCc7XG5cbnZhciBTdGFja1Byb3RvdHlwZSA9IFN0YWNrLnByb3RvdHlwZTtcblN0YWNrUHJvdG90eXBlW0lTX1NUQUNLX1NFTlRJTkVMXSA9IHRydWU7XG5TdGFja1Byb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG5TdGFja1Byb3RvdHlwZS5hc011dGFibGUgPSBNYXBQcm90b3R5cGUuYXNNdXRhYmxlO1xuU3RhY2tQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG5TdGFja1Byb3RvdHlwZS53YXNBbHRlcmVkID0gTWFwUHJvdG90eXBlLndhc0FsdGVyZWQ7XG5TdGFja1Byb3RvdHlwZS5zaGlmdCA9IFN0YWNrUHJvdG90eXBlLnBvcDtcblN0YWNrUHJvdG90eXBlLnVuc2hpZnQgPSBTdGFja1Byb3RvdHlwZS5wdXNoO1xuU3RhY2tQcm90b3R5cGUudW5zaGlmdEFsbCA9IFN0YWNrUHJvdG90eXBlLnB1c2hBbGw7XG5cbmZ1bmN0aW9uIG1ha2VTdGFjayhzaXplLCBoZWFkLCBvd25lcklELCBoYXNoKSB7XG4gIHZhciBtYXAgPSBPYmplY3QuY3JlYXRlKFN0YWNrUHJvdG90eXBlKTtcbiAgbWFwLnNpemUgPSBzaXplO1xuICBtYXAuX2hlYWQgPSBoZWFkO1xuICBtYXAuX19vd25lcklEID0gb3duZXJJRDtcbiAgbWFwLl9faGFzaCA9IGhhc2g7XG4gIG1hcC5fX2FsdGVyZWQgPSBmYWxzZTtcbiAgcmV0dXJuIG1hcDtcbn1cblxudmFyIEVNUFRZX1NUQUNLO1xuZnVuY3Rpb24gZW1wdHlTdGFjaygpIHtcbiAgcmV0dXJuIEVNUFRZX1NUQUNLIHx8IChFTVBUWV9TVEFDSyA9IG1ha2VTdGFjaygwKSk7XG59XG5cbmZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiKSB7XG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAoXG4gICAgIWlzQ29sbGVjdGlvbihiKSB8fFxuICAgIChhLnNpemUgIT09IHVuZGVmaW5lZCAmJiBiLnNpemUgIT09IHVuZGVmaW5lZCAmJiBhLnNpemUgIT09IGIuc2l6ZSkgfHxcbiAgICAoYS5fX2hhc2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgYi5fX2hhc2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgYS5fX2hhc2ggIT09IGIuX19oYXNoKSB8fFxuICAgIGlzS2V5ZWQoYSkgIT09IGlzS2V5ZWQoYikgfHxcbiAgICBpc0luZGV4ZWQoYSkgIT09IGlzSW5kZXhlZChiKSB8fFxuICAgIGlzT3JkZXJlZChhKSAhPT0gaXNPcmRlcmVkKGIpXG4gICkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChhLnNpemUgPT09IDAgJiYgYi5zaXplID09PSAwKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgbm90QXNzb2NpYXRpdmUgPSAhaXNBc3NvY2lhdGl2ZShhKTtcblxuICBpZiAoaXNPcmRlcmVkKGEpKSB7XG4gICAgdmFyIGVudHJpZXMgPSBhLmVudHJpZXMoKTtcbiAgICByZXR1cm4gYi5ldmVyeShmdW5jdGlvbiAodiwgaykge1xuICAgICAgdmFyIGVudHJ5ID0gZW50cmllcy5uZXh0KCkudmFsdWU7XG4gICAgICByZXR1cm4gZW50cnkgJiYgaXMoZW50cnlbMV0sIHYpICYmIChub3RBc3NvY2lhdGl2ZSB8fCBpcyhlbnRyeVswXSwgaykpO1xuICAgIH0pICYmIGVudHJpZXMubmV4dCgpLmRvbmU7XG4gIH1cblxuICB2YXIgZmxpcHBlZCA9IGZhbHNlO1xuXG4gIGlmIChhLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChiLnNpemUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKHR5cGVvZiBhLmNhY2hlUmVzdWx0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGEuY2FjaGVSZXN1bHQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZmxpcHBlZCA9IHRydWU7XG4gICAgICB2YXIgXyA9IGE7XG4gICAgICBhID0gYjtcbiAgICAgIGIgPSBfO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhbGxFcXVhbCA9IHRydWU7XG4gIHZhciBiU2l6ZSA9IGIuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgaWYgKFxuICAgICAgbm90QXNzb2NpYXRpdmVcbiAgICAgICAgPyAhYS5oYXModilcbiAgICAgICAgOiBmbGlwcGVkID8gIWlzKHYsIGEuZ2V0KGssIE5PVF9TRVQpKSA6ICFpcyhhLmdldChrLCBOT1RfU0VUKSwgdilcbiAgICApIHtcbiAgICAgIGFsbEVxdWFsID0gZmFsc2U7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gYWxsRXF1YWwgJiYgYS5zaXplID09PSBiU2l6ZTtcbn1cblxuLyoqXG4gKiBDb250cmlidXRlcyBhZGRpdGlvbmFsIG1ldGhvZHMgdG8gYSBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBtaXhpbihjdG9yLCBtZXRob2RzKSB7XG4gIHZhciBrZXlDb3BpZXIgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgY3Rvci5wcm90b3R5cGVba2V5XSA9IG1ldGhvZHNba2V5XTtcbiAgfTtcbiAgT2JqZWN0LmtleXMobWV0aG9kcykuZm9yRWFjaChrZXlDb3BpZXIpO1xuICBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzICYmXG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhtZXRob2RzKS5mb3JFYWNoKGtleUNvcGllcik7XG4gIHJldHVybiBjdG9yO1xufVxuXG52YXIgU2V0ID0gKGZ1bmN0aW9uIChTZXRDb2xsZWN0aW9uJCQxKSB7XG4gIGZ1bmN0aW9uIFNldCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkXG4gICAgICA/IGVtcHR5U2V0KClcbiAgICAgIDogaXNTZXQodmFsdWUpICYmICFpc09yZGVyZWQodmFsdWUpXG4gICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgIDogZW1wdHlTZXQoKS53aXRoTXV0YXRpb25zKGZ1bmN0aW9uIChzZXQpIHtcbiAgICAgICAgICAgICAgdmFyIGl0ZXIgPSBTZXRDb2xsZWN0aW9uJCQxKHZhbHVlKTtcbiAgICAgICAgICAgICAgYXNzZXJ0Tm90SW5maW5pdGUoaXRlci5zaXplKTtcbiAgICAgICAgICAgICAgaXRlci5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7IHJldHVybiBzZXQuYWRkKHYpOyB9KTtcbiAgICAgICAgICAgIH0pO1xuICB9XG5cbiAgaWYgKCBTZXRDb2xsZWN0aW9uJCQxICkgU2V0Ll9fcHJvdG9fXyA9IFNldENvbGxlY3Rpb24kJDE7XG4gIFNldC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBTZXRDb2xsZWN0aW9uJCQxICYmIFNldENvbGxlY3Rpb24kJDEucHJvdG90eXBlICk7XG4gIFNldC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBTZXQ7XG5cbiAgU2V0Lm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICB9O1xuXG4gIFNldC5mcm9tS2V5cyA9IGZ1bmN0aW9uIGZyb21LZXlzICh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzKEtleWVkQ29sbGVjdGlvbih2YWx1ZSkua2V5U2VxKCkpO1xuICB9O1xuXG4gIFNldC5pbnRlcnNlY3QgPSBmdW5jdGlvbiBpbnRlcnNlY3QgKHNldHMpIHtcbiAgICBzZXRzID0gQ29sbGVjdGlvbihzZXRzKS50b0FycmF5KCk7XG4gICAgcmV0dXJuIHNldHMubGVuZ3RoXG4gICAgICA/IFNldFByb3RvdHlwZS5pbnRlcnNlY3QuYXBwbHkoU2V0KHNldHMucG9wKCkpLCBzZXRzKVxuICAgICAgOiBlbXB0eVNldCgpO1xuICB9O1xuXG4gIFNldC51bmlvbiA9IGZ1bmN0aW9uIHVuaW9uIChzZXRzKSB7XG4gICAgc2V0cyA9IENvbGxlY3Rpb24oc2V0cykudG9BcnJheSgpO1xuICAgIHJldHVybiBzZXRzLmxlbmd0aFxuICAgICAgPyBTZXRQcm90b3R5cGUudW5pb24uYXBwbHkoU2V0KHNldHMucG9wKCkpLCBzZXRzKVxuICAgICAgOiBlbXB0eVNldCgpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX190b1N0cmluZygnU2V0IHsnLCAnfScpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgQWNjZXNzXG5cbiAgU2V0LnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiBoYXMgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC5oYXModmFsdWUpO1xuICB9O1xuXG4gIC8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cbiAgU2V0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVNldCh0aGlzLCB0aGlzLl9tYXAuc2V0KHZhbHVlLCB0cnVlKSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHVwZGF0ZVNldCh0aGlzLCB0aGlzLl9tYXAucmVtb3ZlKHZhbHVlKSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uIGNsZWFyICgpIHtcbiAgICByZXR1cm4gdXBkYXRlU2V0KHRoaXMsIHRoaXMuX21hcC5jbGVhcigpKTtcbiAgfTtcblxuICAvLyBAcHJhZ21hIENvbXBvc2l0aW9uXG5cbiAgU2V0LnByb3RvdHlwZS51bmlvbiA9IGZ1bmN0aW9uIHVuaW9uICgpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIGl0ZXJzID0gaXRlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnNpemUgIT09IDA7IH0pO1xuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpZiAodGhpcy5zaXplID09PSAwICYmICF0aGlzLl9fb3duZXJJRCAmJiBpdGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yKGl0ZXJzWzBdKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAoc2V0KSB7XG4gICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgaXRlcnMubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgIFNldENvbGxlY3Rpb24kJDEoaXRlcnNbaWldKS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gc2V0LmFkZCh2YWx1ZSk7IH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24gaW50ZXJzZWN0ICgpIHtcbiAgICB2YXIgaXRlcnMgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB3aGlsZSAoIGxlbi0tICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICAgIGlmIChpdGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpdGVycyA9IGl0ZXJzLm1hcChmdW5jdGlvbiAoaXRlcikgeyByZXR1cm4gU2V0Q29sbGVjdGlvbiQkMShpdGVyKTsgfSk7XG4gICAgdmFyIHRvUmVtb3ZlID0gW107XG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKCFpdGVycy5ldmVyeShmdW5jdGlvbiAoaXRlcikgeyByZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSk7IH0pKSB7XG4gICAgICAgIHRvUmVtb3ZlLnB1c2godmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHNldCkge1xuICAgICAgdG9SZW1vdmUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgc2V0LnJlbW92ZSh2YWx1ZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLnN1YnRyYWN0ID0gZnVuY3Rpb24gc3VidHJhY3QgKCkge1xuICAgIHZhciBpdGVycyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHdoaWxlICggbGVuLS0gKSBpdGVyc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgaWYgKGl0ZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHZhciB0b1JlbW92ZSA9IFtdO1xuICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChpdGVycy5zb21lKGZ1bmN0aW9uIChpdGVyKSB7IHJldHVybiBpdGVyLmluY2x1ZGVzKHZhbHVlKTsgfSkpIHtcbiAgICAgICAgdG9SZW1vdmUucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMud2l0aE11dGF0aW9ucyhmdW5jdGlvbiAoc2V0KSB7XG4gICAgICB0b1JlbW92ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBzZXQucmVtb3ZlKHZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSAoKSB7XG4gICAgcmV0dXJuIHRoaXMudW5pb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLm1lcmdlV2l0aCA9IGZ1bmN0aW9uIG1lcmdlV2l0aCAobWVyZ2VyKSB7XG4gICAgdmFyIGl0ZXJzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSAxO1xuICAgIHdoaWxlICggbGVuLS0gPiAwICkgaXRlcnNbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gKyAxIF07XG5cbiAgICByZXR1cm4gdGhpcy51bmlvbi5hcHBseSh0aGlzLCBpdGVycyk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5zb3J0ID0gZnVuY3Rpb24gc29ydCAoY29tcGFyYXRvcikge1xuICAgIC8vIExhdGUgYmluZGluZ1xuICAgIHJldHVybiBPcmRlcmVkU2V0KHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgfTtcblxuICBTZXQucHJvdG90eXBlLnNvcnRCeSA9IGZ1bmN0aW9uIHNvcnRCeSAobWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgLy8gTGF0ZSBiaW5kaW5nXG4gICAgcmV0dXJuIE9yZGVyZWRTZXQoc29ydEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS53YXNBbHRlcmVkID0gZnVuY3Rpb24gd2FzQWx0ZXJlZCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hcC53YXNBbHRlcmVkKCk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcy5fbWFwLl9faXRlcmF0ZShmdW5jdGlvbiAoXywgaykgeyByZXR1cm4gZm4oaywgaywgdGhpcyQxKTsgfSwgcmV2ZXJzZSk7XG4gIH07XG5cbiAgU2V0LnByb3RvdHlwZS5fX2l0ZXJhdG9yID0gZnVuY3Rpb24gX19pdGVyYXRvciAodHlwZSwgcmV2ZXJzZSkge1xuICAgIHJldHVybiB0aGlzLl9tYXAubWFwKGZ1bmN0aW9uIChfLCBrKSB7IHJldHVybiBrOyB9KS5fX2l0ZXJhdG9yKHR5cGUsIHJldmVyc2UpO1xuICB9O1xuXG4gIFNldC5wcm90b3R5cGUuX19lbnN1cmVPd25lciA9IGZ1bmN0aW9uIF9fZW5zdXJlT3duZXIgKG93bmVySUQpIHtcbiAgICBpZiAob3duZXJJRCA9PT0gdGhpcy5fX293bmVySUQpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB2YXIgbmV3TWFwID0gdGhpcy5fbWFwLl9fZW5zdXJlT3duZXIob3duZXJJRCk7XG4gICAgaWYgKCFvd25lcklEKSB7XG4gICAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICAgIHJldHVybiBlbXB0eVNldCgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgICAgdGhpcy5fbWFwID0gbmV3TWFwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9fbWFrZShuZXdNYXAsIG93bmVySUQpO1xuICB9O1xuXG4gIHJldHVybiBTZXQ7XG59KFNldENvbGxlY3Rpb24pKTtcblxuZnVuY3Rpb24gaXNTZXQobWF5YmVTZXQpIHtcbiAgcmV0dXJuICEhKG1heWJlU2V0ICYmIG1heWJlU2V0W0lTX1NFVF9TRU5USU5FTF0pO1xufVxuXG5TZXQuaXNTZXQgPSBpc1NldDtcblxudmFyIElTX1NFVF9TRU5USU5FTCA9ICdAQF9fSU1NVVRBQkxFX1NFVF9fQEAnO1xuXG52YXIgU2V0UHJvdG90eXBlID0gU2V0LnByb3RvdHlwZTtcblNldFByb3RvdHlwZVtJU19TRVRfU0VOVElORUxdID0gdHJ1ZTtcblNldFByb3RvdHlwZVtERUxFVEVdID0gU2V0UHJvdG90eXBlLnJlbW92ZTtcblNldFByb3RvdHlwZS5tZXJnZURlZXAgPSBTZXRQcm90b3R5cGUubWVyZ2U7XG5TZXRQcm90b3R5cGUubWVyZ2VEZWVwV2l0aCA9IFNldFByb3RvdHlwZS5tZXJnZVdpdGg7XG5TZXRQcm90b3R5cGUud2l0aE11dGF0aW9ucyA9IE1hcFByb3RvdHlwZS53aXRoTXV0YXRpb25zO1xuU2V0UHJvdG90eXBlLmFzTXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc011dGFibGU7XG5TZXRQcm90b3R5cGUuYXNJbW11dGFibGUgPSBNYXBQcm90b3R5cGUuYXNJbW11dGFibGU7XG5cblNldFByb3RvdHlwZS5fX2VtcHR5ID0gZW1wdHlTZXQ7XG5TZXRQcm90b3R5cGUuX19tYWtlID0gbWFrZVNldDtcblxuZnVuY3Rpb24gdXBkYXRlU2V0KHNldCwgbmV3TWFwKSB7XG4gIGlmIChzZXQuX19vd25lcklEKSB7XG4gICAgc2V0LnNpemUgPSBuZXdNYXAuc2l6ZTtcbiAgICBzZXQuX21hcCA9IG5ld01hcDtcbiAgICByZXR1cm4gc2V0O1xuICB9XG4gIHJldHVybiBuZXdNYXAgPT09IHNldC5fbWFwXG4gICAgPyBzZXRcbiAgICA6IG5ld01hcC5zaXplID09PSAwID8gc2V0Ll9fZW1wdHkoKSA6IHNldC5fX21ha2UobmV3TWFwKTtcbn1cblxuZnVuY3Rpb24gbWFrZVNldChtYXAsIG93bmVySUQpIHtcbiAgdmFyIHNldCA9IE9iamVjdC5jcmVhdGUoU2V0UHJvdG90eXBlKTtcbiAgc2V0LnNpemUgPSBtYXAgPyBtYXAuc2l6ZSA6IDA7XG4gIHNldC5fbWFwID0gbWFwO1xuICBzZXQuX19vd25lcklEID0gb3duZXJJRDtcbiAgcmV0dXJuIHNldDtcbn1cblxudmFyIEVNUFRZX1NFVDtcbmZ1bmN0aW9uIGVtcHR5U2V0KCkge1xuICByZXR1cm4gRU1QVFlfU0VUIHx8IChFTVBUWV9TRVQgPSBtYWtlU2V0KGVtcHR5TWFwKCkpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbGF6eSBzZXEgb2YgbnVtcyBmcm9tIHN0YXJ0IChpbmNsdXNpdmUpIHRvIGVuZFxuICogKGV4Y2x1c2l2ZSksIGJ5IHN0ZXAsIHdoZXJlIHN0YXJ0IGRlZmF1bHRzIHRvIDAsIHN0ZXAgdG8gMSwgYW5kIGVuZCB0b1xuICogaW5maW5pdHkuIFdoZW4gc3RhcnQgaXMgZXF1YWwgdG8gZW5kLCByZXR1cm5zIGVtcHR5IGxpc3QuXG4gKi9cbnZhciBSYW5nZSA9IChmdW5jdGlvbiAoSW5kZXhlZFNlcSQkMSkge1xuICBmdW5jdGlvbiBSYW5nZShzdGFydCwgZW5kLCBzdGVwKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJhbmdlKSkge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydCwgZW5kLCBzdGVwKTtcbiAgICB9XG4gICAgaW52YXJpYW50KHN0ZXAgIT09IDAsICdDYW5ub3Qgc3RlcCBhIFJhbmdlIGJ5IDAnKTtcbiAgICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBlbmQgPSBJbmZpbml0eTtcbiAgICB9XG4gICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IDEgOiBNYXRoLmFicyhzdGVwKTtcbiAgICBpZiAoZW5kIDwgc3RhcnQpIHtcbiAgICAgIHN0ZXAgPSAtc3RlcDtcbiAgICB9XG4gICAgdGhpcy5fc3RhcnQgPSBzdGFydDtcbiAgICB0aGlzLl9lbmQgPSBlbmQ7XG4gICAgdGhpcy5fc3RlcCA9IHN0ZXA7XG4gICAgdGhpcy5zaXplID0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKChlbmQgLSBzdGFydCkgLyBzdGVwIC0gMSkgKyAxKTtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICBpZiAoRU1QVFlfUkFOR0UpIHtcbiAgICAgICAgcmV0dXJuIEVNUFRZX1JBTkdFO1xuICAgICAgfVxuICAgICAgRU1QVFlfUkFOR0UgPSB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIGlmICggSW5kZXhlZFNlcSQkMSApIFJhbmdlLl9fcHJvdG9fXyA9IEluZGV4ZWRTZXEkJDE7XG4gIFJhbmdlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIEluZGV4ZWRTZXEkJDEgJiYgSW5kZXhlZFNlcSQkMS5wcm90b3R5cGUgKTtcbiAgUmFuZ2UucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmFuZ2U7XG5cbiAgUmFuZ2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiAnUmFuZ2UgW10nO1xuICAgIH1cbiAgICByZXR1cm4gJ1JhbmdlIFsgJyArXG4gICAgICB0aGlzLl9zdGFydCArXG4gICAgICAnLi4uJyArXG4gICAgICB0aGlzLl9lbmQgK1xuICAgICAgKHRoaXMuX3N0ZXAgIT09IDEgPyAnIGJ5ICcgKyB0aGlzLl9zdGVwIDogJycpICtcbiAgICAgICcgXSc7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzKGluZGV4KVxuICAgICAgPyB0aGlzLl9zdGFydCArIHdyYXBJbmRleCh0aGlzLCBpbmRleCkgKiB0aGlzLl9zdGVwXG4gICAgICA6IG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5pbmNsdWRlcyA9IGZ1bmN0aW9uIGluY2x1ZGVzIChzZWFyY2hWYWx1ZSkge1xuICAgIHZhciBwb3NzaWJsZUluZGV4ID0gKHNlYXJjaFZhbHVlIC0gdGhpcy5fc3RhcnQpIC8gdGhpcy5fc3RlcDtcbiAgICByZXR1cm4gcG9zc2libGVJbmRleCA+PSAwICYmXG4gICAgICBwb3NzaWJsZUluZGV4IDwgdGhpcy5zaXplICYmXG4gICAgICBwb3NzaWJsZUluZGV4ID09PSBNYXRoLmZsb29yKHBvc3NpYmxlSW5kZXgpO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChiZWdpbiwgZW5kKSB7XG4gICAgaWYgKHdob2xlU2xpY2UoYmVnaW4sIGVuZCwgdGhpcy5zaXplKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGJlZ2luID0gcmVzb2x2ZUJlZ2luKGJlZ2luLCB0aGlzLnNpemUpO1xuICAgIGVuZCA9IHJlc29sdmVFbmQoZW5kLCB0aGlzLnNpemUpO1xuICAgIGlmIChlbmQgPD0gYmVnaW4pIHtcbiAgICAgIHJldHVybiBuZXcgUmFuZ2UoMCwgMCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmFuZ2UoXG4gICAgICB0aGlzLmdldChiZWdpbiwgdGhpcy5fZW5kKSxcbiAgICAgIHRoaXMuZ2V0KGVuZCwgdGhpcy5fZW5kKSxcbiAgICAgIHRoaXMuX3N0ZXBcbiAgICApO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24gaW5kZXhPZiAoc2VhcmNoVmFsdWUpIHtcbiAgICB2YXIgb2Zmc2V0VmFsdWUgPSBzZWFyY2hWYWx1ZSAtIHRoaXMuX3N0YXJ0O1xuICAgIGlmIChvZmZzZXRWYWx1ZSAlIHRoaXMuX3N0ZXAgPT09IDApIHtcbiAgICAgIHZhciBpbmRleCA9IG9mZnNldFZhbHVlIC8gdGhpcy5fc3RlcDtcbiAgICAgIGlmIChpbmRleCA+PSAwICYmIGluZGV4IDwgdGhpcy5zaXplKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mIChzZWFyY2hWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmluZGV4T2Yoc2VhcmNoVmFsdWUpO1xuICB9O1xuXG4gIFJhbmdlLnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB2YXIgc3RlcCA9IHRoaXMuX3N0ZXA7XG4gICAgdmFyIHZhbHVlID0gcmV2ZXJzZSA/IHRoaXMuX3N0YXJ0ICsgKHNpemUgLSAxKSAqIHN0ZXAgOiB0aGlzLl9zdGFydDtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgIT09IHNpemUpIHtcbiAgICAgIGlmIChmbih2YWx1ZSwgcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKyssIHRoaXMkMSkgPT09IGZhbHNlKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdmFsdWUgKz0gcmV2ZXJzZSA/IC1zdGVwIDogc3RlcDtcbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gICAgdmFyIHNpemUgPSB0aGlzLnNpemU7XG4gICAgdmFyIHN0ZXAgPSB0aGlzLl9zdGVwO1xuICAgIHZhciB2YWx1ZSA9IHJldmVyc2UgPyB0aGlzLl9zdGFydCArIChzaXplIC0gMSkgKiBzdGVwIDogdGhpcy5fc3RhcnQ7XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldHVybiBuZXcgSXRlcmF0b3IoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGkgPT09IHNpemUpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yRG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHYgPSB2YWx1ZTtcbiAgICAgIHZhbHVlICs9IHJldmVyc2UgPyAtc3RlcCA6IHN0ZXA7XG4gICAgICByZXR1cm4gaXRlcmF0b3JWYWx1ZSh0eXBlLCByZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrKywgdik7XG4gICAgfSk7XG4gIH07XG5cbiAgUmFuZ2UucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBSYW5nZVxuICAgICAgPyB0aGlzLl9zdGFydCA9PT0gb3RoZXIuX3N0YXJ0ICYmXG4gICAgICAgICAgdGhpcy5fZW5kID09PSBvdGhlci5fZW5kICYmXG4gICAgICAgICAgdGhpcy5fc3RlcCA9PT0gb3RoZXIuX3N0ZXBcbiAgICAgIDogZGVlcEVxdWFsKHRoaXMsIG90aGVyKTtcbiAgfTtcblxuICByZXR1cm4gUmFuZ2U7XG59KEluZGV4ZWRTZXEpKTtcblxudmFyIEVNUFRZX1JBTkdFO1xuXG4vLyBOb3RlOiBhbGwgb2YgdGhlc2UgbWV0aG9kcyBhcmUgZGVwcmVjYXRlZC5cbkNvbGxlY3Rpb24uaXNJdGVyYWJsZSA9IGlzQ29sbGVjdGlvbjtcbkNvbGxlY3Rpb24uaXNLZXllZCA9IGlzS2V5ZWQ7XG5Db2xsZWN0aW9uLmlzSW5kZXhlZCA9IGlzSW5kZXhlZDtcbkNvbGxlY3Rpb24uaXNBc3NvY2lhdGl2ZSA9IGlzQXNzb2NpYXRpdmU7XG5Db2xsZWN0aW9uLmlzT3JkZXJlZCA9IGlzT3JkZXJlZDtcblxuQ29sbGVjdGlvbi5JdGVyYXRvciA9IEl0ZXJhdG9yO1xuXG5taXhpbihDb2xsZWN0aW9uLCB7XG4gIC8vICMjIyBDb252ZXJzaW9uIHRvIG90aGVyIHR5cGVzXG5cbiAgdG9BcnJheTogZnVuY3Rpb24gdG9BcnJheSgpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgIHZhciBhcnJheSA9IG5ldyBBcnJheSh0aGlzLnNpemUgfHwgMCk7XG4gICAgdGhpcy52YWx1ZVNlcSgpLl9faXRlcmF0ZShmdW5jdGlvbiAodiwgaSkge1xuICAgICAgYXJyYXlbaV0gPSB2O1xuICAgIH0pO1xuICAgIHJldHVybiBhcnJheTtcbiAgfSxcblxuICB0b0luZGV4ZWRTZXE6IGZ1bmN0aW9uIHRvSW5kZXhlZFNlcSgpIHtcbiAgICByZXR1cm4gbmV3IFRvSW5kZXhlZFNlcXVlbmNlKHRoaXMpO1xuICB9LFxuXG4gIHRvSlM6IGZ1bmN0aW9uIHRvSlMkMSgpIHtcbiAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcCh0b0pTKS50b0pTT04oKTtcbiAgfSxcblxuICB0b0tleWVkU2VxOiBmdW5jdGlvbiB0b0tleWVkU2VxKCkge1xuICAgIHJldHVybiBuZXcgVG9LZXllZFNlcXVlbmNlKHRoaXMsIHRydWUpO1xuICB9LFxuXG4gIHRvTWFwOiBmdW5jdGlvbiB0b01hcCgpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIE1hcCh0aGlzLnRvS2V5ZWRTZXEoKSk7XG4gIH0sXG5cbiAgdG9PYmplY3Q6IGZ1bmN0aW9uIHRvT2JqZWN0KCkge1xuICAgIGFzc2VydE5vdEluZmluaXRlKHRoaXMuc2l6ZSk7XG4gICAgdmFyIG9iamVjdCA9IHt9O1xuICAgIHRoaXMuX19pdGVyYXRlKGZ1bmN0aW9uICh2LCBrKSB7XG4gICAgICBvYmplY3Rba10gPSB2O1xuICAgIH0pO1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH0sXG5cbiAgdG9PcmRlcmVkTWFwOiBmdW5jdGlvbiB0b09yZGVyZWRNYXAoKSB7XG4gICAgLy8gVXNlIExhdGUgQmluZGluZyBoZXJlIHRvIHNvbHZlIHRoZSBjaXJjdWxhciBkZXBlbmRlbmN5LlxuICAgIHJldHVybiBPcmRlcmVkTWFwKHRoaXMudG9LZXllZFNlcSgpKTtcbiAgfSxcblxuICB0b09yZGVyZWRTZXQ6IGZ1bmN0aW9uIHRvT3JkZXJlZFNldCgpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIE9yZGVyZWRTZXQoaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICB9LFxuXG4gIHRvU2V0OiBmdW5jdGlvbiB0b1NldCgpIHtcbiAgICAvLyBVc2UgTGF0ZSBCaW5kaW5nIGhlcmUgdG8gc29sdmUgdGhlIGNpcmN1bGFyIGRlcGVuZGVuY3kuXG4gICAgcmV0dXJuIFNldChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gIH0sXG5cbiAgdG9TZXRTZXE6IGZ1bmN0aW9uIHRvU2V0U2VxKCkge1xuICAgIHJldHVybiBuZXcgVG9TZXRTZXF1ZW5jZSh0aGlzKTtcbiAgfSxcblxuICB0b1NlcTogZnVuY3Rpb24gdG9TZXEoKSB7XG4gICAgcmV0dXJuIGlzSW5kZXhlZCh0aGlzKVxuICAgICAgPyB0aGlzLnRvSW5kZXhlZFNlcSgpXG4gICAgICA6IGlzS2V5ZWQodGhpcykgPyB0aGlzLnRvS2V5ZWRTZXEoKSA6IHRoaXMudG9TZXRTZXEoKTtcbiAgfSxcblxuICB0b1N0YWNrOiBmdW5jdGlvbiB0b1N0YWNrKCkge1xuICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICByZXR1cm4gU3RhY2soaXNLZXllZCh0aGlzKSA/IHRoaXMudmFsdWVTZXEoKSA6IHRoaXMpO1xuICB9LFxuXG4gIHRvTGlzdDogZnVuY3Rpb24gdG9MaXN0KCkge1xuICAgIC8vIFVzZSBMYXRlIEJpbmRpbmcgaGVyZSB0byBzb2x2ZSB0aGUgY2lyY3VsYXIgZGVwZW5kZW5jeS5cbiAgICByZXR1cm4gTGlzdChpc0tleWVkKHRoaXMpID8gdGhpcy52YWx1ZVNlcSgpIDogdGhpcyk7XG4gIH0sXG5cbiAgLy8gIyMjIENvbW1vbiBKYXZhU2NyaXB0IG1ldGhvZHMgYW5kIHByb3BlcnRpZXNcblxuICB0b1N0cmluZzogZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdbQ29sbGVjdGlvbl0nO1xuICB9LFxuXG4gIF9fdG9TdHJpbmc6IGZ1bmN0aW9uIF9fdG9TdHJpbmcoaGVhZCwgdGFpbCkge1xuICAgIGlmICh0aGlzLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiBoZWFkICsgdGFpbDtcbiAgICB9XG4gICAgcmV0dXJuIGhlYWQgK1xuICAgICAgJyAnICtcbiAgICAgIHRoaXMudG9TZXEoKS5tYXAodGhpcy5fX3RvU3RyaW5nTWFwcGVyKS5qb2luKCcsICcpICtcbiAgICAgICcgJyArXG4gICAgICB0YWlsO1xuICB9LFxuXG4gIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICBjb25jYXQ6IGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB2YXIgdmFsdWVzID0gW10sIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgd2hpbGUgKCBsZW4tLSApIHZhbHVlc1sgbGVuIF0gPSBhcmd1bWVudHNbIGxlbiBdO1xuXG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIGNvbmNhdEZhY3RvcnkodGhpcywgdmFsdWVzKSk7XG4gIH0sXG5cbiAgaW5jbHVkZXM6IGZ1bmN0aW9uIGluY2x1ZGVzKHNlYXJjaFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuc29tZShmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGlzKHZhbHVlLCBzZWFyY2hWYWx1ZSk7IH0pO1xuICB9LFxuXG4gIGVudHJpZXM6IGZ1bmN0aW9uIGVudHJpZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX19pdGVyYXRvcihJVEVSQVRFX0VOVFJJRVMpO1xuICB9LFxuXG4gIGV2ZXJ5OiBmdW5jdGlvbiBldmVyeShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICBhc3NlcnROb3RJbmZpbml0ZSh0aGlzLnNpemUpO1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IHRydWU7XG4gICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGssIGMpIHtcbiAgICAgIGlmICghcHJlZGljYXRlLmNhbGwoY29udGV4dCwgdiwgaywgYykpIHtcbiAgICAgICAgcmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbiAgfSxcblxuICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmlsdGVyRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIHRydWUpKTtcbiAgfSxcblxuICBmaW5kOiBmdW5jdGlvbiBmaW5kKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpIHtcbiAgICB2YXIgZW50cnkgPSB0aGlzLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQpO1xuICAgIHJldHVybiBlbnRyeSA/IGVudHJ5WzFdIDogbm90U2V0VmFsdWU7XG4gIH0sXG5cbiAgZm9yRWFjaDogZnVuY3Rpb24gZm9yRWFjaChzaWRlRWZmZWN0LCBjb250ZXh0KSB7XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdGUoY29udGV4dCA/IHNpZGVFZmZlY3QuYmluZChjb250ZXh0KSA6IHNpZGVFZmZlY3QpO1xuICB9LFxuXG4gIGpvaW46IGZ1bmN0aW9uIGpvaW4oc2VwYXJhdG9yKSB7XG4gICAgYXNzZXJ0Tm90SW5maW5pdGUodGhpcy5zaXplKTtcbiAgICBzZXBhcmF0b3IgPSBzZXBhcmF0b3IgIT09IHVuZGVmaW5lZCA/ICcnICsgc2VwYXJhdG9yIDogJywnO1xuICAgIHZhciBqb2luZWQgPSAnJztcbiAgICB2YXIgaXNGaXJzdCA9IHRydWU7XG4gICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYpIHtcbiAgICAgIGlzRmlyc3QgPyAoaXNGaXJzdCA9IGZhbHNlKSA6IChqb2luZWQgKz0gc2VwYXJhdG9yKTtcbiAgICAgIGpvaW5lZCArPSB2ICE9PSBudWxsICYmIHYgIT09IHVuZGVmaW5lZCA/IHYudG9TdHJpbmcoKSA6ICcnO1xuICAgIH0pO1xuICAgIHJldHVybiBqb2luZWQ7XG4gIH0sXG5cbiAga2V5czogZnVuY3Rpb24ga2V5cygpIHtcbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfS0VZUyk7XG4gIH0sXG5cbiAgbWFwOiBmdW5jdGlvbiBtYXAobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIG1hcEZhY3RvcnkodGhpcywgbWFwcGVyLCBjb250ZXh0KSk7XG4gIH0sXG5cbiAgcmVkdWNlOiBmdW5jdGlvbiByZWR1Y2UkMShyZWR1Y2VyLCBpbml0aWFsUmVkdWN0aW9uLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHJlZHVjZShcbiAgICAgIHRoaXMsXG4gICAgICByZWR1Y2VyLFxuICAgICAgaW5pdGlhbFJlZHVjdGlvbixcbiAgICAgIGNvbnRleHQsXG4gICAgICBhcmd1bWVudHMubGVuZ3RoIDwgMixcbiAgICAgIGZhbHNlXG4gICAgKTtcbiAgfSxcblxuICByZWR1Y2VSaWdodDogZnVuY3Rpb24gcmVkdWNlUmlnaHQocmVkdWNlciwgaW5pdGlhbFJlZHVjdGlvbiwgY29udGV4dCkge1xuICAgIHJldHVybiByZWR1Y2UoXG4gICAgICB0aGlzLFxuICAgICAgcmVkdWNlcixcbiAgICAgIGluaXRpYWxSZWR1Y3Rpb24sXG4gICAgICBjb250ZXh0LFxuICAgICAgYXJndW1lbnRzLmxlbmd0aCA8IDIsXG4gICAgICB0cnVlXG4gICAgKTtcbiAgfSxcblxuICByZXZlcnNlOiBmdW5jdGlvbiByZXZlcnNlKCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCByZXZlcnNlRmFjdG9yeSh0aGlzLCB0cnVlKSk7XG4gIH0sXG5cbiAgc2xpY2U6IGZ1bmN0aW9uIHNsaWNlKGJlZ2luLCBlbmQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgc2xpY2VGYWN0b3J5KHRoaXMsIGJlZ2luLCBlbmQsIHRydWUpKTtcbiAgfSxcblxuICBzb21lOiBmdW5jdGlvbiBzb21lKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiAhdGhpcy5ldmVyeShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gIH0sXG5cbiAgc29ydDogZnVuY3Rpb24gc29ydChjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IpKTtcbiAgfSxcblxuICB2YWx1ZXM6IGZ1bmN0aW9uIHZhbHVlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fX2l0ZXJhdG9yKElURVJBVEVfVkFMVUVTKTtcbiAgfSxcblxuICAvLyAjIyMgTW9yZSBzZXF1ZW50aWFsIG1ldGhvZHNcblxuICBidXRMYXN0OiBmdW5jdGlvbiBidXRMYXN0KCkge1xuICAgIHJldHVybiB0aGlzLnNsaWNlKDAsIC0xKTtcbiAgfSxcblxuICBpc0VtcHR5OiBmdW5jdGlvbiBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLnNpemUgIT09IHVuZGVmaW5lZCA/IHRoaXMuc2l6ZSA9PT0gMCA6ICF0aGlzLnNvbWUoZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSk7XG4gIH0sXG5cbiAgY291bnQ6IGZ1bmN0aW9uIGNvdW50KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiBlbnN1cmVTaXplKFxuICAgICAgcHJlZGljYXRlID8gdGhpcy50b1NlcSgpLmZpbHRlcihwcmVkaWNhdGUsIGNvbnRleHQpIDogdGhpc1xuICAgICk7XG4gIH0sXG5cbiAgY291bnRCeTogZnVuY3Rpb24gY291bnRCeShncm91cGVyLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNvdW50QnlGYWN0b3J5KHRoaXMsIGdyb3VwZXIsIGNvbnRleHQpO1xuICB9LFxuXG4gIGVxdWFsczogZnVuY3Rpb24gZXF1YWxzKG90aGVyKSB7XG4gICAgcmV0dXJuIGRlZXBFcXVhbCh0aGlzLCBvdGhlcik7XG4gIH0sXG5cbiAgZW50cnlTZXE6IGZ1bmN0aW9uIGVudHJ5U2VxKCkge1xuICAgIHZhciBjb2xsZWN0aW9uID0gdGhpcztcbiAgICBpZiAoY29sbGVjdGlvbi5fY2FjaGUpIHtcbiAgICAgIC8vIFdlIGNhY2hlIGFzIGFuIGVudHJpZXMgYXJyYXksIHNvIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgY2FjaGUhXG4gICAgICByZXR1cm4gbmV3IEFycmF5U2VxKGNvbGxlY3Rpb24uX2NhY2hlKTtcbiAgICB9XG4gICAgdmFyIGVudHJpZXNTZXF1ZW5jZSA9IGNvbGxlY3Rpb24udG9TZXEoKS5tYXAoZW50cnlNYXBwZXIpLnRvSW5kZXhlZFNlcSgpO1xuICAgIGVudHJpZXNTZXF1ZW5jZS5mcm9tRW50cnlTZXEgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2xsZWN0aW9uLnRvU2VxKCk7IH07XG5cbiAgICAvLyBFbnRyaWVzIGFyZSBwbGFpbiBBcnJheSwgd2hpY2ggZG8gbm90IGRlZmluZSB0b0pTLCBzbyBpdCBtdXN0XG4gICAgLy8gbWFudWFsbHkgY29udmVydHMga2V5cyBhbmQgdmFsdWVzIGJlZm9yZSBjb252ZXJzaW9uLlxuICAgIGVudHJpZXNTZXF1ZW5jZS50b0pTID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGVudHJ5KSB7IHJldHVybiBbdG9KUyhlbnRyeVswXSksIHRvSlMoZW50cnlbMV0pXTsgfSkudG9KU09OKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBlbnRyaWVzU2VxdWVuY2U7XG4gIH0sXG5cbiAgZmlsdGVyTm90OiBmdW5jdGlvbiBmaWx0ZXJOb3QocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuZmlsdGVyKG5vdChwcmVkaWNhdGUpLCBjb250ZXh0KTtcbiAgfSxcblxuICBmaW5kRW50cnk6IGZ1bmN0aW9uIGZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKSB7XG4gICAgdmFyIGZvdW5kID0gbm90U2V0VmFsdWU7XG4gICAgdGhpcy5fX2l0ZXJhdGUoZnVuY3Rpb24gKHYsIGssIGMpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUuY2FsbChjb250ZXh0LCB2LCBrLCBjKSkge1xuICAgICAgICBmb3VuZCA9IFtrLCB2XTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBmb3VuZDtcbiAgfSxcblxuICBmaW5kS2V5OiBmdW5jdGlvbiBmaW5kS2V5KHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHZhciBlbnRyeSA9IHRoaXMuZmluZEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgcmV0dXJuIGVudHJ5ICYmIGVudHJ5WzBdO1xuICB9LFxuXG4gIGZpbmRMYXN0OiBmdW5jdGlvbiBmaW5kTGFzdChwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKS5maW5kKHByZWRpY2F0ZSwgY29udGV4dCwgbm90U2V0VmFsdWUpO1xuICB9LFxuXG4gIGZpbmRMYXN0RW50cnk6IGZ1bmN0aW9uIGZpbmRMYXN0RW50cnkocHJlZGljYXRlLCBjb250ZXh0LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnRvS2V5ZWRTZXEoKVxuICAgICAgLnJldmVyc2UoKVxuICAgICAgLmZpbmRFbnRyeShwcmVkaWNhdGUsIGNvbnRleHQsIG5vdFNldFZhbHVlKTtcbiAgfSxcblxuICBmaW5kTGFzdEtleTogZnVuY3Rpb24gZmluZExhc3RLZXkocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMudG9LZXllZFNlcSgpLnJldmVyc2UoKS5maW5kS2V5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gIH0sXG5cbiAgZmlyc3Q6IGZ1bmN0aW9uIGZpcnN0KCkge1xuICAgIHJldHVybiB0aGlzLmZpbmQocmV0dXJuVHJ1ZSk7XG4gIH0sXG5cbiAgZmxhdE1hcDogZnVuY3Rpb24gZmxhdE1hcChtYXBwZXIsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmxhdE1hcEZhY3RvcnkodGhpcywgbWFwcGVyLCBjb250ZXh0KSk7XG4gIH0sXG5cbiAgZmxhdHRlbjogZnVuY3Rpb24gZmxhdHRlbihkZXB0aCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGF0dGVuRmFjdG9yeSh0aGlzLCBkZXB0aCwgdHJ1ZSkpO1xuICB9LFxuXG4gIGZyb21FbnRyeVNlcTogZnVuY3Rpb24gZnJvbUVudHJ5U2VxKCkge1xuICAgIHJldHVybiBuZXcgRnJvbUVudHJpZXNTZXF1ZW5jZSh0aGlzKTtcbiAgfSxcblxuICBnZXQ6IGZ1bmN0aW9uIGdldChzZWFyY2hLZXksIG5vdFNldFZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZChmdW5jdGlvbiAoXywga2V5KSB7IHJldHVybiBpcyhrZXksIHNlYXJjaEtleSk7IH0sIHVuZGVmaW5lZCwgbm90U2V0VmFsdWUpO1xuICB9LFxuXG4gIGdldEluOiBmdW5jdGlvbiBnZXRJbihzZWFyY2hLZXlQYXRoLCBub3RTZXRWYWx1ZSkge1xuICAgIHZhciBuZXN0ZWQgPSB0aGlzO1xuICAgIHZhciBrZXlQYXRoID0gY29lcmNlS2V5UGF0aChzZWFyY2hLZXlQYXRoKTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgIT09IGtleVBhdGgubGVuZ3RoKSB7XG4gICAgICBpZiAoIW5lc3RlZCB8fCAhbmVzdGVkLmdldCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICAgICdJbnZhbGlkIGtleVBhdGg6IFZhbHVlIGF0IFsnICtcbiAgICAgICAgICAgIGtleVBhdGguc2xpY2UoMCwgaSkubWFwKHF1b3RlU3RyaW5nKSArXG4gICAgICAgICAgICAnXSBkb2VzIG5vdCBoYXZlIGEgLmdldCgpIG1ldGhvZDogJyArXG4gICAgICAgICAgICBuZXN0ZWRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIG5lc3RlZCA9IG5lc3RlZC5nZXQoa2V5UGF0aFtpKytdLCBOT1RfU0VUKTtcbiAgICAgIGlmIChuZXN0ZWQgPT09IE5PVF9TRVQpIHtcbiAgICAgICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmVzdGVkO1xuICAgIC8vIHZhciBzdGVwO1xuICAgIC8vIHdoaWxlICghKHN0ZXAgPSBpdGVyLm5leHQoKSkuZG9uZSkge1xuICAgIC8vICAgdmFyIGtleSA9IHN0ZXAudmFsdWU7XG4gICAgLy8gICBuZXN0ZWQgPSBuZXN0ZWQgJiYgbmVzdGVkLmdldCA/IG5lc3RlZC5nZXQoa2V5LCBOT1RfU0VUKSA6IE5PVF9TRVQ7XG4gICAgLy8gICBpZiAobmVzdGVkID09PSBOT1RfU0VUKSB7XG4gICAgLy8gICAgIHJldHVybiBub3RTZXRWYWx1ZTtcbiAgICAvLyAgIH1cbiAgICAvLyB9XG4gICAgLy8gcmV0dXJuIG5lc3RlZDtcbiAgfSxcblxuICBncm91cEJ5OiBmdW5jdGlvbiBncm91cEJ5KGdyb3VwZXIsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gZ3JvdXBCeUZhY3RvcnkodGhpcywgZ3JvdXBlciwgY29udGV4dCk7XG4gIH0sXG5cbiAgaGFzOiBmdW5jdGlvbiBoYXMoc2VhcmNoS2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KHNlYXJjaEtleSwgTk9UX1NFVCkgIT09IE5PVF9TRVQ7XG4gIH0sXG5cbiAgaGFzSW46IGZ1bmN0aW9uIGhhc0luKHNlYXJjaEtleVBhdGgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRJbihzZWFyY2hLZXlQYXRoLCBOT1RfU0VUKSAhPT0gTk9UX1NFVDtcbiAgfSxcblxuICBpc1N1YnNldDogZnVuY3Rpb24gaXNTdWJzZXQoaXRlcikge1xuICAgIGl0ZXIgPSB0eXBlb2YgaXRlci5pbmNsdWRlcyA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZXIgOiBDb2xsZWN0aW9uKGl0ZXIpO1xuICAgIHJldHVybiB0aGlzLmV2ZXJ5KGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gaXRlci5pbmNsdWRlcyh2YWx1ZSk7IH0pO1xuICB9LFxuXG4gIGlzU3VwZXJzZXQ6IGZ1bmN0aW9uIGlzU3VwZXJzZXQoaXRlcikge1xuICAgIGl0ZXIgPSB0eXBlb2YgaXRlci5pc1N1YnNldCA9PT0gJ2Z1bmN0aW9uJyA/IGl0ZXIgOiBDb2xsZWN0aW9uKGl0ZXIpO1xuICAgIHJldHVybiBpdGVyLmlzU3Vic2V0KHRoaXMpO1xuICB9LFxuXG4gIGtleU9mOiBmdW5jdGlvbiBrZXlPZihzZWFyY2hWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmZpbmRLZXkoZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiBpcyh2YWx1ZSwgc2VhcmNoVmFsdWUpOyB9KTtcbiAgfSxcblxuICBrZXlTZXE6IGZ1bmN0aW9uIGtleVNlcSgpIHtcbiAgICByZXR1cm4gdGhpcy50b1NlcSgpLm1hcChrZXlNYXBwZXIpLnRvSW5kZXhlZFNlcSgpO1xuICB9LFxuXG4gIGxhc3Q6IGZ1bmN0aW9uIGxhc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9TZXEoKS5yZXZlcnNlKCkuZmlyc3QoKTtcbiAgfSxcblxuICBsYXN0S2V5T2Y6IGZ1bmN0aW9uIGxhc3RLZXlPZihzZWFyY2hWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLnRvS2V5ZWRTZXEoKS5yZXZlcnNlKCkua2V5T2Yoc2VhcmNoVmFsdWUpO1xuICB9LFxuXG4gIG1heDogZnVuY3Rpb24gbWF4KGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gbWF4RmFjdG9yeSh0aGlzLCBjb21wYXJhdG9yKTtcbiAgfSxcblxuICBtYXhCeTogZnVuY3Rpb24gbWF4QnkobWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIG1heEZhY3RvcnkodGhpcywgY29tcGFyYXRvciwgbWFwcGVyKTtcbiAgfSxcblxuICBtaW46IGZ1bmN0aW9uIG1pbihjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIG1heEZhY3RvcnkoXG4gICAgICB0aGlzLFxuICAgICAgY29tcGFyYXRvciA/IG5lZyhjb21wYXJhdG9yKSA6IGRlZmF1bHROZWdDb21wYXJhdG9yXG4gICAgKTtcbiAgfSxcblxuICBtaW5CeTogZnVuY3Rpb24gbWluQnkobWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIG1heEZhY3RvcnkoXG4gICAgICB0aGlzLFxuICAgICAgY29tcGFyYXRvciA/IG5lZyhjb21wYXJhdG9yKSA6IGRlZmF1bHROZWdDb21wYXJhdG9yLFxuICAgICAgbWFwcGVyXG4gICAgKTtcbiAgfSxcblxuICByZXN0OiBmdW5jdGlvbiByZXN0KCkge1xuICAgIHJldHVybiB0aGlzLnNsaWNlKDEpO1xuICB9LFxuXG4gIHNraXA6IGZ1bmN0aW9uIHNraXAoYW1vdW50KSB7XG4gICAgcmV0dXJuIGFtb3VudCA9PT0gMCA/IHRoaXMgOiB0aGlzLnNsaWNlKE1hdGgubWF4KDAsIGFtb3VudCkpO1xuICB9LFxuXG4gIHNraXBMYXN0OiBmdW5jdGlvbiBza2lwTGFzdChhbW91bnQpIHtcbiAgICByZXR1cm4gYW1vdW50ID09PSAwID8gdGhpcyA6IHRoaXMuc2xpY2UoMCwgLU1hdGgubWF4KDAsIGFtb3VudCkpO1xuICB9LFxuXG4gIHNraXBXaGlsZTogZnVuY3Rpb24gc2tpcFdoaWxlKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBza2lwV2hpbGVGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgdHJ1ZSkpO1xuICB9LFxuXG4gIHNraXBVbnRpbDogZnVuY3Rpb24gc2tpcFVudGlsKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiB0aGlzLnNraXBXaGlsZShub3QocHJlZGljYXRlKSwgY29udGV4dCk7XG4gIH0sXG5cbiAgc29ydEJ5OiBmdW5jdGlvbiBzb3J0QnkobWFwcGVyLCBjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNvcnRGYWN0b3J5KHRoaXMsIGNvbXBhcmF0b3IsIG1hcHBlcikpO1xuICB9LFxuXG4gIHRha2U6IGZ1bmN0aW9uIHRha2UoYW1vdW50KSB7XG4gICAgcmV0dXJuIHRoaXMuc2xpY2UoMCwgTWF0aC5tYXgoMCwgYW1vdW50KSk7XG4gIH0sXG5cbiAgdGFrZUxhc3Q6IGZ1bmN0aW9uIHRha2VMYXN0KGFtb3VudCkge1xuICAgIHJldHVybiB0aGlzLnNsaWNlKC1NYXRoLm1heCgwLCBhbW91bnQpKTtcbiAgfSxcblxuICB0YWtlV2hpbGU6IGZ1bmN0aW9uIHRha2VXaGlsZShwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgdGFrZVdoaWxlRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQpKTtcbiAgfSxcblxuICB0YWtlVW50aWw6IGZ1bmN0aW9uIHRha2VVbnRpbChwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy50YWtlV2hpbGUobm90KHByZWRpY2F0ZSksIGNvbnRleHQpO1xuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG4gICAgcmV0dXJuIGZuKHRoaXMpO1xuICB9LFxuXG4gIHZhbHVlU2VxOiBmdW5jdGlvbiB2YWx1ZVNlcSgpIHtcbiAgICByZXR1cm4gdGhpcy50b0luZGV4ZWRTZXEoKTtcbiAgfSxcblxuICAvLyAjIyMgSGFzaGFibGUgT2JqZWN0XG5cbiAgaGFzaENvZGU6IGZ1bmN0aW9uIGhhc2hDb2RlKCkge1xuICAgIHJldHVybiB0aGlzLl9faGFzaCB8fCAodGhpcy5fX2hhc2ggPSBoYXNoQ29sbGVjdGlvbih0aGlzKSk7XG4gIH1cblxuICAvLyAjIyMgSW50ZXJuYWxcblxuICAvLyBhYnN0cmFjdCBfX2l0ZXJhdGUoZm4sIHJldmVyc2UpXG5cbiAgLy8gYWJzdHJhY3QgX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKVxufSk7XG5cbnZhciBDb2xsZWN0aW9uUHJvdG90eXBlID0gQ29sbGVjdGlvbi5wcm90b3R5cGU7XG5Db2xsZWN0aW9uUHJvdG90eXBlW0lTX0lURVJBQkxFX1NFTlRJTkVMXSA9IHRydWU7XG5Db2xsZWN0aW9uUHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBDb2xsZWN0aW9uUHJvdG90eXBlLnZhbHVlcztcbkNvbGxlY3Rpb25Qcm90b3R5cGUudG9KU09OID0gQ29sbGVjdGlvblByb3RvdHlwZS50b0FycmF5O1xuQ29sbGVjdGlvblByb3RvdHlwZS5fX3RvU3RyaW5nTWFwcGVyID0gcXVvdGVTdHJpbmc7XG5Db2xsZWN0aW9uUHJvdG90eXBlLmluc3BlY3QgPSAoQ29sbGVjdGlvblByb3RvdHlwZS50b1NvdXJjZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy50b1N0cmluZygpO1xufSk7XG5Db2xsZWN0aW9uUHJvdG90eXBlLmNoYWluID0gQ29sbGVjdGlvblByb3RvdHlwZS5mbGF0TWFwO1xuQ29sbGVjdGlvblByb3RvdHlwZS5jb250YWlucyA9IENvbGxlY3Rpb25Qcm90b3R5cGUuaW5jbHVkZXM7XG5cbm1peGluKEtleWVkQ29sbGVjdGlvbiwge1xuICAvLyAjIyMgTW9yZSBzZXF1ZW50aWFsIG1ldGhvZHNcblxuICBmbGlwOiBmdW5jdGlvbiBmbGlwKCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBmbGlwRmFjdG9yeSh0aGlzKSk7XG4gIH0sXG5cbiAgbWFwRW50cmllczogZnVuY3Rpb24gbWFwRW50cmllcyhtYXBwZXIsIGNvbnRleHQpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpdGVyYXRpb25zID0gMDtcbiAgICByZXR1cm4gcmVpZnkoXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy50b1NlcSgpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIG1hcHBlci5jYWxsKGNvbnRleHQsIFtrLCB2XSwgaXRlcmF0aW9ucysrLCB0aGlzJDEpOyB9KVxuICAgICAgICAuZnJvbUVudHJ5U2VxKClcbiAgICApO1xuICB9LFxuXG4gIG1hcEtleXM6IGZ1bmN0aW9uIG1hcEtleXMobWFwcGVyLCBjb250ZXh0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICByZXR1cm4gcmVpZnkoXG4gICAgICB0aGlzLFxuICAgICAgdGhpcy50b1NlcSgpLmZsaXAoKS5tYXAoZnVuY3Rpb24gKGssIHYpIHsgcmV0dXJuIG1hcHBlci5jYWxsKGNvbnRleHQsIGssIHYsIHRoaXMkMSk7IH0pLmZsaXAoKVxuICAgICk7XG4gIH1cbn0pO1xuXG52YXIgS2V5ZWRDb2xsZWN0aW9uUHJvdG90eXBlID0gS2V5ZWRDb2xsZWN0aW9uLnByb3RvdHlwZTtcbktleWVkQ29sbGVjdGlvblByb3RvdHlwZVtJU19LRVlFRF9TRU5USU5FTF0gPSB0cnVlO1xuS2V5ZWRDb2xsZWN0aW9uUHJvdG90eXBlW0lURVJBVE9SX1NZTUJPTF0gPSBDb2xsZWN0aW9uUHJvdG90eXBlLmVudHJpZXM7XG5LZXllZENvbGxlY3Rpb25Qcm90b3R5cGUudG9KU09OID0gQ29sbGVjdGlvblByb3RvdHlwZS50b09iamVjdDtcbktleWVkQ29sbGVjdGlvblByb3RvdHlwZS5fX3RvU3RyaW5nTWFwcGVyID0gZnVuY3Rpb24gKHYsIGspIHsgcmV0dXJuIHF1b3RlU3RyaW5nKGspICsgJzogJyArIHF1b3RlU3RyaW5nKHYpOyB9O1xuXG5taXhpbihJbmRleGVkQ29sbGVjdGlvbiwge1xuICAvLyAjIyMgQ29udmVyc2lvbiB0byBvdGhlciB0eXBlc1xuXG4gIHRvS2V5ZWRTZXE6IGZ1bmN0aW9uIHRvS2V5ZWRTZXEoKSB7XG4gICAgcmV0dXJuIG5ldyBUb0tleWVkU2VxdWVuY2UodGhpcywgZmFsc2UpO1xuICB9LFxuXG4gIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihwcmVkaWNhdGUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmlsdGVyRmFjdG9yeSh0aGlzLCBwcmVkaWNhdGUsIGNvbnRleHQsIGZhbHNlKSk7XG4gIH0sXG5cbiAgZmluZEluZGV4OiBmdW5jdGlvbiBmaW5kSW5kZXgocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kRW50cnkocHJlZGljYXRlLCBjb250ZXh0KTtcbiAgICByZXR1cm4gZW50cnkgPyBlbnRyeVswXSA6IC0xO1xuICB9LFxuXG4gIGluZGV4T2Y6IGZ1bmN0aW9uIGluZGV4T2Yoc2VhcmNoVmFsdWUpIHtcbiAgICB2YXIga2V5ID0gdGhpcy5rZXlPZihzZWFyY2hWYWx1ZSk7XG4gICAgcmV0dXJuIGtleSA9PT0gdW5kZWZpbmVkID8gLTEgOiBrZXk7XG4gIH0sXG5cbiAgbGFzdEluZGV4T2Y6IGZ1bmN0aW9uIGxhc3RJbmRleE9mKHNlYXJjaFZhbHVlKSB7XG4gICAgdmFyIGtleSA9IHRoaXMubGFzdEtleU9mKHNlYXJjaFZhbHVlKTtcbiAgICByZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgPyAtMSA6IGtleTtcbiAgfSxcblxuICByZXZlcnNlOiBmdW5jdGlvbiByZXZlcnNlKCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCByZXZlcnNlRmFjdG9yeSh0aGlzLCBmYWxzZSkpO1xuICB9LFxuXG4gIHNsaWNlOiBmdW5jdGlvbiBzbGljZShiZWdpbiwgZW5kKSB7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHNsaWNlRmFjdG9yeSh0aGlzLCBiZWdpbiwgZW5kLCBmYWxzZSkpO1xuICB9LFxuXG4gIHNwbGljZTogZnVuY3Rpb24gc3BsaWNlKGluZGV4LCByZW1vdmVOdW0gLyosIC4uLnZhbHVlcyovKSB7XG4gICAgdmFyIG51bUFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHJlbW92ZU51bSA9IE1hdGgubWF4KHJlbW92ZU51bSB8fCAwLCAwKTtcbiAgICBpZiAobnVtQXJncyA9PT0gMCB8fCAobnVtQXJncyA9PT0gMiAmJiAhcmVtb3ZlTnVtKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vIElmIGluZGV4IGlzIG5lZ2F0aXZlLCBpdCBzaG91bGQgcmVzb2x2ZSByZWxhdGl2ZSB0byB0aGUgc2l6ZSBvZiB0aGVcbiAgICAvLyBjb2xsZWN0aW9uLiBIb3dldmVyIHNpemUgbWF5IGJlIGV4cGVuc2l2ZSB0byBjb21wdXRlIGlmIG5vdCBjYWNoZWQsIHNvXG4gICAgLy8gb25seSBjYWxsIGNvdW50KCkgaWYgdGhlIG51bWJlciBpcyBpbiBmYWN0IG5lZ2F0aXZlLlxuICAgIGluZGV4ID0gcmVzb2x2ZUJlZ2luKGluZGV4LCBpbmRleCA8IDAgPyB0aGlzLmNvdW50KCkgOiB0aGlzLnNpemUpO1xuICAgIHZhciBzcGxpY2VkID0gdGhpcy5zbGljZSgwLCBpbmRleCk7XG4gICAgcmV0dXJuIHJlaWZ5KFxuICAgICAgdGhpcyxcbiAgICAgIG51bUFyZ3MgPT09IDFcbiAgICAgICAgPyBzcGxpY2VkXG4gICAgICAgIDogc3BsaWNlZC5jb25jYXQoYXJyQ29weShhcmd1bWVudHMsIDIpLCB0aGlzLnNsaWNlKGluZGV4ICsgcmVtb3ZlTnVtKSlcbiAgICApO1xuICB9LFxuXG4gIC8vICMjIyBNb3JlIGNvbGxlY3Rpb24gbWV0aG9kc1xuXG4gIGZpbmRMYXN0SW5kZXg6IGZ1bmN0aW9uIGZpbmRMYXN0SW5kZXgocHJlZGljYXRlLCBjb250ZXh0KSB7XG4gICAgdmFyIGVudHJ5ID0gdGhpcy5maW5kTGFzdEVudHJ5KHByZWRpY2F0ZSwgY29udGV4dCk7XG4gICAgcmV0dXJuIGVudHJ5ID8gZW50cnlbMF0gOiAtMTtcbiAgfSxcblxuICBmaXJzdDogZnVuY3Rpb24gZmlyc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0KDApO1xuICB9LFxuXG4gIGZsYXR0ZW46IGZ1bmN0aW9uIGZsYXR0ZW4oZGVwdGgpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgZmxhdHRlbkZhY3RvcnkodGhpcywgZGVwdGgsIGZhbHNlKSk7XG4gIH0sXG5cbiAgZ2V0OiBmdW5jdGlvbiBnZXQoaW5kZXgsIG5vdFNldFZhbHVlKSB7XG4gICAgaW5kZXggPSB3cmFwSW5kZXgodGhpcywgaW5kZXgpO1xuICAgIHJldHVybiBpbmRleCA8IDAgfHxcbiAgICAgICh0aGlzLnNpemUgPT09IEluZmluaXR5IHx8ICh0aGlzLnNpemUgIT09IHVuZGVmaW5lZCAmJiBpbmRleCA+IHRoaXMuc2l6ZSkpXG4gICAgICA/IG5vdFNldFZhbHVlXG4gICAgICA6IHRoaXMuZmluZChmdW5jdGlvbiAoXywga2V5KSB7IHJldHVybiBrZXkgPT09IGluZGV4OyB9LCB1bmRlZmluZWQsIG5vdFNldFZhbHVlKTtcbiAgfSxcblxuICBoYXM6IGZ1bmN0aW9uIGhhcyhpbmRleCkge1xuICAgIGluZGV4ID0gd3JhcEluZGV4KHRoaXMsIGluZGV4KTtcbiAgICByZXR1cm4gaW5kZXggPj0gMCAmJlxuICAgICAgKHRoaXMuc2l6ZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5zaXplID09PSBJbmZpbml0eSB8fCBpbmRleCA8IHRoaXMuc2l6ZVxuICAgICAgICA6IHRoaXMuaW5kZXhPZihpbmRleCkgIT09IC0xKTtcbiAgfSxcblxuICBpbnRlcnBvc2U6IGZ1bmN0aW9uIGludGVycG9zZShzZXBhcmF0b3IpIHtcbiAgICByZXR1cm4gcmVpZnkodGhpcywgaW50ZXJwb3NlRmFjdG9yeSh0aGlzLCBzZXBhcmF0b3IpKTtcbiAgfSxcblxuICBpbnRlcmxlYXZlOiBmdW5jdGlvbiBpbnRlcmxlYXZlKC8qLi4uY29sbGVjdGlvbnMqLykge1xuICAgIHZhciBjb2xsZWN0aW9ucyA9IFt0aGlzXS5jb25jYXQoYXJyQ29weShhcmd1bWVudHMpKTtcbiAgICB2YXIgemlwcGVkID0gemlwV2l0aEZhY3RvcnkodGhpcy50b1NlcSgpLCBJbmRleGVkU2VxLm9mLCBjb2xsZWN0aW9ucyk7XG4gICAgdmFyIGludGVybGVhdmVkID0gemlwcGVkLmZsYXR0ZW4odHJ1ZSk7XG4gICAgaWYgKHppcHBlZC5zaXplKSB7XG4gICAgICBpbnRlcmxlYXZlZC5zaXplID0gemlwcGVkLnNpemUgKiBjb2xsZWN0aW9ucy5sZW5ndGg7XG4gICAgfVxuICAgIHJldHVybiByZWlmeSh0aGlzLCBpbnRlcmxlYXZlZCk7XG4gIH0sXG5cbiAga2V5U2VxOiBmdW5jdGlvbiBrZXlTZXEoKSB7XG4gICAgcmV0dXJuIFJhbmdlKDAsIHRoaXMuc2l6ZSk7XG4gIH0sXG5cbiAgbGFzdDogZnVuY3Rpb24gbGFzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXQoLTEpO1xuICB9LFxuXG4gIHNraXBXaGlsZTogZnVuY3Rpb24gc2tpcFdoaWxlKHByZWRpY2F0ZSwgY29udGV4dCkge1xuICAgIHJldHVybiByZWlmeSh0aGlzLCBza2lwV2hpbGVGYWN0b3J5KHRoaXMsIHByZWRpY2F0ZSwgY29udGV4dCwgZmFsc2UpKTtcbiAgfSxcblxuICB6aXA6IGZ1bmN0aW9uIHppcCgvKiwgLi4uY29sbGVjdGlvbnMgKi8pIHtcbiAgICB2YXIgY29sbGVjdGlvbnMgPSBbdGhpc10uY29uY2F0KGFyckNvcHkoYXJndW1lbnRzKSk7XG4gICAgcmV0dXJuIHJlaWZ5KHRoaXMsIHppcFdpdGhGYWN0b3J5KHRoaXMsIGRlZmF1bHRaaXBwZXIsIGNvbGxlY3Rpb25zKSk7XG4gIH0sXG5cbiAgemlwV2l0aDogZnVuY3Rpb24gemlwV2l0aCh6aXBwZXIgLyosIC4uLmNvbGxlY3Rpb25zICovKSB7XG4gICAgdmFyIGNvbGxlY3Rpb25zID0gYXJyQ29weShhcmd1bWVudHMpO1xuICAgIGNvbGxlY3Rpb25zWzBdID0gdGhpcztcbiAgICByZXR1cm4gcmVpZnkodGhpcywgemlwV2l0aEZhY3RvcnkodGhpcywgemlwcGVyLCBjb2xsZWN0aW9ucykpO1xuICB9XG59KTtcblxudmFyIEluZGV4ZWRDb2xsZWN0aW9uUHJvdG90eXBlID0gSW5kZXhlZENvbGxlY3Rpb24ucHJvdG90eXBlO1xuSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGVbSVNfSU5ERVhFRF9TRU5USU5FTF0gPSB0cnVlO1xuSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGVbSVNfT1JERVJFRF9TRU5USU5FTF0gPSB0cnVlO1xuXG5taXhpbihTZXRDb2xsZWN0aW9uLCB7XG4gIC8vICMjIyBFUzYgQ29sbGVjdGlvbiBtZXRob2RzIChFUzYgQXJyYXkgYW5kIE1hcClcblxuICBnZXQ6IGZ1bmN0aW9uIGdldCh2YWx1ZSwgbm90U2V0VmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXModmFsdWUpID8gdmFsdWUgOiBub3RTZXRWYWx1ZTtcbiAgfSxcblxuICBpbmNsdWRlczogZnVuY3Rpb24gaW5jbHVkZXModmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5oYXModmFsdWUpO1xuICB9LFxuXG4gIC8vICMjIyBNb3JlIHNlcXVlbnRpYWwgbWV0aG9kc1xuXG4gIGtleVNlcTogZnVuY3Rpb24ga2V5U2VxKCkge1xuICAgIHJldHVybiB0aGlzLnZhbHVlU2VxKCk7XG4gIH1cbn0pO1xuXG5TZXRDb2xsZWN0aW9uLnByb3RvdHlwZS5oYXMgPSBDb2xsZWN0aW9uUHJvdG90eXBlLmluY2x1ZGVzO1xuU2V0Q29sbGVjdGlvbi5wcm90b3R5cGUuY29udGFpbnMgPSBTZXRDb2xsZWN0aW9uLnByb3RvdHlwZS5pbmNsdWRlcztcblxuLy8gTWl4aW4gc3ViY2xhc3Nlc1xuXG5taXhpbihLZXllZFNlcSwgS2V5ZWRDb2xsZWN0aW9uLnByb3RvdHlwZSk7XG5taXhpbihJbmRleGVkU2VxLCBJbmRleGVkQ29sbGVjdGlvbi5wcm90b3R5cGUpO1xubWl4aW4oU2V0U2VxLCBTZXRDb2xsZWN0aW9uLnByb3RvdHlwZSk7XG5cbi8vICNwcmFnbWEgSGVscGVyIGZ1bmN0aW9uc1xuXG5mdW5jdGlvbiByZWR1Y2UoY29sbGVjdGlvbiwgcmVkdWNlciwgcmVkdWN0aW9uLCBjb250ZXh0LCB1c2VGaXJzdCwgcmV2ZXJzZSkge1xuICBhc3NlcnROb3RJbmZpbml0ZShjb2xsZWN0aW9uLnNpemUpO1xuICBjb2xsZWN0aW9uLl9faXRlcmF0ZShcbiAgICBmdW5jdGlvbiAodiwgaywgYykge1xuICAgICAgaWYgKHVzZUZpcnN0KSB7XG4gICAgICAgIHVzZUZpcnN0ID0gZmFsc2U7XG4gICAgICAgIHJlZHVjdGlvbiA9IHY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWR1Y3Rpb24gPSByZWR1Y2VyLmNhbGwoY29udGV4dCwgcmVkdWN0aW9uLCB2LCBrLCBjKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJldmVyc2VcbiAgKTtcbiAgcmV0dXJuIHJlZHVjdGlvbjtcbn1cblxuZnVuY3Rpb24ga2V5TWFwcGVyKHYsIGspIHtcbiAgcmV0dXJuIGs7XG59XG5cbmZ1bmN0aW9uIGVudHJ5TWFwcGVyKHYsIGspIHtcbiAgcmV0dXJuIFtrLCB2XTtcbn1cblxuZnVuY3Rpb24gdG9KUyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnRvSlMgPT09ICdmdW5jdGlvbicgPyB2YWx1ZS50b0pTKCkgOiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gbm90KHByZWRpY2F0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gbmVnKHByZWRpY2F0ZSkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIC1wcmVkaWNhdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdFppcHBlcigpIHtcbiAgcmV0dXJuIGFyckNvcHkoYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gZGVmYXVsdE5lZ0NvbXBhcmF0b3IoYSwgYikge1xuICByZXR1cm4gYSA8IGIgPyAxIDogYSA+IGIgPyAtMSA6IDA7XG59XG5cbmZ1bmN0aW9uIGhhc2hDb2xsZWN0aW9uKGNvbGxlY3Rpb24pIHtcbiAgaWYgKGNvbGxlY3Rpb24uc2l6ZSA9PT0gSW5maW5pdHkpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICB2YXIgb3JkZXJlZCA9IGlzT3JkZXJlZChjb2xsZWN0aW9uKTtcbiAgdmFyIGtleWVkID0gaXNLZXllZChjb2xsZWN0aW9uKTtcbiAgdmFyIGggPSBvcmRlcmVkID8gMSA6IDA7XG4gIHZhciBzaXplID0gY29sbGVjdGlvbi5fX2l0ZXJhdGUoXG4gICAga2V5ZWRcbiAgICAgID8gb3JkZXJlZFxuICAgICAgICAgID8gZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgICAgICAgaCA9IDMxICogaCArIGhhc2hNZXJnZShoYXNoKHYpLCBoYXNoKGspKSB8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgOiBmdW5jdGlvbiAodiwgaykge1xuICAgICAgICAgICAgICBoID0gaCArIGhhc2hNZXJnZShoYXNoKHYpLCBoYXNoKGspKSB8IDA7XG4gICAgICAgICAgICB9XG4gICAgICA6IG9yZGVyZWRcbiAgICAgICAgICA/IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgIGggPSAzMSAqIGggKyBoYXNoKHYpIHwgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA6IGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgIGggPSBoICsgaGFzaCh2KSB8IDA7XG4gICAgICAgICAgICB9XG4gICk7XG4gIHJldHVybiBtdXJtdXJIYXNoT2ZTaXplKHNpemUsIGgpO1xufVxuXG5mdW5jdGlvbiBtdXJtdXJIYXNoT2ZTaXplKHNpemUsIGgpIHtcbiAgaCA9IGltdWwoaCwgMHhjYzllMmQ1MSk7XG4gIGggPSBpbXVsKGggPDwgMTUgfCBoID4+PiAtMTUsIDB4MWI4NzM1OTMpO1xuICBoID0gaW11bChoIDw8IDEzIHwgaCA+Pj4gLTEzLCA1KTtcbiAgaCA9IChoICsgMHhlNjU0NmI2NCB8IDApIF4gc2l6ZTtcbiAgaCA9IGltdWwoaCBeIGggPj4+IDE2LCAweDg1ZWJjYTZiKTtcbiAgaCA9IGltdWwoaCBeIGggPj4+IDEzLCAweGMyYjJhZTM1KTtcbiAgaCA9IHNtaShoIF4gaCA+Pj4gMTYpO1xuICByZXR1cm4gaDtcbn1cblxuZnVuY3Rpb24gaGFzaE1lcmdlKGEsIGIpIHtcbiAgcmV0dXJuIGEgXiBiICsgMHg5ZTM3NzliOSArIChhIDw8IDYpICsgKGEgPj4gMikgfCAwOyAvLyBpbnRcbn1cblxudmFyIE9yZGVyZWRTZXQgPSAoZnVuY3Rpb24gKFNldCQkMSkge1xuICBmdW5jdGlvbiBPcmRlcmVkU2V0KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWRcbiAgICAgID8gZW1wdHlPcmRlcmVkU2V0KClcbiAgICAgIDogaXNPcmRlcmVkU2V0KHZhbHVlKVxuICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICA6IGVtcHR5T3JkZXJlZFNldCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKHNldCkge1xuICAgICAgICAgICAgICB2YXIgaXRlciA9IFNldENvbGxlY3Rpb24odmFsdWUpO1xuICAgICAgICAgICAgICBhc3NlcnROb3RJbmZpbml0ZShpdGVyLnNpemUpO1xuICAgICAgICAgICAgICBpdGVyLmZvckVhY2goZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHNldC5hZGQodik7IH0pO1xuICAgICAgICAgICAgfSk7XG4gIH1cblxuICBpZiAoIFNldCQkMSApIE9yZGVyZWRTZXQuX19wcm90b19fID0gU2V0JCQxO1xuICBPcmRlcmVkU2V0LnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoIFNldCQkMSAmJiBTZXQkJDEucHJvdG90eXBlICk7XG4gIE9yZGVyZWRTZXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gT3JkZXJlZFNldDtcblxuICBPcmRlcmVkU2V0Lm9mID0gZnVuY3Rpb24gb2YgKC8qLi4udmFsdWVzKi8pIHtcbiAgICByZXR1cm4gdGhpcyhhcmd1bWVudHMpO1xuICB9O1xuXG4gIE9yZGVyZWRTZXQuZnJvbUtleXMgPSBmdW5jdGlvbiBmcm9tS2V5cyAodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcyhLZXllZENvbGxlY3Rpb24odmFsdWUpLmtleVNlcSgpKTtcbiAgfTtcblxuICBPcmRlcmVkU2V0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICByZXR1cm4gdGhpcy5fX3RvU3RyaW5nKCdPcmRlcmVkU2V0IHsnLCAnfScpO1xuICB9O1xuXG4gIHJldHVybiBPcmRlcmVkU2V0O1xufShTZXQpKTtcblxuZnVuY3Rpb24gaXNPcmRlcmVkU2V0KG1heWJlT3JkZXJlZFNldCkge1xuICByZXR1cm4gaXNTZXQobWF5YmVPcmRlcmVkU2V0KSAmJiBpc09yZGVyZWQobWF5YmVPcmRlcmVkU2V0KTtcbn1cblxuT3JkZXJlZFNldC5pc09yZGVyZWRTZXQgPSBpc09yZGVyZWRTZXQ7XG5cbnZhciBPcmRlcmVkU2V0UHJvdG90eXBlID0gT3JkZXJlZFNldC5wcm90b3R5cGU7XG5PcmRlcmVkU2V0UHJvdG90eXBlW0lTX09SREVSRURfU0VOVElORUxdID0gdHJ1ZTtcbk9yZGVyZWRTZXRQcm90b3R5cGUuemlwID0gSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGUuemlwO1xuT3JkZXJlZFNldFByb3RvdHlwZS56aXBXaXRoID0gSW5kZXhlZENvbGxlY3Rpb25Qcm90b3R5cGUuemlwV2l0aDtcblxuT3JkZXJlZFNldFByb3RvdHlwZS5fX2VtcHR5ID0gZW1wdHlPcmRlcmVkU2V0O1xuT3JkZXJlZFNldFByb3RvdHlwZS5fX21ha2UgPSBtYWtlT3JkZXJlZFNldDtcblxuZnVuY3Rpb24gbWFrZU9yZGVyZWRTZXQobWFwLCBvd25lcklEKSB7XG4gIHZhciBzZXQgPSBPYmplY3QuY3JlYXRlKE9yZGVyZWRTZXRQcm90b3R5cGUpO1xuICBzZXQuc2l6ZSA9IG1hcCA/IG1hcC5zaXplIDogMDtcbiAgc2V0Ll9tYXAgPSBtYXA7XG4gIHNldC5fX293bmVySUQgPSBvd25lcklEO1xuICByZXR1cm4gc2V0O1xufVxuXG52YXIgRU1QVFlfT1JERVJFRF9TRVQ7XG5mdW5jdGlvbiBlbXB0eU9yZGVyZWRTZXQoKSB7XG4gIHJldHVybiBFTVBUWV9PUkRFUkVEX1NFVCB8fFxuICAgIChFTVBUWV9PUkRFUkVEX1NFVCA9IG1ha2VPcmRlcmVkU2V0KGVtcHR5T3JkZXJlZE1hcCgpKSk7XG59XG5cbnZhciBSZWNvcmQgPSBmdW5jdGlvbiBSZWNvcmQoZGVmYXVsdFZhbHVlcywgbmFtZSkge1xuICB2YXIgaGFzSW5pdGlhbGl6ZWQ7XG5cbiAgdmFyIFJlY29yZFR5cGUgPSBmdW5jdGlvbiBSZWNvcmQodmFsdWVzKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgUmVjb3JkVHlwZSkge1xuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFJlY29yZFR5cGUpKSB7XG4gICAgICByZXR1cm4gbmV3IFJlY29yZFR5cGUodmFsdWVzKTtcbiAgICB9XG4gICAgaWYgKCFoYXNJbml0aWFsaXplZCkge1xuICAgICAgaGFzSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkZWZhdWx0VmFsdWVzKTtcbiAgICAgIHZhciBpbmRpY2VzID0gKFJlY29yZFR5cGVQcm90b3R5cGUuX2luZGljZXMgPSB7fSk7XG4gICAgICBSZWNvcmRUeXBlUHJvdG90eXBlLl9uYW1lID0gbmFtZTtcbiAgICAgIFJlY29yZFR5cGVQcm90b3R5cGUuX2tleXMgPSBrZXlzO1xuICAgICAgUmVjb3JkVHlwZVByb3RvdHlwZS5fZGVmYXVsdFZhbHVlcyA9IGRlZmF1bHRWYWx1ZXM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHByb3BOYW1lID0ga2V5c1tpXTtcbiAgICAgICAgaW5kaWNlc1twcm9wTmFtZV0gPSBpO1xuICAgICAgICBpZiAoUmVjb3JkVHlwZVByb3RvdHlwZVtwcm9wTmFtZV0pIHtcbiAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgICAgdHlwZW9mIGNvbnNvbGUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICBjb25zb2xlLndhcm4gJiZcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgJ0Nhbm5vdCBkZWZpbmUgJyArXG4gICAgICAgICAgICAgICAgcmVjb3JkTmFtZSh0aGlzJDEpICtcbiAgICAgICAgICAgICAgICAnIHdpdGggcHJvcGVydHkgXCInICtcbiAgICAgICAgICAgICAgICBwcm9wTmFtZSArXG4gICAgICAgICAgICAgICAgJ1wiIHNpbmNlIHRoYXQgcHJvcGVydHkgbmFtZSBpcyBwYXJ0IG9mIHRoZSBSZWNvcmQgQVBJLidcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0UHJvcChSZWNvcmRUeXBlUHJvdG90eXBlLCBwcm9wTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fX293bmVySUQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5fdmFsdWVzID0gTGlzdCgpLndpdGhNdXRhdGlvbnMoZnVuY3Rpb24gKGwpIHtcbiAgICAgIGwuc2V0U2l6ZSh0aGlzJDEuX2tleXMubGVuZ3RoKTtcbiAgICAgIEtleWVkQ29sbGVjdGlvbih2YWx1ZXMpLmZvckVhY2goZnVuY3Rpb24gKHYsIGspIHtcbiAgICAgICAgbC5zZXQodGhpcyQxLl9pbmRpY2VzW2tdLCB2ID09PSB0aGlzJDEuX2RlZmF1bHRWYWx1ZXNba10gPyB1bmRlZmluZWQgOiB2KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHZhciBSZWNvcmRUeXBlUHJvdG90eXBlID0gKFJlY29yZFR5cGUucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShcbiAgICBSZWNvcmRQcm90b3R5cGVcbiAgKSk7XG4gIFJlY29yZFR5cGVQcm90b3R5cGUuY29uc3RydWN0b3IgPSBSZWNvcmRUeXBlO1xuXG4gIHJldHVybiBSZWNvcmRUeXBlO1xufTtcblxuUmVjb3JkLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgc3RyID0gcmVjb3JkTmFtZSh0aGlzKSArICcgeyAnO1xuICB2YXIga2V5cyA9IHRoaXMuX2tleXM7XG4gIHZhciBrO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpICE9PSBsOyBpKyspIHtcbiAgICBrID0ga2V5c1tpXTtcbiAgICBzdHIgKz0gKGkgPyAnLCAnIDogJycpICsgayArICc6ICcgKyBxdW90ZVN0cmluZyh0aGlzJDEuZ2V0KGspKTtcbiAgfVxuICByZXR1cm4gc3RyICsgJyB9Jztcbn07XG5cblJlY29yZC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gZXF1YWxzIChvdGhlcikge1xuICByZXR1cm4gdGhpcyA9PT0gb3RoZXIgfHxcbiAgICAodGhpcy5fa2V5cyA9PT0gb3RoZXIuX2tleXMgJiYgcmVjb3JkU2VxKHRoaXMpLmVxdWFscyhyZWNvcmRTZXEob3RoZXIpKSk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLmhhc2hDb2RlID0gZnVuY3Rpb24gaGFzaENvZGUgKCkge1xuICByZXR1cm4gcmVjb3JkU2VxKHRoaXMpLmhhc2hDb2RlKCk7XG59O1xuXG4vLyBAcHJhZ21hIEFjY2Vzc1xuXG5SZWNvcmQucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIGhhcyAoaykge1xuICByZXR1cm4gdGhpcy5faW5kaWNlcy5oYXNPd25Qcm9wZXJ0eShrKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gZ2V0IChrLCBub3RTZXRWYWx1ZSkge1xuICBpZiAoIXRoaXMuaGFzKGspKSB7XG4gICAgcmV0dXJuIG5vdFNldFZhbHVlO1xuICB9XG4gIHZhciBpbmRleCA9IHRoaXMuX2luZGljZXNba107XG4gIHZhciB2YWx1ZSA9IHRoaXMuX3ZhbHVlcy5nZXQoaW5kZXgpO1xuICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IHRoaXMuX2RlZmF1bHRWYWx1ZXNba10gOiB2YWx1ZTtcbn07XG5cbi8vIEBwcmFnbWEgTW9kaWZpY2F0aW9uXG5cblJlY29yZC5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gc2V0IChrLCB2KSB7XG4gIGlmICh0aGlzLmhhcyhrKSkge1xuICAgIHZhciBuZXdWYWx1ZXMgPSB0aGlzLl92YWx1ZXMuc2V0KFxuICAgICAgdGhpcy5faW5kaWNlc1trXSxcbiAgICAgIHYgPT09IHRoaXMuX2RlZmF1bHRWYWx1ZXNba10gPyB1bmRlZmluZWQgOiB2XG4gICAgKTtcbiAgICBpZiAobmV3VmFsdWVzICE9PSB0aGlzLl92YWx1ZXMgJiYgIXRoaXMuX19vd25lcklEKSB7XG4gICAgICByZXR1cm4gbWFrZVJlY29yZCh0aGlzLCBuZXdWYWx1ZXMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdGhpcztcbn07XG5cblJlY29yZC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlIChrKSB7XG4gIHJldHVybiB0aGlzLnNldChrKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gIHZhciBuZXdWYWx1ZXMgPSB0aGlzLl92YWx1ZXMuY2xlYXIoKS5zZXRTaXplKHRoaXMuX2tleXMubGVuZ3RoKTtcbiAgcmV0dXJuIHRoaXMuX19vd25lcklEID8gdGhpcyA6IG1ha2VSZWNvcmQodGhpcywgbmV3VmFsdWVzKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUud2FzQWx0ZXJlZCA9IGZ1bmN0aW9uIHdhc0FsdGVyZWQgKCkge1xuICByZXR1cm4gdGhpcy5fdmFsdWVzLndhc0FsdGVyZWQoKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUudG9TZXEgPSBmdW5jdGlvbiB0b1NlcSAoKSB7XG4gIHJldHVybiByZWNvcmRTZXEodGhpcyk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLnRvSlMgPSBmdW5jdGlvbiB0b0pTICgpIHtcbiAgcmV0dXJuIHJlY29yZFNlcSh0aGlzKS50b0pTKCk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLl9faXRlcmF0b3IgPSBmdW5jdGlvbiBfX2l0ZXJhdG9yICh0eXBlLCByZXZlcnNlKSB7XG4gIHJldHVybiByZWNvcmRTZXEodGhpcykuX19pdGVyYXRvcih0eXBlLCByZXZlcnNlKTtcbn07XG5cblJlY29yZC5wcm90b3R5cGUuX19pdGVyYXRlID0gZnVuY3Rpb24gX19pdGVyYXRlIChmbiwgcmV2ZXJzZSkge1xuICByZXR1cm4gcmVjb3JkU2VxKHRoaXMpLl9faXRlcmF0ZShmbiwgcmV2ZXJzZSk7XG59O1xuXG5SZWNvcmQucHJvdG90eXBlLl9fZW5zdXJlT3duZXIgPSBmdW5jdGlvbiBfX2Vuc3VyZU93bmVyIChvd25lcklEKSB7XG4gIGlmIChvd25lcklEID09PSB0aGlzLl9fb3duZXJJRCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIHZhciBuZXdWYWx1ZXMgPSB0aGlzLl92YWx1ZXMuX19lbnN1cmVPd25lcihvd25lcklEKTtcbiAgaWYgKCFvd25lcklEKSB7XG4gICAgdGhpcy5fX293bmVySUQgPSBvd25lcklEO1xuICAgIHRoaXMuX3ZhbHVlcyA9IG5ld1ZhbHVlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICByZXR1cm4gbWFrZVJlY29yZCh0aGlzLCBuZXdWYWx1ZXMsIG93bmVySUQpO1xufTtcblxuUmVjb3JkLmlzUmVjb3JkID0gaXNSZWNvcmQ7XG5SZWNvcmQuZ2V0RGVzY3JpcHRpdmVOYW1lID0gcmVjb3JkTmFtZTtcbnZhciBSZWNvcmRQcm90b3R5cGUgPSBSZWNvcmQucHJvdG90eXBlO1xuUmVjb3JkUHJvdG90eXBlW0lTX1JFQ09SRF9TRU5USU5FTF0gPSB0cnVlO1xuUmVjb3JkUHJvdG90eXBlW0RFTEVURV0gPSBSZWNvcmRQcm90b3R5cGUucmVtb3ZlO1xuUmVjb3JkUHJvdG90eXBlLmdldEluID0gQ29sbGVjdGlvblByb3RvdHlwZS5nZXRJbjtcblJlY29yZFByb3RvdHlwZS5oYXNJbiA9IENvbGxlY3Rpb25Qcm90b3R5cGUuaGFzSW47XG5SZWNvcmRQcm90b3R5cGUubWVyZ2UgPSBNYXBQcm90b3R5cGUubWVyZ2U7XG5SZWNvcmRQcm90b3R5cGUubWVyZ2VXaXRoID0gTWFwUHJvdG90eXBlLm1lcmdlV2l0aDtcblJlY29yZFByb3RvdHlwZS5tZXJnZUluID0gTWFwUHJvdG90eXBlLm1lcmdlSW47XG5SZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcDtcblJlY29yZFByb3RvdHlwZS5tZXJnZURlZXBXaXRoID0gTWFwUHJvdG90eXBlLm1lcmdlRGVlcFdpdGg7XG5SZWNvcmRQcm90b3R5cGUubWVyZ2VEZWVwSW4gPSBNYXBQcm90b3R5cGUubWVyZ2VEZWVwSW47XG5SZWNvcmRQcm90b3R5cGUuc2V0SW4gPSBNYXBQcm90b3R5cGUuc2V0SW47XG5SZWNvcmRQcm90b3R5cGUudXBkYXRlID0gTWFwUHJvdG90eXBlLnVwZGF0ZTtcblJlY29yZFByb3RvdHlwZS51cGRhdGVJbiA9IE1hcFByb3RvdHlwZS51cGRhdGVJbjtcblJlY29yZFByb3RvdHlwZS53aXRoTXV0YXRpb25zID0gTWFwUHJvdG90eXBlLndpdGhNdXRhdGlvbnM7XG5SZWNvcmRQcm90b3R5cGUuYXNNdXRhYmxlID0gTWFwUHJvdG90eXBlLmFzTXV0YWJsZTtcblJlY29yZFByb3RvdHlwZS5hc0ltbXV0YWJsZSA9IE1hcFByb3RvdHlwZS5hc0ltbXV0YWJsZTtcblJlY29yZFByb3RvdHlwZVtJVEVSQVRPUl9TWU1CT0xdID0gQ29sbGVjdGlvblByb3RvdHlwZS5lbnRyaWVzO1xuUmVjb3JkUHJvdG90eXBlLnRvSlNPTiA9IChSZWNvcmRQcm90b3R5cGUudG9PYmplY3QgPSBDb2xsZWN0aW9uUHJvdG90eXBlLnRvT2JqZWN0KTtcblJlY29yZFByb3RvdHlwZS5pbnNwZWN0ID0gKFJlY29yZFByb3RvdHlwZS50b1NvdXJjZSA9IENvbGxlY3Rpb25Qcm90b3R5cGUudG9Tb3VyY2UpO1xuXG5mdW5jdGlvbiBtYWtlUmVjb3JkKGxpa2VSZWNvcmQsIHZhbHVlcywgb3duZXJJRCkge1xuICB2YXIgcmVjb3JkID0gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2YobGlrZVJlY29yZCkpO1xuICByZWNvcmQuX3ZhbHVlcyA9IHZhbHVlcztcbiAgcmVjb3JkLl9fb3duZXJJRCA9IG93bmVySUQ7XG4gIHJldHVybiByZWNvcmQ7XG59XG5cbmZ1bmN0aW9uIHJlY29yZE5hbWUocmVjb3JkKSB7XG4gIHJldHVybiByZWNvcmQuX25hbWUgfHwgcmVjb3JkLmNvbnN0cnVjdG9yLm5hbWUgfHwgJ1JlY29yZCc7XG59XG5cbmZ1bmN0aW9uIHJlY29yZFNlcShyZWNvcmQpIHtcbiAgcmV0dXJuIGtleWVkU2VxRnJvbVZhbHVlKHJlY29yZC5fa2V5cy5tYXAoZnVuY3Rpb24gKGspIHsgcmV0dXJuIFtrLCByZWNvcmQuZ2V0KGspXTsgfSkpO1xufVxuXG5mdW5jdGlvbiBzZXRQcm9wKHByb3RvdHlwZSwgbmFtZSkge1xuICB0cnkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm90b3R5cGUsIG5hbWUsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldChuYW1lKTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGludmFyaWFudCh0aGlzLl9fb3duZXJJRCwgJ0Nhbm5vdCBzZXQgb24gYW4gaW1tdXRhYmxlIHJlY29yZC4nKTtcbiAgICAgICAgdGhpcy5zZXQobmFtZSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBmYWlsZWQuIFByb2JhYmx5IElFOC5cbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBsYXp5IFNlcSBvZiBgdmFsdWVgIHJlcGVhdGVkIGB0aW1lc2AgdGltZXMuIFdoZW4gYHRpbWVzYCBpc1xuICogdW5kZWZpbmVkLCByZXR1cm5zIGFuIGluZmluaXRlIHNlcXVlbmNlIG9mIGB2YWx1ZWAuXG4gKi9cbnZhciBSZXBlYXQgPSAoZnVuY3Rpb24gKEluZGV4ZWRTZXEkJDEpIHtcbiAgZnVuY3Rpb24gUmVwZWF0KHZhbHVlLCB0aW1lcykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSZXBlYXQpKSB7XG4gICAgICByZXR1cm4gbmV3IFJlcGVhdCh2YWx1ZSwgdGltZXMpO1xuICAgIH1cbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIHRoaXMuc2l6ZSA9IHRpbWVzID09PSB1bmRlZmluZWQgPyBJbmZpbml0eSA6IE1hdGgubWF4KDAsIHRpbWVzKTtcbiAgICBpZiAodGhpcy5zaXplID09PSAwKSB7XG4gICAgICBpZiAoRU1QVFlfUkVQRUFUKSB7XG4gICAgICAgIHJldHVybiBFTVBUWV9SRVBFQVQ7XG4gICAgICB9XG4gICAgICBFTVBUWV9SRVBFQVQgPSB0aGlzO1xuICAgIH1cbiAgfVxuXG4gIGlmICggSW5kZXhlZFNlcSQkMSApIFJlcGVhdC5fX3Byb3RvX18gPSBJbmRleGVkU2VxJCQxO1xuICBSZXBlYXQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZSggSW5kZXhlZFNlcSQkMSAmJiBJbmRleGVkU2VxJCQxLnByb3RvdHlwZSApO1xuICBSZXBlYXQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gUmVwZWF0O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyAoKSB7XG4gICAgaWYgKHRoaXMuc2l6ZSA9PT0gMCkge1xuICAgICAgcmV0dXJuICdSZXBlYXQgW10nO1xuICAgIH1cbiAgICByZXR1cm4gJ1JlcGVhdCBbICcgKyB0aGlzLl92YWx1ZSArICcgJyArIHRoaXMuc2l6ZSArICcgdGltZXMgXSc7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiBnZXQgKGluZGV4LCBub3RTZXRWYWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmhhcyhpbmRleCkgPyB0aGlzLl92YWx1ZSA6IG5vdFNldFZhbHVlO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyAoc2VhcmNoVmFsdWUpIHtcbiAgICByZXR1cm4gaXModGhpcy5fdmFsdWUsIHNlYXJjaFZhbHVlKTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gc2xpY2UgKGJlZ2luLCBlbmQpIHtcbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICByZXR1cm4gd2hvbGVTbGljZShiZWdpbiwgZW5kLCBzaXplKVxuICAgICAgPyB0aGlzXG4gICAgICA6IG5ldyBSZXBlYXQoXG4gICAgICAgICAgdGhpcy5fdmFsdWUsXG4gICAgICAgICAgcmVzb2x2ZUVuZChlbmQsIHNpemUpIC0gcmVzb2x2ZUJlZ2luKGJlZ2luLCBzaXplKVxuICAgICAgICApO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUucmV2ZXJzZSA9IGZ1bmN0aW9uIHJldmVyc2UgKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuaW5kZXhPZiA9IGZ1bmN0aW9uIGluZGV4T2YgKHNlYXJjaFZhbHVlKSB7XG4gICAgaWYgKGlzKHRoaXMuX3ZhbHVlLCBzZWFyY2hWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uIGxhc3RJbmRleE9mIChzZWFyY2hWYWx1ZSkge1xuICAgIGlmIChpcyh0aGlzLl92YWx1ZSwgc2VhcmNoVmFsdWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH07XG5cbiAgUmVwZWF0LnByb3RvdHlwZS5fX2l0ZXJhdGUgPSBmdW5jdGlvbiBfX2l0ZXJhdGUgKGZuLCByZXZlcnNlKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB2YXIgaSA9IDA7XG4gICAgd2hpbGUgKGkgIT09IHNpemUpIHtcbiAgICAgIGlmIChmbih0aGlzJDEuX3ZhbHVlLCByZXZlcnNlID8gc2l6ZSAtICsraSA6IGkrKywgdGhpcyQxKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9O1xuXG4gIFJlcGVhdC5wcm90b3R5cGUuX19pdGVyYXRvciA9IGZ1bmN0aW9uIF9faXRlcmF0b3IgKHR5cGUsIHJldmVyc2UpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBzaXplID0gdGhpcy5zaXplO1xuICAgIHZhciBpID0gMDtcbiAgICByZXR1cm4gbmV3IEl0ZXJhdG9yKFxuICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gaSA9PT0gc2l6ZVxuICAgICAgICAgID8gaXRlcmF0b3JEb25lKClcbiAgICAgICAgICA6IGl0ZXJhdG9yVmFsdWUodHlwZSwgcmV2ZXJzZSA/IHNpemUgLSArK2kgOiBpKyssIHRoaXMkMS5fdmFsdWUpOyB9XG4gICAgKTtcbiAgfTtcblxuICBSZXBlYXQucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAob3RoZXIpIHtcbiAgICByZXR1cm4gb3RoZXIgaW5zdGFuY2VvZiBSZXBlYXRcbiAgICAgID8gaXModGhpcy5fdmFsdWUsIG90aGVyLl92YWx1ZSlcbiAgICAgIDogZGVlcEVxdWFsKG90aGVyKTtcbiAgfTtcblxuICByZXR1cm4gUmVwZWF0O1xufShJbmRleGVkU2VxKSk7XG5cbnZhciBFTVBUWV9SRVBFQVQ7XG5cbnZhciBJbW11dGFibGUgPSB7XG4gIENvbGxlY3Rpb246IENvbGxlY3Rpb24sXG4gIC8vIE5vdGU6IEl0ZXJhYmxlIGlzIGRlcHJlY2F0ZWRcbiAgSXRlcmFibGU6IENvbGxlY3Rpb24sXG5cbiAgU2VxOiBTZXEsXG4gIE1hcDogTWFwLFxuICBPcmRlcmVkTWFwOiBPcmRlcmVkTWFwLFxuICBMaXN0OiBMaXN0LFxuICBTdGFjazogU3RhY2ssXG4gIFNldDogU2V0LFxuICBPcmRlcmVkU2V0OiBPcmRlcmVkU2V0LFxuXG4gIFJlY29yZDogUmVjb3JkLFxuICBSYW5nZTogUmFuZ2UsXG4gIFJlcGVhdDogUmVwZWF0LFxuXG4gIGlzOiBpcyxcbiAgZnJvbUpTOiBmcm9tSlMsXG4gIGhhc2g6IGhhc2gsXG5cbiAgaXNJbW11dGFibGU6IGlzSW1tdXRhYmxlLFxuICBpc0NvbGxlY3Rpb246IGlzQ29sbGVjdGlvbixcbiAgaXNLZXllZDogaXNLZXllZCxcbiAgaXNJbmRleGVkOiBpc0luZGV4ZWQsXG4gIGlzQXNzb2NpYXRpdmU6IGlzQXNzb2NpYXRpdmUsXG4gIGlzT3JkZXJlZDogaXNPcmRlcmVkLFxuICBpc1ZhbHVlT2JqZWN0OiBpc1ZhbHVlT2JqZWN0XG59O1xuXG4vLyBOb3RlOiBJdGVyYWJsZSBpcyBkZXByZWNhdGVkXG52YXIgSXRlcmFibGUgPSBDb2xsZWN0aW9uO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBJbW11dGFibGU7XG5leHBvcnRzLkNvbGxlY3Rpb24gPSBDb2xsZWN0aW9uO1xuZXhwb3J0cy5JdGVyYWJsZSA9IEl0ZXJhYmxlO1xuZXhwb3J0cy5TZXEgPSBTZXE7XG5leHBvcnRzLk1hcCA9IE1hcDtcbmV4cG9ydHMuT3JkZXJlZE1hcCA9IE9yZGVyZWRNYXA7XG5leHBvcnRzLkxpc3QgPSBMaXN0O1xuZXhwb3J0cy5TdGFjayA9IFN0YWNrO1xuZXhwb3J0cy5TZXQgPSBTZXQ7XG5leHBvcnRzLk9yZGVyZWRTZXQgPSBPcmRlcmVkU2V0O1xuZXhwb3J0cy5SZWNvcmQgPSBSZWNvcmQ7XG5leHBvcnRzLlJhbmdlID0gUmFuZ2U7XG5leHBvcnRzLlJlcGVhdCA9IFJlcGVhdDtcbmV4cG9ydHMuaXMgPSBpcztcbmV4cG9ydHMuZnJvbUpTID0gZnJvbUpTO1xuZXhwb3J0cy5oYXNoID0gaGFzaDtcbmV4cG9ydHMuaXNJbW11dGFibGUgPSBpc0ltbXV0YWJsZTtcbmV4cG9ydHMuaXNDb2xsZWN0aW9uID0gaXNDb2xsZWN0aW9uO1xuZXhwb3J0cy5pc0tleWVkID0gaXNLZXllZDtcbmV4cG9ydHMuaXNJbmRleGVkID0gaXNJbmRleGVkO1xuZXhwb3J0cy5pc0Fzc29jaWF0aXZlID0gaXNBc3NvY2lhdGl2ZTtcbmV4cG9ydHMuaXNPcmRlcmVkID0gaXNPcmRlcmVkO1xuZXhwb3J0cy5pc1ZhbHVlT2JqZWN0ID0gaXNWYWx1ZU9iamVjdDtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpKTtcbiIsImltcG9ydCB7XG4gICAgRGFuZ2xlLFxuICAgIERpcmVjdGlvbixcbiAgICBFZGdlLFxuICAgIEVkZ2VPcGVyYXRpb24sXG4gICAgRmFjZSxcbiAgICBmYWNlcyxcbiAgICBNYXRyaXgyLFxuICAgIG1ha2VfbWF0cml4MixcbiAgICBQYXJ0aXRpb24sXG4gICAgUG9pbnQyLFxuIH0gZnJvbSAnLi9kYXRhdHlwZXMnO1xuXG5pbXBvcnQge2lzLCBMaXN0LCBNYXAsIFNldH0gZnJvbSAnaW1tdXRhYmxlJztcblxubGV0IGZhY2VfdmVydGljZXMgPSBNYXA8RmFjZSwgTWF0cml4Mj4oW1xuICAgIFtGYWNlLnQsIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFswLCAgMSwgIDIgXSxcbiAgICAgICAgWzksICAyNSwgMTVdLFxuICAgICAgICBbMTYsIDI0LCAyMl1dKV0sXG4gICAgW0ZhY2UuYiwgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzIwLCAxOSwgMThdLFxuICAgICAgICBbMTMsIDEyLCAxMV0sXG4gICAgICAgIFs4LCAgNywgIDYgXV0pXSxcbiAgICBbRmFjZS5uLCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbMiwgIDEsICAwIF0sXG4gICAgICAgIFs1LCAgNCwgIDMgXSxcbiAgICAgICAgWzgsICA3LCAgNiBdXSldLFxuICAgIFtGYWNlLmUsIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFsyMiwgMTUsIDIgXSxcbiAgICAgICAgWzIxLCAxNCwgNSBdLFxuICAgICAgICBbMjAsIDEzLCA4IF1dKV0sXG4gICAgW0ZhY2UucywgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzE2LCAyNCwgMjJdLFxuICAgICAgICBbMTcsIDIzLCAyMV0sXG4gICAgICAgIFsxOCwgMTksIDIwXV0pXSxcbiAgICBbRmFjZS53LCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbMCwgIDksICAxNl0sXG4gICAgICAgIFszLCAgMTAsIDE3XSxcbiAgICAgICAgWzYsICAxMSwgMThdXSldXG5dKTtcblxubGV0IGZhY2VfcXVhZHJhbnRzID0gTWFwPEZhY2UsIE1hdHJpeDI+KFtcbiAgICBbRmFjZS50LCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbMCwgIDEgXSxcbiAgICAgICAgWzIsICAzIF1dKV0sXG4gICAgW0ZhY2UuYiwgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzQsICA1IF0sXG4gICAgICAgIFs2LCAgNyBdXSldLFxuICAgIFtGYWNlLm4sIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFs4LCAgOSBdLFxuICAgICAgICBbMTAsIDExXV0pXSxcbiAgICBbRmFjZS5lLCBtYWtlX21hdHJpeDIoW1xuICAgICAgICBbMTIsIDEzXSxcbiAgICAgICAgWzE0LCAxNV1dKV0sXG4gICAgW0ZhY2UucywgbWFrZV9tYXRyaXgyKFtcbiAgICAgICAgWzE2LCAxN10sXG4gICAgICAgIFsxOCwgMTldXSldLFxuICAgIFtGYWNlLncsIG1ha2VfbWF0cml4MihbXG4gICAgICAgIFsyMCwgMjFdLFxuICAgICAgICBbMjIsIDIzXV0pXSxcbl0pO1xuXG5mdW5jdGlvbiBidWlsZF9lZGdlX3F1YWRyYW50X21hcHBpbmdzKCk6IFtNYXA8bnVtYmVyLCBMaXN0PEVkZ2U+PiwgTWFwPEVkZ2UsIExpc3Q8bnVtYmVyPj5dIHtcbiAgICBsZXQgcXVhZHJhbnRfMl9lZGdlcyA9IE1hcDxudW1iZXIsIExpc3Q8RWRnZT4+KCk7XG4gICAgbGV0IGVkZ2VfMl9xdWFkcmFudHMgPSBNYXA8RWRnZSwgTGlzdDxudW1iZXI+PigpO1xuXG4gICAgZm9yIChsZXQgZiBvZiBmYWNlcyl7XG4gICAgICAgIGxldCB2cyA9IGZhY2VfdmVydGljZXMuZ2V0KGYpO1xuICAgICAgICBsZXQgcXMgPSBmYWNlX3F1YWRyYW50cy5nZXQoZik7XG4gICAgICAgIGZvciAobGV0IFt4LCB5XSBvZiBbWzAsMF0sIFsxLDBdLCBbMCwxXSwgWzEsMV1dKXtcbiAgICAgICAgICAgIGxldCBxX2VkZ2VzID0gZ2V0X3F1YWRyYW50X2VkZ2VzKHZzLCB4LCB5KTtcbiAgICAgICAgICAgIHF1YWRyYW50XzJfZWRnZXMgPSBxdWFkcmFudF8yX2VkZ2VzLnNldChxcy5nZXQoeCwgeSksIHFfZWRnZXMpO1xuICAgICAgICAgICAgcV9lZGdlcy5mb3JFYWNoKGZ1bmN0aW9uIChxZSkge1xuICAgICAgICAgICAgICAgIGxldCBxID0gcXMuZ2V0KHgsIHkpO1xuICAgICAgICAgICAgICAgIGlmIChlZGdlXzJfcXVhZHJhbnRzLmhhcyhxZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWRnZV8yX3F1YWRyYW50cyA9IGVkZ2VfMl9xdWFkcmFudHMudXBkYXRlKHFlLCAoeHMpID0+IHhzLnB1c2gocSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVkZ2VfMl9xdWFkcmFudHMgPSBlZGdlXzJfcXVhZHJhbnRzLnNldChxZSwgTGlzdDxudW1iZXI+KFtxXSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFtxdWFkcmFudF8yX2VkZ2VzLCBlZGdlXzJfcXVhZHJhbnRzXTtcbn1cblxuZnVuY3Rpb24gZ2V0X3F1YWRyYW50X2VkZ2VzKG06IE1hdHJpeDIsIHg6IG51bWJlciwgeTogbnVtYmVyKTogTGlzdDxFZGdlPiB7XG4gICAgbGV0IG9mZnNldHMgPSBbXG4gICAgICAgIFswLDAsMCwxXSxcbiAgICAgICAgWzAsMCwxLDBdLFxuICAgICAgICBbMSwxLDAsMV0sXG4gICAgICAgIFsxLDEsMSwwXVxuICAgIF07XG4gICAgbGV0IGVkZ2VzID0gTGlzdDxFZGdlPigpO1xuICAgIGZvciAobGV0IFt4MSwgeTEsIHgyLCB5Ml0gb2Ygb2Zmc2V0cyl7XG4gICAgICAgIGxldCBlMSA9IG0uZ2V0KHgreDEsIHkreTEpO1xuICAgICAgICBsZXQgZTIgPSBtLmdldCh4K3gyLCB5K3kyKTtcbiAgICAgICAgaWYgKGUyIDwgZTEpe1xuICAgICAgICAgICAgZWRnZXMgPSBlZGdlcy5wdXNoKG5ldyBFZGdlKGUyLCBlMSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWRnZXMgPSBlZGdlcy5wdXNoKG5ldyBFZGdlKGUxLCBlMikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlZGdlcztcbn1cblxuZXhwb3J0IGxldCBbcXVhZHJhbnRfMl9lZGdlcywgZWRnZV8yX3F1YWRyYW50c10gPSBidWlsZF9lZGdlX3F1YWRyYW50X21hcHBpbmdzKCk7XG5cbmZ1bmN0aW9uIGdldF9xdWFkcmFudF9wYXJ0aXRpb24ocXVhZHJhbnQ6IG51bWJlciwgY3V0X2VkZ2VzOiBMaXN0PEVkZ2U+KSB7XG4gICAgbGV0IGN1cnJlbnRfcGFydGl0aW9uID0gU2V0PG51bWJlcj4oW3F1YWRyYW50XSkuYXNNdXRhYmxlKCk7XG4gICAgbGV0IGhvcml6b24gPSBMaXN0PEVkZ2U+KHF1YWRyYW50XzJfZWRnZXMuZ2V0KHF1YWRyYW50KSkuYXNNdXRhYmxlKCk7XG5cbiAgICB3aGlsZSAoaG9yaXpvbi5zaXplID4gMCl7XG4gICAgICAgIGxldCBlID0gaG9yaXpvbi5maXJzdCgpOyBob3Jpem9uID0gaG9yaXpvbi5zaGlmdCgpO1xuICAgICAgICBpZiAoY3V0X2VkZ2VzLmNvbnRhaW5zKGUpKXtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXh0X3FzID0gU2V0PG51bWJlcj4oZWRnZV8yX3F1YWRyYW50cy5nZXQoZSkpO1xuICAgICAgICBsZXQgbmV3X3FzID0gbmV4dF9xcy5zdWJ0cmFjdChjdXJyZW50X3BhcnRpdGlvbik7XG4gICAgICAgIGlmIChuZXdfcXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIG5ld19xcy5mb3JFYWNoKGZ1bmN0aW9uIChxKXtcbiAgICAgICAgICAgICAgICBob3Jpem9uLnB1c2goLi4ucXVhZHJhbnRfMl9lZGdlcy5nZXQocSkudG9BcnJheSgpKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50X3BhcnRpdGlvbi5hZGQocSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3VycmVudF9wYXJ0aXRpb24uYXNJbW11dGFibGUoKTtcbn1cblxuZnVuY3Rpb24gcmFuZ2UoeDogbnVtYmVyKXtcbiAgICBsZXQgYXJyOiBudW1iZXJbXSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeDsgaSsrKXtcbiAgICAgICAgIGFyci5wdXNoKGkpO1xuICAgIH0gXG4gICAgcmV0dXJuIGFycjtcbn1cblxuZnVuY3Rpb24gZ2V0X3BhcnRpdGlvbnMoY3V0X2VkZ2VzOiBMaXN0PEVkZ2U+KXtcbiAgICBsZXQgcGFydGl0aW9ucyA9IExpc3Q8UGFydGl0aW9uPigpLmFzTXV0YWJsZSgpO1xuICAgIGxldCBxdWFkcmFudHMgPSBTZXQ8bnVtYmVyPihyYW5nZSgyNCkpLmFzTXV0YWJsZSgpO1xuICAgIHdoaWxlIChxdWFkcmFudHMuc2l6ZSA+IDApe1xuICAgICAgICBsZXQgcSA9IHF1YWRyYW50cy5maXJzdCgpOyBxdWFkcmFudHMucmVtb3ZlKHEpO1xuICAgICAgICBsZXQgcGFydGl0aW9uID0gZ2V0X3F1YWRyYW50X3BhcnRpdGlvbihxLCBjdXRfZWRnZXMpO1xuICAgICAgICBwYXJ0aXRpb25zLnB1c2gocGFydGl0aW9uKTtcbiAgICAgICAgcXVhZHJhbnRzLnN1YnRyYWN0KHBhcnRpdGlvbik7XG4gICAgfVxuICAgIHJldHVybiBwYXJ0aXRpb25zLmFzSW1tdXRhYmxlKCk7XG59XG5cbmV4cG9ydCBjbGFzcyBGYWNlTWVzaCB7XG4gICAgcmVhZG9ubHkgdmVydGljZXM6IE1hdHJpeDI7XG4gICAgcmVhZG9ubHkgcXVhZHJhbnRzOiBNYXRyaXgyO1xuXG4gICAgY29uc3RydWN0b3IodmVydGljZXM6IE1hdHJpeDIsIHF1YWRyYW50czogTWF0cml4Mil7XG4gICAgICAgIHRoaXMudmVydGljZXMgPSB2ZXJ0aWNlcztcbiAgICAgICAgdGhpcy5xdWFkcmFudHMgPSBxdWFkcmFudHM7XG4gICAgfVxuXG4gICAgcm90YXRlKGRlZ3JlZXM6IG51bWJlcikge1xuICAgICAgICByZXR1cm4gbmV3IEZhY2VNZXNoKHRoaXMudmVydGljZXMucm90YXRlKGRlZ3JlZXMpLCB0aGlzLnF1YWRyYW50cy5yb3RhdGUoZGVncmVlcykpO1xuICAgIH1cbn1cblxuaW50ZXJmYWNlIEJveE1lc2hQYXJhbXMge1xuICAgIGRpbWVuc2lvbnM/OiBbbnVtYmVyLCBudW1iZXIsIG51bWJlcl0sXG4gICAgZmFjZV9tZXNoZXM/OiBNYXA8RmFjZSwgRmFjZU1lc2g+LFxuICAgIGN1dF9lZGdlcz86IExpc3Q8RWRnZT5cbn1cblxuZXhwb3J0IGNsYXNzIEJveE1lc2h7XG4gICAgcmVhZG9ubHkgZGltZW5zaW9uczogW251bWJlciwgbnVtYmVyLCBudW1iZXJdO1xuICAgIHJlYWRvbmx5IGZhY2VfbWVzaGVzOiBNYXA8RmFjZSwgRmFjZU1lc2g+O1xuICAgIHJlYWRvbmx5IGN1dF9lZGdlczogTGlzdDxFZGdlPjtcblxuICAgIGNvbnN0cnVjdG9yKHtkaW1lbnNpb25zLCBmYWNlX21lc2hlcywgY3V0X2VkZ2VzfTogQm94TWVzaFBhcmFtcyl7XG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IGRpbWVuc2lvbnM7XG4gICAgICAgIFxuICAgICAgICBpZiAoZmFjZV9tZXNoZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmFjZV9tZXNoZXMgPSBNYXA8RmFjZSwgRmFjZU1lc2g+KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBmIG9mIGZhY2VzKXtcbiAgICAgICAgICAgICAgICBmYWNlX21lc2hlcyA9IGZhY2VfbWVzaGVzLnNldChmLFxuICAgICAgICAgICAgICAgICAgICBuZXcgRmFjZU1lc2goZmFjZV92ZXJ0aWNlcy5nZXQoZiksIGZhY2VfcXVhZHJhbnRzLmdldChmKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmFjZV9tZXNoZXMgPSBmYWNlX21lc2hlcztcblxuICAgICAgICBpZiAoY3V0X2VkZ2VzID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgY3V0X2VkZ2VzID0gTGlzdDxFZGdlPigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3V0X2VkZ2VzID0gY3V0X2VkZ2VzO1xuICAgIH1cblxuICAgIHVwZGF0ZSh7ZGltZW5zaW9ucywgZmFjZV9tZXNoZXMsIGN1dF9lZGdlc306IEJveE1lc2hQYXJhbXMpe1xuICAgICAgICBpZiAoZGltZW5zaW9ucyA9PT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgIGRpbWVuc2lvbnMgPSB0aGlzLmRpbWVuc2lvbnM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmFjZV9tZXNoZXMgPT09IHVuZGVmaW5lZCl7XG4gICAgICAgICAgICBmYWNlX21lc2hlcyA9IHRoaXMuZmFjZV9tZXNoZXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3V0X2VkZ2VzID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgICAgY3V0X2VkZ2VzID0gdGhpcy5jdXRfZWRnZXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCb3hNZXNoKHtkaW1lbnNpb25zLCBmYWNlX21lc2hlcywgY3V0X2VkZ2VzfSk7XG4gICAgfVxuXG4gICAgY3V0KGZhY2U6IEZhY2UsIHN0YXJ0OiBQb2ludDIsIGVuZDogUG9pbnQyKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3V0X29yX3RhcGUoRWRnZU9wZXJhdGlvbi5jdXQsIGZhY2UsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIHRhcGUoZmFjZTogRmFjZSwgc3RhcnQ6IFBvaW50MiwgZW5kOiBQb2ludDIpe1xuICAgICAgICByZXR1cm4gdGhpcy5jdXRfb3JfdGFwZShFZGdlT3BlcmF0aW9uLnRhcGUsIGZhY2UsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIGN1dF9vcl90YXBlKG9wZXJhdGlvbjogRWRnZU9wZXJhdGlvbiwgZmFjZTogRmFjZSwgc3RhcnQ6IFBvaW50MiwgZW5kOiBQb2ludDIpOiBCb3hNZXNoIHtcbiAgICAgICAgbGV0IFt4MSwgeTFdID0gc3RhcnQ7XG4gICAgICAgIGxldCBbeDIsIHkyXSA9IGVuZDtcblxuICAgICAgICBpZiAoTWF0aC5hYnMoeDIgLSB4MSkgKyBNYXRoLmFicyh5MiAtIHkxKSAhPSAxKXtcbiAgICAgICAgICAgIHRocm93IGBzdGFydCBhbmQgZW5kIHBvaW50cyBvZiBjdXQvdGFwZSBhcmUgbm90IGFkamFjZW50OiAke3N0YXJ0fSBhbmQgJHtlbmR9YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmID0gdGhpcy5mYWNlX21lc2hlcy5nZXQoZmFjZSkudmVydGljZXM7XG4gICAgICAgIGxldCBmcyA9IGYuZ2V0KHgxLCB5MSk7XG4gICAgICAgIGxldCBmZSA9IGYuZ2V0KHgyLCB5Mik7XG5cbiAgICAgICAgbGV0IG5ld19lZGdlID0gbmV3IEVkZ2UoZnMsIGZlKTtcblxuICAgICAgICBsZXQgbmV3X2N1dF9lZGdlcyA9IHRoaXMuY3V0X2VkZ2VzO1xuICAgICAgICBpZiAob3BlcmF0aW9uID09IEVkZ2VPcGVyYXRpb24uY3V0ICYmICFuZXdfY3V0X2VkZ2VzLmNvbnRhaW5zKG5ld19lZGdlKSkge1xuICAgICAgICAgICAgbmV3X2N1dF9lZGdlcyA9IG5ld19jdXRfZWRnZXMucHVzaChuZXdfZWRnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3BlcmF0aW9uID09IEVkZ2VPcGVyYXRpb24udGFwZSAmJiBuZXdfY3V0X2VkZ2VzLmNvbnRhaW5zKG5ld19lZGdlKSkge1xuICAgICAgICAgICAgbmV3X2N1dF9lZGdlcyA9IG5ld19jdXRfZWRnZXMucmVtb3ZlKG5ld19jdXRfZWRnZXMuaW5kZXhPZihuZXdfZWRnZSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKHtjdXRfZWRnZXM6IG5ld19jdXRfZWRnZXN9KTtcbiAgICB9XG5cbiAgICBnZXRfcmVuZHMoKSB7XG4gICAgICAgIHJldHVybiBnZXRfcGFydGl0aW9ucyh0aGlzLmN1dF9lZGdlcyk7XG4gICAgfVxuXG4gICAgZ2V0X2ZyZWVfcmVuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldF9yZW5kcygpLmZpbHRlcih4ID0+ICF0aGlzLmlzX3BhcnRpdGlvbl9maXhlZCh4KSk7XG4gICAgfVxuXG4gICAgaXNfcGFydGl0aW9uX2ZpeGVkKHBhcnRpdGlvbjogU2V0PG51bWJlcj4pIHtcbiAgICAgICAgbGV0IGZhY2VfbWVtYmVyc2hpcCA9IHRoaXMuZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAocGFydGl0aW9uKTtcbiAgICAgICAgcmV0dXJuIGZhY2VfbWVtYmVyc2hpcC5nZXQoRmFjZS5iKSA+IDA7XG4gICAgfVxuXG4gICAgZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAocGFydGl0aW9uOiBQYXJ0aXRpb24pIHtcbiAgICAgICAgbGV0IGZhY2VfbWVtYmVyc2hpcCA9IE1hcDxGYWNlLCBudW1iZXI+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgIGZvciAobGV0IGYgb2YgZmFjZXMpIHtcbiAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XG4gICAgICAgICAgICBsZXQgcXVhZHJhbnRzID0gdGhpcy5mYWNlX21lc2hlcy5nZXQoZikucXVhZHJhbnRzO1xuICAgICAgICAgICAgcGFydGl0aW9uLmZvckVhY2goZnVuY3Rpb24gKHEpIHtcbiAgICAgICAgICAgICAgICBpZiAocXVhZHJhbnRzLmNvbnRhaW5zKHEpKXtcbiAgICAgICAgICAgICAgICAgICAgdG90YWwgKz0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGZhY2VfbWVtYmVyc2hpcC5zZXQoZiwgdG90YWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWNlX21lbWJlcnNoaXAuYXNJbW11dGFibGUoKTtcbiAgICB9XG5cbiAgICBnZXRfcXVhZHJhbnRfZmFjZShxdWFkcmFudDogbnVtYmVyKXtcbiAgICAgICAgZm9yIChsZXQgZiBvZiBmYWNlcyl7XG4gICAgICAgICAgICBpZiAodGhpcy5mYWNlX21lc2hlcy5nZXQoZikucXVhZHJhbnRzLmNvbnRhaW5zKHF1YWRyYW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0X2RhbmdsZXMoKSB7XG4gICAgICAgIGxldCByZW5kcyA9IHRoaXMuZ2V0X3JlbmRzKCk7XG4gICAgICAgIGxldCBmaXhlZF9yZW5kcyA9IHJlbmRzLmZpbHRlcih4ID0+IHRoaXMuaXNfcGFydGl0aW9uX2ZpeGVkKHgpKTtcblxuICAgICAgICBsZXQgZGFuZ2xlcyA9IExpc3Q8RGFuZ2xlPigpLmFzTXV0YWJsZSgpO1xuICAgICAgICBsZXQgaW5uZXJfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdGhpcy5nZXRfYm94X2VkZ2VzKCkuZm9yRWFjaChmdW5jdGlvbiAoW2UxLCBlMl0pIHtcbiAgICAgICAgICAgIGxldCBlXzJfcV8yX2YgPSBNYXA8RWRnZSwgTWFwPG51bWJlciwgRmFjZT4+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgICAgICBmb3IgKGxldCBlIG9mIFtlMSwgZTJdKXsgLy9pbml0aWFsaXplIGVfMl9xXzJfZlxuICAgICAgICAgICAgICAgIGxldCBpbm5lcl9tYXAgPSBNYXA8bnVtYmVyLCBGYWNlPigpLmFzTXV0YWJsZSgpO1xuICAgICAgICAgICAgICAgIGVkZ2VfMl9xdWFkcmFudHMuZ2V0KGUpLmZvckVhY2goZnVuY3Rpb24gKHEpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJfbWFwLnNldChxLCBpbm5lcl90aGlzLmdldF9xdWFkcmFudF9mYWNlKHEpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgaW5uZXJfbWFwID0gaW5uZXJfbWFwLmFzSW1tdXRhYmxlKClcbiAgICAgICAgICAgICAgICBlXzJfcV8yX2Yuc2V0KGUsIGlubmVyX21hcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlXzJfcV8yX2YgPSBlXzJfcV8yX2YuYXNJbW11dGFibGUoKTtcblxuICAgICAgICAgICAgbGV0IGVkZ2VfZGFuZ2xlcyA9IExpc3Q8RGFuZ2xlPigpLmFzTXV0YWJsZSgpO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBlcyBvZiBbW2UxLCBlMl0sIFtlMV0sIFtlMl1dKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5ld19jdXRfZWRnZXMgPSBpbm5lcl90aGlzLmN1dF9lZGdlcy5wdXNoKC4uLmVzKTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3X3BhcnRpdGlvbnMgPSBnZXRfcGFydGl0aW9ucyhuZXdfY3V0X2VkZ2VzKTtcblxuICAgICAgICAgICAgICAgIGlmIChuZXdfcGFydGl0aW9ucy5zaXplICE9IHJlbmRzLnNpemUpIHtcblxuICAgICAgICAgICAgICAgICAgICBuZXdfcGFydGl0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChucCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbmRzLmNvbnRhaW5zKG5wKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5uZXJfdGhpcy5pc19wYXJ0aXRpb25fZml4ZWQobnApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYW55X2ludGVyc2VjdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeGVkX3JlbmRzLmZvckVhY2goZnVuY3Rpb24gKGZpeGVkX3JlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnAuaW50ZXJzZWN0KGZpeGVkX3JlbmQpLnNpemUgPiAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW55X2ludGVyc2VjdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbnlfaW50ZXJzZWN0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFueV9kYW5nbGVfbWF0Y2hlcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWRnZV9kYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzKG5wLCBlZC5wYXJ0aXRpb24pKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW55X2RhbmdsZV9tYXRjaGVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFueV9kYW5nbGVfbWF0Y2hlcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcV8yX2ZzID0gTGlzdDxNYXA8bnVtYmVyLCBGYWNlPj4oKS5hc011dGFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGUgb2YgZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxXzJfZnMucHVzaChlXzJfcV8yX2YuZ2V0KGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHFfMl9mcyA9IHFfMl9mcy5hc0ltbXV0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZml4ZWRfZnMgPSBMaXN0PEZhY2U+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGFuZ2xlX2ZzID0gTGlzdDxGYWNlPigpLmFzTXV0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBxXzJfZnMuZm9yRWFjaChmdW5jdGlvbiAocV8yX2YpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxXzJfZi5lbnRyeVNlcSgpLmZvckVhY2goZnVuY3Rpb24gKFtxLCBmXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnAuY29udGFpbnMocSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhbmdsZV9mcyA9IGRhbmdsZV9mcy5wdXNoKGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZml4ZWRfZnMgPSBmaXhlZF9mcy5wdXNoKGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeGVkX2ZzID0gZml4ZWRfZnMuYXNJbW11dGFibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhbmdsZV9mcyA9IGRhbmdsZV9mcy5hc0ltbXV0YWJsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZml4ZWRfZnMudG9TZXQoKS5zaXplICE9IDEgfHwgZGFuZ2xlX2ZzLnRvU2V0KCkuc2l6ZSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGdlX2RhbmdsZXMucHVzaChuZXcgRGFuZ2xlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5wLCBMaXN0PEVkZ2U+KGVzKSwgZml4ZWRfZnMuZ2V0KDApLCBkYW5nbGVfZnMuZ2V0KDApKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVkZ2VfZGFuZ2xlcyA9IGVkZ2VfZGFuZ2xlcy5hc0ltbXV0YWJsZSgpO1xuICAgICAgICAgICAgZGFuZ2xlcy5wdXNoKC4uLmVkZ2VfZGFuZ2xlcy50b0FycmF5KCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgZGFuZ2xlcyA9IExpc3Q8RGFuZ2xlPihkYW5nbGVzLnNvcnRCeSh4ID0+IHgucGFydGl0aW9uLnNpemUpKTtcblxuICAgICAgICBsZXQgZmluYWxfZGFuZ2xlcyA9IExpc3Q8RGFuZ2xlPigpLmFzTXV0YWJsZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGFuZ2xlcy5zaXplOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBwID0gZGFuZ2xlcy5nZXQoaSkucGFydGl0aW9uO1xuXG4gICAgICAgICAgICBsZXQgYW55X3N1cGVyc2V0cyA9IGZhbHNlO1xuICAgICAgICAgICAgZGFuZ2xlcy5za2lwKGkrMSkuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGlmIChwLmlzU3Vic2V0KGQucGFydGl0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBhbnlfc3VwZXJzZXRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaWYgKCFhbnlfc3VwZXJzZXRzKSB7XG4gICAgICAgICAgICAgICAgZmluYWxfZGFuZ2xlcy5wdXNoKGRhbmdsZXMuZ2V0KGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5hbF9kYW5nbGVzID0gZmluYWxfZGFuZ2xlcy5hc0ltbXV0YWJsZSgpO1xuXG4gICAgICAgIHJldHVybiBmaW5hbF9kYW5nbGVzO1xuICAgIH1cblxuICAgIGdldF9ib3hfZWRnZXMoKSB7XG4gICAgICAgIGxldCBlZGdlcyA9IExpc3Q8W0VkZ2UsIEVkZ2VdPigpO1xuXG4gICAgICAgIGxldCB0X2JfZWRnZV9jb29yZHM6IFtudW1iZXIsIG51bWJlcl1bXVtdID0gW1xuICAgICAgICAgICAgW1swLDBdLCBbMCwxXSwgWzAsMl1dLFxuICAgICAgICAgICAgW1swLDBdLCBbMSwwXSwgWzIsMF1dLFxuICAgICAgICAgICAgW1syLDBdLCBbMiwxXSwgWzIsMl1dLFxuICAgICAgICAgICAgW1swLDJdLCBbMSwyXSwgWzIsMl1dXG4gICAgICAgIF07XG5cbiAgICAgICAgZm9yIChsZXQgZiBvZiBbRmFjZS50LCBGYWNlLmJdKSB7XG4gICAgICAgICAgICBsZXQgbSA9IHRoaXMuZmFjZV9tZXNoZXMuZ2V0KGYpLnZlcnRpY2VzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBbW3AxeCwgcDF5XSwgW3AyeCwgcDJ5XSwgW3AzeCwgcDN5XV0gb2YgdF9iX2VkZ2VfY29vcmRzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHYxID0gbS5nZXQocDF4LCBwMXkpO1xuICAgICAgICAgICAgICAgIGxldCB2MiA9IG0uZ2V0KHAyeCwgcDJ5KTtcbiAgICAgICAgICAgICAgICBsZXQgdjMgPSBtLmdldChwM3gsIHAzeSk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZTEgPSBuZXcgRWRnZSh2MSwgdjIpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGUyID0gbmV3IEVkZ2UodjIsIHYzKTtcblxuICAgICAgICAgICAgICAgIGVkZ2VzID0gZWRnZXMucHVzaChbZTEsIGUyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBmIG9mIFtGYWNlLm4sIEZhY2UuZSwgRmFjZS5zLCBGYWNlLnddKSB7XG4gICAgICAgICAgICBsZXQgbSA9IHRoaXMuZmFjZV9tZXNoZXMuZ2V0KGYpLnZlcnRpY2VzO1xuXG4gICAgICAgICAgICBsZXQgdjEgPSBtLmdldCgwLDApO1xuICAgICAgICAgICAgbGV0IHYyID0gbS5nZXQoMCwxKTtcbiAgICAgICAgICAgIGxldCB2MyA9IG0uZ2V0KDAsMik7XG5cbiAgICAgICAgICAgIGxldCBlMSA9IG5ldyBFZGdlKHYxLCB2Mik7XG5cbiAgICAgICAgICAgIGxldCBlMiA9IG5ldyBFZGdlKHYyLCB2Myk7XG5cbiAgICAgICAgICAgIGVkZ2VzID0gZWRnZXMucHVzaChbZTEsIGUyXSk7XG5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWRnZXM7XG4gICAgfSAgICBcblxuICAgIHJvdGF0ZV95KGRlZ3JlZXM6IG51bWJlcikge1xuICAgICAgICAvL3ZhbGlkYXRlIGRlZ3JlZXMgc29tZWhvd1xuXG4gICAgICAgIGlmIChkZWdyZWVzID09IDAgfHwgZGVncmVlcyA9PSAzNjApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld19mYWNlcyA9IHJvdGF0ZV95X2ZhY2VzKHRoaXMuZmFjZV9tZXNoZXMsIGRlZ3JlZXMpO1xuICAgIFxuICAgICAgICBpZiAoZGVncmVlcyA9IDE4MCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKHtmYWNlX21lc2hlczogbmV3X2ZhY2VzfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgW3gsIHksIHpdID0gdGhpcy5kaW1lbnNpb25zO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKHtkaW1lbnNpb25zOiBbeiwgeSwgeF0sIGZhY2VfbWVzaGVzOiBuZXdfZmFjZXN9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJvbGwoZGlyZWN0aW9uOiBEaXJlY3Rpb24pe1xuICAgICAgICBsZXQgW3gsIHksIHpdID0gdGhpcy5kaW1lbnNpb25zO1xuICAgICAgICBsZXQgbmV3X3gsIG5ld195LCBuZXdfejtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBEaXJlY3Rpb24ubiB8fCBkaXJlY3Rpb24gPT0gRGlyZWN0aW9uLnMpIHtcbiAgICAgICAgICAgIFtuZXdfeCwgbmV3X3ksIG5ld196XSA9IFt4LCB5LCB6XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFtuZXdfeCwgbmV3X3ksIG5ld196XSA9IFt5LCB4LCB6XTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdfZmFjZXMgPSByb2xsX2ZhY2VzKHRoaXMuZmFjZV9tZXNoZXMsIGRpcmVjdGlvbik7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKHtkaW1lbnNpb25zOiBbbmV3X3gsIG5ld195LCBuZXdfel0sIGZhY2VfbWVzaGVzOiBuZXdfZmFjZXN9KTtcbiAgICB9XG5cbiAgICBkZXNjcmlwdGlvbigpe1xuICAgICAgICBsZXQgZmFjZV9kZXNjciA9IE1hcDxGYWNlLCBzdHJpbmc+KFtcbiAgICAgICAgICAgIFtGYWNlLnQsICd0b3AnXSxcbiAgICAgICAgICAgIFtGYWNlLmIsICdib3R0b20nXSxcbiAgICAgICAgICAgIFtGYWNlLm4sICdiYWNrJ10sXG4gICAgICAgICAgICBbRmFjZS5lLCAncmlnaHQnXSxcbiAgICAgICAgICAgIFtGYWNlLnMsICdmcm9udCddLFxuICAgICAgICAgICAgW0ZhY2UudywgJ2xlZnQnXVxuICAgICAgICBdKTtcblxuICAgICAgICBsZXQgW3gsIHksIHpdID0gdGhpcy5kaW1lbnNpb25zO1xuXG4gICAgICAgIGxldCByZXN1bHQgPSBgVGhlIGJveCdzIGRpbWVuc2lvbnMgbWVhc3VyZSAke3h9IGJ5ICR7eX0gYnkgJHt6fWA7XG5cbiAgICAgICAgbGV0IHJlbmRzID0gdGhpcy5nZXRfZnJlZV9yZW5kcygpO1xuICAgICAgICBsZXQgaW5uZXJfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgcmVuZHMuZm9yRWFjaChmdW5jdGlvbiAoZnIpIHtcbiAgICAgICAgICAgIGxldCBmYWNlX21lbWJlcnNoaXAgPSBpbm5lcl90aGlzLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKGZyKTtcbiAgICAgICAgICAgIGxldCBmYWNlc19wcmVzZW50OiBGYWNlW10gPVtdO1xuICAgICAgICAgICAgZm9yIChsZXQgZiBvZiBmYWNlcyl7XG4gICAgICAgICAgICAgICAgaWYgKGZhY2VfbWVtYmVyc2hpcC5nZXQoZikgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhY2VzX3ByZXNlbnQucHVzaChmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBmYWNlc190ZXh0OiBzdHJpbmc7XG4gICAgICAgICAgICBpZiAoZmFjZXNfcHJlc2VudC5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIGZhY2VzX3RleHQgPSBmYWNlX2Rlc2NyLmdldChmYWNlc19wcmVzZW50WzBdKSArICcgZmFjZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZhY2VzX3RleHQgPSBmYWNlc19wcmVzZW50LnNsaWNlKDAsIC0xKS5tYXAoZiA9PiBmYWNlX2Rlc2NyLmdldChmKSkuam9pbignLCAnKTtcbiAgICAgICAgICAgICAgICBmYWNlc190ZXh0ICs9IGAgYW5kICR7ZmFjZV9kZXNjci5nZXQoZmFjZXNfcHJlc2VudFtmYWNlc19wcmVzZW50Lmxlbmd0aC0xXSl9IGZhY2VzYDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0ICs9IGBcXG5BIHBvcnRpb24gb2YgdGhlIGJveCdzICR7ZmFjZXNfdGV4dH0gaGFzIGJlZW4gcmVuZGVkIGZyZWU7IGl0IGxpZXMgb24gdGhlIGZsb29yIG9mZiB0byB0aGUgc2lkZS5gO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgZGFuZ2xlcyA9IHRoaXMuZ2V0X2RhbmdsZXMoKTtcblxuICAgICAgICBkYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIGxldCBmYWNlX21lbWJlcnNoaXAgPSBpbm5lcl90aGlzLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKGQucGFydGl0aW9uKTtcbiAgICAgICAgICAgIGxldCBmYWNlc19wcmVzZW50OiBGYWNlW10gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGYgb2YgZmFjZXMpe1xuICAgICAgICAgICAgICAgIGlmIChmYWNlX21lbWJlcnNoaXAuZ2V0KGYpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBmYWNlc19wcmVzZW50LnB1c2goZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgZmFjZXNfdGV4dDogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKGZhY2VzX3ByZXNlbnQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICBmYWNlc190ZXh0ID0gZmFjZV9kZXNjci5nZXQoZmFjZXNfcHJlc2VudFswXSkgKyAnIGZhY2UnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmYWNlc190ZXh0ID0gZmFjZXNfcHJlc2VudC5zbGljZSgwLCAtMSkubWFwKGYgPT4gZmFjZV9kZXNjci5nZXQoZikpLmpvaW4oJywgJyk7XG4gICAgICAgICAgICAgICAgZmFjZXNfdGV4dCArPSBgIGFuZCAke2ZhY2VfZGVzY3IuZ2V0KGZhY2VzX3ByZXNlbnRbZmFjZXNfcHJlc2VudC5sZW5ndGgtMV0pfSBmYWNlc2A7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlc3VsdCArPSBgXFxuQSBwb3J0aW9uIG9mIHRoZSBib3gncyAke2ZhY2VzX3RleHR9IHNpdHMgb24gYSBmcmVlIGhpbmdlOyBmcm9tIHRoZSAke2ZhY2VfZGVzY3IuZ2V0KGQuZnJlZV9mYWNlKX0gZmFjZSBpdCBjYW4gYmUgc3d1bmcgdG8gdGhlICR7ZmFjZV9kZXNjci5nZXQoZC5maXhlZF9mYWNlKX0uYDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHJvdGF0ZV95X2ZhY2VzKGZzOiBNYXA8RmFjZSwgRmFjZU1lc2g+LCBkZWdyZWVzOiBudW1iZXIpIHtcbiAgICBpZiAoZGVncmVlcyA9PSAwIHx8IGRlZ3JlZXMgPT0gMzYwKSB7XG4gICAgICAgIHJldHVybiBmcztcbiAgICB9XG5cbiAgICBsZXQgc2hpZnQgPSBkZWdyZWVzIC8gOTA7XG4gICAgbGV0IGZhY2VfY3ljbGUgPSBbRmFjZS5uLCBGYWNlLncsIEZhY2UucywgRmFjZS5lLCBGYWNlLm4sIEZhY2UudywgRmFjZS5zLCBGYWNlLmVdO1xuXG4gICAgbGV0IG5ld19mYWNlcyA9IE1hcDxGYWNlLCBGYWNlTWVzaD4oKTtcblxuICAgIGZvciAobGV0IGYgb2YgW0ZhY2UubiwgRmFjZS5lLCBGYWNlLnMsIEZhY2Uud10pe1xuICAgICAgICBsZXQgaW5kID0gZmFjZV9jeWNsZS5pbmRleE9mKGYpO1xuICAgICAgICBuZXdfZmFjZXMgPSBuZXdfZmFjZXMuc2V0KGYsIGZzLmdldChmYWNlX2N5Y2xlW2luZCArIHNoaWZ0XSkpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGYgb2YgW0ZhY2UudCwgRmFjZS5iXSl7XG4gICAgICAgIG5ld19mYWNlcyA9IG5ld19mYWNlcy5zZXQoZiwgZnMuZ2V0KGYpLnJvdGF0ZShkZWdyZWVzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld19mYWNlcztcbn1cblxuZnVuY3Rpb24gcm9sbF9mYWNlcyhmczogTWFwPEZhY2UsIEZhY2VNZXNoPiwgZGlyZWN0aW9uOiBEaXJlY3Rpb24pe1xuICAgIGxldCBuZXdfZmFjZXMgPSBNYXA8RmFjZSwgRmFjZU1lc2g+KCkuYXNNdXRhYmxlKCk7XG5cbiAgICBpZiAoZGlyZWN0aW9uID09IERpcmVjdGlvbi5uKSB7XG4gICAgICAgIG5ld19mYWNlcy5zZXQoXG4gICAgICAgICAgICBGYWNlLm4sIGZzLmdldChGYWNlLnQpLnJvdGF0ZSgxODApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLnQsIGZzLmdldChGYWNlLnMpKS5zZXQoXG4gICAgICAgICAgICBGYWNlLnMsIGZzLmdldChGYWNlLmIpKS5zZXQoXG4gICAgICAgICAgICBGYWNlLmIsIGZzLmdldChGYWNlLm4pLnJvdGF0ZSgxODApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLmUsIGZzLmdldChGYWNlLmUpLnJvdGF0ZSg5MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UudywgZnMuZ2V0KEZhY2Uudykucm90YXRlKDI3MCkpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERpcmVjdGlvbi5zKSB7XG4gICAgICAgIG5ld19mYWNlcy5zZXQoXG4gICAgICAgICAgICBGYWNlLnMsIGZzLmdldChGYWNlLnQpKS5zZXQoXG4gICAgICAgICAgICBGYWNlLnQsIGZzLmdldChGYWNlLm4pLnJvdGF0ZSgxODApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLm4sIGZzLmdldChGYWNlLmIpKS5zZXQoXG4gICAgICAgICAgICBGYWNlLmIsIGZzLmdldChGYWNlLnMpLnJvdGF0ZSgxODApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLmUsIGZzLmdldChGYWNlLmUpLnJvdGF0ZSgyNzApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLncsIGZzLmdldChGYWNlLncpLnJvdGF0ZSg5MCkpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IERpcmVjdGlvbi5lKSB7XG4gICAgICAgIG5ld19mYWNlcy5zZXQoXG4gICAgICAgICAgICBGYWNlLmUsIGZzLmdldChGYWNlLnQpLnJvdGF0ZSg5MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UudCwgZnMuZ2V0KEZhY2Uudykucm90YXRlKDkwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS53LCBmcy5nZXQoRmFjZS5iKS5yb3RhdGUoMjcwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5iLCBmcy5nZXQoRmFjZS5lKS5yb3RhdGUoMjcwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5uLCBmcy5nZXQoRmFjZS5uKS5yb3RhdGUoMjcwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5zLCBmcy5nZXQoRmFjZS5zKS5yb3RhdGUoOTApKTtcbiAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PSBEaXJlY3Rpb24udykge1xuICAgICAgICBuZXdfZmFjZXMuc2V0KFxuICAgICAgICAgICAgRmFjZS53LCBmcy5nZXQoRmFjZS50KS5yb3RhdGUoMjcwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS50LCBmcy5nZXQoRmFjZS5lKS5yb3RhdGUoMjcwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5lLCBmcy5nZXQoRmFjZS5iKS5yb3RhdGUoOTApKS5zZXQoXG4gICAgICAgICAgICBGYWNlLmIsIGZzLmdldChGYWNlLncpLnJvdGF0ZSg5MCkpLnNldChcbiAgICAgICAgICAgIEZhY2UubiwgZnMuZ2V0KEZhY2Uubikucm90YXRlKDkwKSkuc2V0KFxuICAgICAgICAgICAgRmFjZS5zLCBmcy5nZXQoRmFjZS5zKS5yb3RhdGUoMjcwKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld19mYWNlcy5hc0ltbXV0YWJsZSgpO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXN0KCl7XG4gICAgbGV0IGJtID0gbmV3IEJveE1lc2goe2RpbWVuc2lvbnM6IFsyLDMsNF19KTtcblxuICAgIGxldCBibTIgPSBibS5jdXQoRmFjZS50LCBbMCwwXSwgWzEsMF0pLmN1dChGYWNlLnQsIFsxLDBdLCBbMSwxXSkuY3V0KEZhY2UudCwgWzEsMV0sIFswLDFdKS5jdXQoRmFjZS50LCBbMCwxXSwgWzAsMF0pO1xuICAgIGxldCBibTMgPSBibTIuY3V0KEZhY2UudCwgWzAsMV0sIFswLDJdKS5jdXQoRmFjZS5zLCBbMCwgMF0sIFswLCAxXSkuY3V0KEZhY2UucywgWzAsMV0sIFsxLDFdKS5jdXQoRmFjZS5zLCBbMSwxXSwgWzEsMF0pLmN1dChGYWNlLnQsIFsxLCAyXSwgWzEsMV0pXG5cbiAgICBsZXQgYm00ID0gYm0uY3V0KEZhY2UudCwgWzAsMF0sIFsxLDBdKS5yb2xsKERpcmVjdGlvbi5zKS5jdXQoRmFjZS50LCBbMCwyXSwgWzAsMV0pLmN1dChGYWNlLnQsIFswLDFdLCBbMSwxXSkuY3V0KEZhY2UudCwgWzEsMV0sIFsxLDJdKTtcblxuICAgIGxldCBibTUgPSBibS5jdXQoRmFjZS5uLCBbMCwwXSwgWzEsMF0pLmN1dChGYWNlLm4sIFsxLDBdLCBbMiwwXSkuY3V0KEZhY2UubiwgWzIsMF0sIFsyLDFdKS5jdXQoRmFjZS5uLCBbMiwxXSwgWzEsMV0pLmN1dChGYWNlLm4sIFsxLDFdLCBbMCwxXSkuY3V0KEZhY2UubiwgWzEsMV0sIFsxLCAwXSkuY3V0KEZhY2UubiwgWzAsMV0sIFswLDBdKTtcblxuICAgIGxldCBibTYgPSBibS5jdXQoRmFjZS50LCBbMCwwXSwgWzAsMV0pLmN1dChGYWNlLnQsIFswLDFdLCBbMSwxXSkuY3V0KEZhY2UudCwgWzEsMV0sIFsxLDBdKTtcbiAgICBsZXQgYm03ID0gYm0yLmN1dChGYWNlLnQsIFswLDFdLCBbMCwyXSkuY3V0KEZhY2UudCwgWzEsMV0sIFsxLDJdKTtcblxuICAgIGxldCBibTggPSAoYm0uY3V0KEZhY2UudCwgWzAsMF0sIFsxLDBdKS5jdXQoRmFjZS50LCBbMSwwXSwgWzIsMF0pLmN1dChGYWNlLnQsIFsyLDBdLCBbMiwxXSkuY3V0KEZhY2UudCwgWzIsMV0sIFsyLDJdKVxuICAgICAgICAgICAgIC5jdXQoRmFjZS50LCBbMCwyXSwgWzAsMV0pLmN1dChGYWNlLnQsIFswLDFdLCBbMSwxXSkuY3V0KEZhY2UudCwgWzEsMV0sIFsxLDJdKVxuICAgICAgICAgICAgIC5jdXQoRmFjZS5zLCBbMSwwXSwgWzEsMV0pLmN1dChGYWNlLnMsIFsxLDFdLCBbMCwxXSlcbiAgICAgICAgICAgICAuY3V0KEZhY2UudywgWzAsMF0sIFswLDFdKS5jdXQoRmFjZS53LCBbMCwxXSwgWzEsMV0pLmN1dChGYWNlLncsIFsxLDFdLCBbMiwxXSkpO1xuXG4gICAgbGV0IGJtczogQm94TWVzaFtdID0gW2JtLCBibTIsIGJtMywgYm00LCBibTUsIGJtNiwgYm03LCBibThdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBiID0gYm1zW2ldO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdCb3ggIycsIGkrMSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKGIuZGVzY3JpcHRpb24oKSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHtNYXB9IGZyb20gJ2ltbXV0YWJsZSc7XG5pbXBvcnQge0RpcmVjdGlvbiwgRWRnZU9wZXJhdGlvbiwgRWRnZURpcmVjdGlvbiwgRmFjZSwgUmVsYXRpdmVQb3NpdGlvbiwgUmVuZE9wZXJhdGlvbn0gZnJvbSAnLi9kYXRhdHlwZXMnO1xuXG5leHBvcnQgdHlwZSBUb2tlbiA9IHN0cmluZztcblxuZXhwb3J0IHR5cGUgSG9yaXpQb3NpdGlvbldvcmQgPSAnbGVmdCcgfCAnY2VudGVyJyB8ICdyaWdodCc7XG5leHBvcnQgdHlwZSBWZXJ0UG9zaXRpb25Xb3JkID0gJ3RvcCcgfCAnbWlkZGxlJyB8ICdib3R0b20nO1xuXG5leHBvcnQgdHlwZSBQb3NpdGlvbldvcmQgPSBIb3JpelBvc2l0aW9uV29yZCB8IFZlcnRQb3NpdGlvbldvcmQ7XG5leHBvcnQgbGV0IHdvcmRfMl9yZWxhdGl2ZV9wb3NpdGlvbiA9IE1hcDxQb3NpdGlvbldvcmQsIFJlbGF0aXZlUG9zaXRpb24+KFtcbiAgICBbJ2xlZnQnLCBSZWxhdGl2ZVBvc2l0aW9uLmxlZnRdLFxuICAgIFsnY2VudGVyJywgUmVsYXRpdmVQb3NpdGlvbi5jZW50ZXJdLFxuICAgIFsncmlnaHQnLCBSZWxhdGl2ZVBvc2l0aW9uLnJpZ2h0XSxcbiAgICBbJ3RvcCcsIFJlbGF0aXZlUG9zaXRpb24udG9wXSxcbiAgICBbJ21pZGRsZScsIFJlbGF0aXZlUG9zaXRpb24ubWlkZGxlXSxcbiAgICBbJ2JvdHRvbScsIFJlbGF0aXZlUG9zaXRpb24uYm90dG9tXVxuXSk7XG5cbmV4cG9ydCB0eXBlIEZhY2VXb3JkID0gJ2JhY2snIHwgJ2Zyb250JyB8ICdyaWdodCcgfCAnbGVmdCcgfCAndG9wJyB8ICdib3R0b20nO1xuZXhwb3J0IGxldCB3b3JkXzJfZmFjZSA9IE1hcDxGYWNlV29yZCwgRmFjZT4oW1xuICAgIFsnYmFjaycsIEZhY2Uubl0sXG4gICAgWydmcm9udCcsIEZhY2Uuc10sXG4gICAgWydyaWdodCcsIEZhY2UuZV0sXG4gICAgWydsZWZ0JywgRmFjZS53XSxcbiAgICBbJ3RvcCcsIEZhY2UudF0sXG4gICAgWydib3R0b20nLCBGYWNlLmJdXG5dKTtcblxuZXhwb3J0IHR5cGUgUmVuZE9wV29yZCA9ICdvcGVuJyB8ICdjbG9zZSc7XG5leHBvcnQgbGV0IHdvcmRfMl9yZW5kX29wID0gTWFwPFJlbmRPcFdvcmQsIFJlbmRPcGVyYXRpb24+KFtcbiAgICBbJ29wZW4nLCBSZW5kT3BlcmF0aW9uLm9wZW5dLFxuICAgIFsnY2xvc2UnLCBSZW5kT3BlcmF0aW9uLmNsb3NlXVxuXSk7XG5cbmV4cG9ydCB0eXBlIEVkZ2VPcFdvcmQgPSAnY3V0JyB8ICd0YXBlJztcbmV4cG9ydCBsZXQgd29yZF8yX2VkZ2Vfb3AgPSBNYXA8RWRnZU9wV29yZCwgRWRnZU9wZXJhdGlvbj4oW1xuICAgIFsnY3V0JywgRWRnZU9wZXJhdGlvbi5jdXRdLFxuICAgIFsndGFwZScsIEVkZ2VPcGVyYXRpb24udGFwZV1cbl0pO1xuXG5leHBvcnQgdHlwZSBFZGdlRGlyV29yZCA9ICdob3Jpem9udGFsbHknIHwgJ3ZlcnRpY2FsbHknO1xuZXhwb3J0IGxldCB3b3JkXzJfZWRnZV9kaXIgPSBNYXA8RWRnZURpcldvcmQsIEVkZ2VEaXJlY3Rpb24+KFtcbiAgICBbJ2hvcml6b250YWxseScsIEVkZ2VEaXJlY3Rpb24uaG9yaXpvbnRhbF0sXG4gICAgWyd2ZXJ0aWNhbGx5JywgRWRnZURpcmVjdGlvbi52ZXJ0aWNhbF1cbl0pO1xuXG5leHBvcnQgdHlwZSBSb3RhdGVZRGlyV29yZCA9IFwibGVmdFwiIHwgXCJyaWdodFwiO1xuZXhwb3J0IGxldCB3b3JkXzJfZGVncmVlcyA9IE1hcDxSb3RhdGVZRGlyV29yZCwgbnVtYmVyPihbXG4gICAgWydsZWZ0JywgMjcwXSxcbiAgICBbJ3JpZ2h0JywgOTBdXG5dKTtcblxuZXhwb3J0IHR5cGUgUm9sbERpcldvcmQgPSBcImZvcndhcmRcIiB8IFwiYmFja3dhcmRcIiB8IFwibGVmdFwiIHwgXCJyaWdodFwiO1xuZXhwb3J0IGxldCB3b3JkXzJfZGlyID0gTWFwPFJvbGxEaXJXb3JkLCBEaXJlY3Rpb24+KFtcbiAgICBbJ2ZvcndhcmQnLCBEaXJlY3Rpb24ubl0sXG4gICAgWydiYWNrd2FyZCcsIERpcmVjdGlvbi5zXSxcbiAgICBbJ2xlZnQnLCBEaXJlY3Rpb24ud10sXG4gICAgWydyaWdodCcsIERpcmVjdGlvbi5lXVxuXSk7IiwiaW1wb3J0IHtcbiAgICBDb2xsZWN0aW9uLFxuICAgIGhhc2gsXG4gICAgaXNJbW11dGFibGUsXG4gICAgTGlzdCxcbiAgICBNYXAsXG4gICAgU2V0XG59IGZyb20gJ2ltbXV0YWJsZSc7XG5cbmV4cG9ydCB0eXBlIFBhcnRpdGlvbiA9IFNldDxudW1iZXI+O1xuXG5leHBvcnQgY2xhc3MgRWRnZSB7XG4gICAgcmVhZG9ubHkgc3RhcnQ6IG51bWJlcjtcbiAgICByZWFkb25seSBlbmQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHN0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyKXtcbiAgICAgICAgaWYgKGVuZCA8IHN0YXJ0KXtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQgPSBlbmQ7XG4gICAgICAgICAgICB0aGlzLmVuZCA9IHN0YXJ0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlcXVhbHMob3RoZXI6RWRnZSl7XG4gICAgICAgIHJldHVybiAodGhpcy5zdGFydCA9PSBvdGhlci5zdGFydCAmJiB0aGlzLmVuZCA9PSBvdGhlci5lbmQpO1xuICAgIH1cblxuICAgIGhhc2hDb2RlKCkge1xuICAgICAgICByZXR1cm4gaGFzaChoYXNoKHRoaXMuc3RhcnQpICsgaGFzaCh0aGlzLmVuZCkpO1xuICAgICAgICAvLyBmdWNrXG4gICAgICAgIC8vIHJldHVybiAoIHRoaXMuZW5kIDw8IDE2ICkgXiB0aGlzLnN0YXJ0O1xuICAgIH1cbn1cblxuZXhwb3J0IGVudW0gRmFjZSB7XG4gICAgbiA9IDAsXG4gICAgcyA9IDEsXG4gICAgZSA9IDIsXG4gICAgdyA9IDMsXG4gICAgdCA9IDQsXG4gICAgYiA9IDVcbn1cblxuZXhwb3J0IGxldCBmYWNlcyA9IFtGYWNlLm4sIEZhY2UucywgRmFjZS5lLCBGYWNlLncsIEZhY2UudCwgRmFjZS5iXTtcblxuZXhwb3J0IGVudW0gRGlyZWN0aW9uIHtcbiAgICBuID0gMCxcbiAgICBzID0gMSxcbiAgICBlID0gMixcbiAgICB3ID0gM1xufVxuXG5leHBvcnQgbGV0IGRpcmVjdGlvbnMgPSBbRGlyZWN0aW9uLm4sIERpcmVjdGlvbi5zLCBEaXJlY3Rpb24uZSwgRGlyZWN0aW9uLnddO1xuXG5leHBvcnQgbGV0IGRpcmVjdGlvbl8yX2ZhY2UgPSBNYXA8RGlyZWN0aW9uLCBGYWNlPihbXG4gICAgW0RpcmVjdGlvbi5uLCBGYWNlLm5dLFxuICAgIFtEaXJlY3Rpb24ucywgRmFjZS5zXSxcbiAgICBbRGlyZWN0aW9uLmUsIEZhY2UuZV0sXG4gICAgW0RpcmVjdGlvbi53LCBGYWNlLnddXG5dKTtcblxuZXhwb3J0IGNsYXNzIERhbmdsZSB7XG4gICAgcmVhZG9ubHkgcGFydGl0aW9uOiBQYXJ0aXRpb247XG4gICAgcmVhZG9ubHkgZWRnZXM6IExpc3Q8RWRnZT47XG4gICAgcmVhZG9ubHkgZml4ZWRfZmFjZTogRmFjZTtcbiAgICByZWFkb25seSBmcmVlX2ZhY2U6IEZhY2U7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJ0aXRpb246IFBhcnRpdGlvbiwgZWRnZXM6IExpc3Q8RWRnZT4sIGZpeGVkX2ZhY2U6IEZhY2UsIGZyZWVfZmFjZTogRmFjZSkge1xuICAgICAgICB0aGlzLnBhcnRpdGlvbiA9IHBhcnRpdGlvbjtcbiAgICAgICAgdGhpcy5lZGdlcyA9IGVkZ2VzO1xuICAgICAgICB0aGlzLmZpeGVkX2ZhY2UgPSBmaXhlZF9mYWNlO1xuICAgICAgICB0aGlzLmZyZWVfZmFjZSA9IGZyZWVfZmFjZTtcbiAgICB9XG5cbiAgICBlcXVhbHMob3RoZXI6IERhbmdsZSl7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLnBhcnRpdGlvbi5lcXVhbHMob3RoZXIucGFydGl0aW9uKVxuICAgICAgICAgICAgJiYgdGhpcy5lZGdlcy5lcXVhbHMob3RoZXIuZWRnZXMpXG4gICAgICAgICAgICAmJiB0aGlzLmZpeGVkX2ZhY2UgPT09IG90aGVyLmZpeGVkX2ZhY2VcbiAgICAgICAgICAgICYmIHRoaXMuZnJlZV9mYWNlID09PSBvdGhlci5mcmVlX2ZhY2UpO1xuICAgIH1cblxuICAgIGhhc2hDb2RlKCkge1xuICAgICAgICByZXR1cm4gaGFzaChoYXNoKHRoaXMucGFydGl0aW9uKSArIGhhc2godGhpcy5lZGdlcykgKyBoYXNoKHRoaXMuZml4ZWRfZmFjZSkgKyBoYXNoKHRoaXMuZnJlZV9mYWNlKSk7XG4gICAgICAgIC8vbGV0IGZhY2VzX2hhc2ggPSAodGhpcy5maXhlZF9mYWNlIDw8IDE2KSBeIHRoaXMuZnJlZV9mYWNlOyAvL2Z1Y2shXG4gICAgICAgIC8vcmV0dXJuIHRoaXMucGFydGl0aW9uLmhhc2hDb2RlKCkgKyB0aGlzLmVkZ2VzLmhhc2hDb2RlKCkgKyBmYWNlc19oYXNoO1xuICAgIH1cbn1cblxuZXhwb3J0IHR5cGUgUG9pbnQyID0gW251bWJlciwgbnVtYmVyXTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VfbWF0cml4MihkYXRhX29iajogbnVtYmVyW11bXSkge1xuICAgIGxldCBkaW1feSA9IGRhdGFfb2JqLmxlbmd0aDtcbiAgICBsZXQgZGltX3ggPSBkYXRhX29ialswXS5sZW5ndGg7XG5cbiAgICBsZXQgZGF0YSA9IG5ldyBJbnQxNkFycmF5KGRhdGFfb2JqLnJlZHVjZSgoeCwgeSkgPT4geC5jb25jYXQoeSkpKTtcbiAgICAvLyBUT0RPIGNvbXBsYWluIGlmIHRoZSB0b3RhbCBsZW5ndGggaXMgd3JvbmdcbiAgICByZXR1cm4gbmV3IE1hdHJpeDIoZGF0YSwgZGltX3gsIGRpbV95KTtcbn1cblxuZXhwb3J0IGNsYXNzIE1hdHJpeDIge1xuICAgIHJlYWRvbmx5IGRpbV94OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgZGltX3k6IG51bWJlcjtcbiAgICByZWFkb25seSBkYXRhOiBJbnQxNkFycmF5O1xuICAgIFxuICAgIGNvbnN0cnVjdG9yIChkYXRhOiBJbnQxNkFycmF5LCBkaW1feDogbnVtYmVyLCBkaW1feTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuZGltX3ggPSBkaW1feDtcbiAgICAgICAgdGhpcy5kaW1feSA9IGRpbV95O1xuICAgIH1cblxuICAgIGdldCh4OiBudW1iZXIsIHk6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGFbeSAqIHRoaXMuZGltX3ggKyB4XTtcbiAgICB9XG5cbiAgICBzZXQoeDogbnVtYmVyLCB5OiBudW1iZXIsIHZhbHVlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhW3kgKiB0aGlzLmRpbV94ICsgeF0gPSB2YWx1ZTtcbiAgICB9XG5cbiAgICByb3RhdGUoZGVncmVlczogbnVtYmVyKTogTWF0cml4MiB7XG4gICAgICAgIC8vdmFsaWRhdGUgaW5wdXQgYmV0dGVyXG5cbiAgICAgICAgaWYgKGRlZ3JlZXMgPT0gMzYwIHx8IGRlZ3JlZXMgPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuX3JvdGF0aW9ucyA9IGRlZ3JlZXMgLyA5MDtcbiAgICAgICAgbGV0IG06IE1hdHJpeDIgPSB0aGlzO1xuICAgICAgICBjb25zdCBkaW1feCA9IHRoaXMuZGltX3g7XG4gICAgICAgIGNvbnN0IGRpbV95ID0gdGhpcy5kaW1feTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuX3JvdGF0aW9uczsgaSsrKXtcbiAgICAgICAgICAgIGxldCBuZXdfZGF0YSA9IG5ldyBJbnQxNkFycmF5KGRpbV94ICogZGltX3kpO1xuICAgICAgICAgICAgbGV0IG5ld19tYXQyID0gbmV3IE1hdHJpeDIobmV3X2RhdGEsIGRpbV95LCBkaW1feCk7XG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IGRpbV95OyB5Kyspe1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgZGltX3g7IHgrKyl7XG4gICAgICAgICAgICAgICAgICAgIG5ld19tYXQyLnNldChkaW1feSAtIDEgLSB5LCB4LCBtLmdldCh4LCB5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbSA9IG5ld19tYXQyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtXG4gICAgfVxuXG4gICAgY29udGFpbnModmFsdWU6IG51bWJlcik6IGJvb2xlYW57XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuaW5kZXhPZih2YWx1ZSkgIT09IC0xO1xuICAgIH1cbn1cblxuXG5leHBvcnQgZW51bSBDYXJkYm9hcmRFZGdlIHtcbiAgICBpbnRhY3QgPSAwLFxuICAgIGN1dCA9IDEsXG59XG5cbmV4cG9ydCBlbnVtIFRhcGVFZGdlIHtcbiAgICB1bnRhcGVkID0gMCxcbiAgICB0YXBlZCA9IDEsXG4gICAgY3V0ID0gMlxufVxuXG5leHBvcnQgY2xhc3MgRWRnZVN0YXRlIHtcbiAgICByZWFkb25seSBjYXJkYm9hcmQ6IENhcmRib2FyZEVkZ2U7XG4gICAgcmVhZG9ubHkgdGFwZTogVGFwZUVkZ2U7XG5cbiAgICBjb25zdHJ1Y3RvciAoY2FyZGJvYXJkPzogQ2FyZGJvYXJkRWRnZSwgdGFwZT86IFRhcGVFZGdlKXtcbiAgICAgICAgaWYgKGNhcmRib2FyZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjYXJkYm9hcmQgPSBDYXJkYm9hcmRFZGdlLmludGFjdDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNhcmRib2FyZCA9IGNhcmRib2FyZDtcblxuICAgICAgICBpZiAodGFwZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YXBlID0gVGFwZUVkZ2UudW50YXBlZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRhcGUgPSB0YXBlO1xuICAgIH1cblxuICAgIGN1dCgpIHtcbiAgICAgICAgbGV0IG5ld190YXBlOiBUYXBlRWRnZTtcbiAgICAgICAgaWYgKHRoaXMudGFwZSA9PSBUYXBlRWRnZS50YXBlZCkge1xuICAgICAgICAgICAgbmV3X3RhcGUgPSBUYXBlRWRnZS5jdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdfdGFwZSA9IHRoaXMudGFwZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBFZGdlU3RhdGUoQ2FyZGJvYXJkRWRnZS5jdXQsIG5ld190YXBlKTtcbiAgICB9XG5cblxuICAgIGFwcGx5X3RhcGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRWRnZVN0YXRlKHRoaXMuY2FyZGJvYXJkLCBUYXBlRWRnZS50YXBlZCk7XG4gICAgfVxufVxuXG5leHBvcnQgZW51bSBFZGdlT3BlcmF0aW9uIHtcbiAgICBjdXQgPSAwLFxuICAgIHRhcGUgPSAxXG59XG5cbmV4cG9ydCBlbnVtIEVkZ2VEaXJlY3Rpb24ge1xuICAgIGhvcml6b250YWwgPSAwLFxuICAgIHZlcnRpY2FsID0gMVxufVxuXG5leHBvcnQgZW51bSBSZW5kU3RhdGUge1xuICAgIGNsb3NlZCA9IDAsXG4gICAgb3BlbiA9IDFcbn1cblxuZXhwb3J0IGVudW0gUmVuZE9wZXJhdGlvbiB7XG4gICAgY2xvc2UgPSAwLFxuICAgIG9wZW4gPSAxXG59XG5cbmV4cG9ydCBlbnVtIFNwaWxsYWdlTGV2ZWwge1xuICAgIG5vbmUgPSAwLFxuICAgIGxpZ2h0ID0gMSxcbiAgICBoZWF2eSA9IDJcbn1cblxuZXhwb3J0IGVudW0gV2VpZ2h0IHtcbiAgICBlbXB0eSA9IDAsXG4gICAgdmVyeV9saWdodCA9IDEsXG4gICAgbGlnaHQgPSAyLFxuICAgIG1lZGl1bSA9IDMsXG4gICAgaGVhdnkgPSA0LFxuICAgIHZlcnlfaGVhdnkgPSA1XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBJdGVtIHtcbiAgICBhYnN0cmFjdCB3ZWlnaHQoKTogV2VpZ2h0O1xuICAgIGFic3RyYWN0IG5hbWUoKTogc3RyaW5nO1xuICAgIGFic3RyYWN0IHByZV9nZXN0YWx0KCk6IHN0cmluZztcbiAgICBhYnN0cmFjdCBwb3N0X2dlc3RhbHQoKTogc3RyaW5nO1xuICAgIGFydGljbGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuICdhJztcbiAgICB9XG59XG5cblxuZXhwb3J0IHR5cGUgQ291bnRlcjxUPiA9IE1hcDxULCBudW1iZXI+O1xuXG5leHBvcnQgZnVuY3Rpb24gY291bnRlcl9hZGQ8VD4oY291bnRlcjogQ291bnRlcjxUPiwga2V5OiBULCBpbmM6IG51bWJlcil7XG4gICAgbGV0IGN1cl92YWwgPSAwO1xuICAgIGlmIChjb3VudGVyLmhhcyhrZXkpKXtcbiAgICAgICAgY3VyX3ZhbCA9IGNvdW50ZXIuZ2V0KGtleSk7XG4gICAgfVxuICAgIHJldHVybiBjb3VudGVyLnNldChrZXksIGN1cl92YWwgKyBpbmMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY291bnRlcl9nZXQ8VD4oY291bnRlcjogQ291bnRlcjxUPiwga2V5OiBUKXtcbiAgICBsZXQgY3VyX3ZhbCA9IDA7XG4gICAgaWYgKGNvdW50ZXIuaGFzKGtleSkpe1xuICAgICAgICBjdXJfdmFsID0gY291bnRlci5nZXQoa2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cl92YWw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudGVyX3VwZGF0ZTxUPihjb3VudGVyMTogQ291bnRlcjxUPiwgY291bnRlcjI6IENvdW50ZXI8VD4pe1xuICAgIGxldCBzd2l0Y2hfdG9faW1tdXRhYmxlID0gaXNJbW11dGFibGUoY291bnRlcjEpO1xuICAgIGxldCByZXN1bHQgPSBjb3VudGVyMS5hc011dGFibGUoKTtcblxuICAgIGNvdW50ZXIyLmZvckVhY2goZnVuY3Rpb24gKHYsIGspe1xuICAgICAgICBjb3VudGVyX2FkZChyZXN1bHQsIGssIHYpO1xuICAgIH0pO1xuXG4gICAgaWYgKHN3aXRjaF90b19pbW11dGFibGUpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LmFzSW1tdXRhYmxlKCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudGVyX29yZGVyPFQ+KGNvdW50ZXI6IENvdW50ZXI8VD4sIGluY2x1ZGVfemVybz1mYWxzZSl7XG4gICAgbGV0IHJlc3VsdCA9IGNvdW50ZXIuc29ydCgpO1xuICAgIGlmICghaW5jbHVkZV96ZXJvKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5maWx0ZXIoKGNvdW50KSA9PiBjb3VudCA+IDApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LmtleVNlcSgpLnRvTGlzdCgpLnJldmVyc2UoKTtcbn1cblxuZXhwb3J0IGVudW0gUmVsYXRpdmVQb3NpdGlvbiB7XG4gICAgbGVmdCA9IDAsIGNlbnRlciA9IDEsIHJpZ2h0ID0gMixcbiAgICB0b3AgPSAzLCBtaWRkbGUgPSA0LCBib3R0b20gPSA1XG59XG5cbmV4cG9ydCBjbGFzcyBXcmVja0Vycm9yIGV4dGVuZHMgRXJyb3Ige31cblxuLy8gdXNlZCB0byBzaWduYWwgZXJyb3JzIGNhdXNlZCBieSB0cnlpbmcgdG8gdXBkYXRlIHdvcmxkIHN0YXRlIGluIGEgd2F5IHRoYXQgYnJlYWtzIHRoZSByZWFsaXR5IG9mIHRoZSB3b3JsZFxuLy8gc28gYXNzdW1lcyB0aGF0IGNvbW1hbmRzIGFyZSBhbHJlYWR5IHZhbGlkLCB0aGUgYXR0ZW1wdGVkIHVwZGF0ZSAqY291bGQgd29yayogaWYgdGhlIHN0YXRlIHdlcmUgZGlmZmVyZW50XG5leHBvcnQgY2xhc3MgV29ybGRVcGRhdGVFcnJvciBleHRlbmRzIFdyZWNrRXJyb3Ige31cblxuLy8gdXNlZCB0byBzaWduYWwgdGhhdCBhIGNvbW1hbmQvcHNldWRvIGNvbW1hbmQgaXMgbm90IHNwZWNpZmllZCBsZWdhbGx5XG4vLyB0aGUgY29tbWFuZCBjYW5ub3QgYmUgZXhlY3V0ZWQgYmVjYXVzZSBpdCAqY2Fubm90IGJlIGludGVycHJldGVkKlxuZXhwb3J0IGNsYXNzIENvbW1hbmRFcnJvciBleHRlbmRzIFdyZWNrRXJyb3Ige30iLCJpbXBvcnQge0l0ZW0sIFdlaWdodH0gZnJvbSAnLi9kYXRhdHlwZXMnXG5cbmV4cG9ydCBjbGFzcyBDb2RleCBleHRlbmRzIEl0ZW0ge1xuICAgIHdlaWdodCgpIHtcbiAgICAgICAgcmV0dXJuIFdlaWdodC5tZWRpdW07XG4gICAgfVxuXG4gICAgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdjb2RleCc7XG4gICAgfVxuXG4gICAgcHJlX2dlc3RhbHQoKSB7XG4gICAgICAgIHJldHVybiAnc29tZXRoaW5nIHRoaWNrIGFuZCBhZ2VkJztcbiAgICB9XG5cbiAgICBwb3N0X2dlc3RhbHQoKSB7XG4gICAgICAgIHJldHVybiAnYSB0aGljaywgcm90dGVuIGNvZGV4IHdpdGggc3RyYW5nZSBtYXJraW5ncyBvbiB0aGUgZnJvbnQnO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENpdHlLZXkgZXh0ZW5kcyBJdGVtIHtcbiAgICB3ZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBXZWlnaHQubGlnaHQ7XG4gICAgfVxuXG4gICAgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdLZXkgdG8gdGhlIENpdHknO1xuICAgIH1cblxuICAgIHByZV9nZXN0YWx0KCkge1xuICAgICAgICByZXR1cm4gJ3NvbWV0aGluZyBnbGlzdGVuaW5nIGFuZCBnb2xkZW4nO1xuICAgIH1cblxuICAgIHBvc3RfZ2VzdGFsdCgpIHtcbiAgICAgICAgcmV0dXJuICdhIGxhcmdlLCBoZWF2eSBnb2xkZW4ga2V5JztcbiAgICB9XG5cbiAgICBhcnRpY2xlKCkge1xuICAgICAgICByZXR1cm4gJ3RoZSc7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGluZWNvbmUgZXh0ZW5kcyBJdGVtIHtcbiAgICB3ZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiBXZWlnaHQudmVyeV9saWdodDtcbiAgICB9XG5cbiAgICBuYW1lKCkge1xuICAgICAgICByZXR1cm4gJ3BpbmVjb25lJztcbiAgICB9XG5cbiAgICBwcmVfZ2VzdGFsdCgpIHtcbiAgICAgICAgcmV0dXJuICdzb21ldGhpbmcgc21hbGwsIGJyb3duIGFuZCBmbGFreSc7XG4gICAgfVxuXG4gICAgcG9zdF9nZXN0YWx0KCkge1xuICAgICAgICByZXR1cm4gJ2Egc21hbGwsIGJyb3duIHBpbmVjb25lIHRoYXQgc21lbGxzIG9mIHRoZSBvdXRkb29ycyc7XG4gICAgfVxufSIsIlwidXNlIHN0cmljdFwiO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJaUlzSW1acGJHVWlPaUpxY1hWbGNua3VkR1Z5YldsdVlXd3VaQzUwY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYlhYMD0iLCJpbXBvcnQge0xpc3R9IGZyb20gJ2ltbXV0YWJsZSc7XG5pbXBvcnQge0NpdHlLZXksIENvZGV4LCBQaW5lY29uZX0gZnJvbSAnLi9pdGVtcyc7XG5pbXBvcnQge0l0ZW19IGZyb20gJy4vZGF0YXR5cGVzJztcbmltcG9ydCB7Qm94LCBTaW5nbGVCb3hXb3JsZCwgV29ybGREcml2ZXJ9IGZyb20gJy4vd29ybGQnO1xuXG5kZWNsYXJlIHZhciBqUXVlcnk6IGFueTtcblxualF1ZXJ5KGZ1bmN0aW9uKCQ6IGFueSkge1xuICAgIGxldCBjb250ZW50cyA9IExpc3Q8SXRlbT4oW25ldyBDb2RleCgpLCBuZXcgUGluZWNvbmUoKSwgbmV3IENpdHlLZXkoKV0pO1xuICAgIGxldCB3b3JsZCA9IG5ldyBTaW5nbGVCb3hXb3JsZCh7Ym94OiBuZXcgQm94KHtjb250ZW50czogY29udGVudHN9KX0pO1xuICAgIGxldCB3b3JsZF9kcml2ZXIgPSBuZXcgV29ybGREcml2ZXIod29ybGQpO1xuXG4gICAgJCgnI3Rlcm0nKS50ZXJtaW5hbChmdW5jdGlvbihjb21tYW5kOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGNvbW1hbmQgIT09ICcnKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB3b3JsZF9kcml2ZXIucnVuKGNvbW1hbmQpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVjaG8obmV3IFN0cmluZyhyZXN1bHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yKG5ldyBTdHJpbmcoZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICB0aGlzLmVjaG8oJycpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBncmVldGluZ3M6ICdEZW1vIFBhcnNlciBJbnRlcmZhY2UgZm9yIFRoZSBXcmVjaycsXG4gICAgICAgIG5hbWU6ICd3cmVja19kZW1vJyxcbiAgICAgICAgaGVpZ2h0OiA1MDAsXG4gICAgICAgIHByb21wdDogJz4gJ1xuICAgIH0pO1xufSk7IiwiaW1wb3J0IHtGYWNlfSBmcm9tICcuL2RhdGF0eXBlcyc7XG5cbmltcG9ydCB7TGlzdCwgTWFwfSBmcm9tICdpbW11dGFibGUnO1xuXG5leHBvcnQgZnVuY3Rpb24gdW5jYXBpdGFsaXplKG1zZzogc3RyaW5nKSB7XG4gICAgcmV0dXJuIG1zZ1swXS50b0xvd2VyQ2FzZSgpICsgbXNnLnNsaWNlKDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2FwaXRhbGl6ZShtc2c6IHN0cmluZykge1xuICAgIHJldHVybiBtc2dbMF0udG9VcHBlckNhc2UoKSArIG1zZy5zbGljZSgxKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZhY2VfbWVzc2FnZShmYWNlX29yZGVyOiBMaXN0PEZhY2U+LCBmX2NvZGVfMl9uYW1lPzogTWFwPEZhY2UsIHN0cmluZz4pe1xuICAgIGlmIChmX2NvZGVfMl9uYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZl9jb2RlXzJfbmFtZSA9IE1hcDxGYWNlLCBzdHJpbmc+KFtcbiAgICAgICAgICAgIFtGYWNlLm4sICdiYWNrJ10sXG4gICAgICAgICAgICBbRmFjZS5zLCAnZnJvbnQnXSxcbiAgICAgICAgICAgIFtGYWNlLmUsICdyaWdodCddLFxuICAgICAgICAgICAgW0ZhY2UudywgJ2xlZnQnXSxcbiAgICAgICAgICAgIFtGYWNlLnQsICd0b3AnXSxcbiAgICAgICAgICAgIFtGYWNlLmIsICdib3R0b20nXVxuICAgICAgICBdKTtcbiAgICB9XG5cbiAgICBpZiAoZmFjZV9vcmRlci5zaXplID09IDEpIHtcbiAgICAgICAgcmV0dXJuIGZfY29kZV8yX25hbWUuZ2V0KGZhY2Vfb3JkZXIuZmlyc3QoKSkgKyAnIGZhY2UnO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWNlX29yZGVyLmJ1dExhc3QoKS5tYXAoZl9jb2RlXzJfbmFtZS5nZXQpLmpvaW4oJywgJykgKyAnIGFuZCAnICsgZl9jb2RlXzJfbmFtZS5nZXQoZmFjZV9vcmRlci5sYXN0KCkpICsgJyBmYWNlcyc7XG4gICAgfVxufSIsImltcG9ydCB7Qm94TWVzaCwgZWRnZV8yX3F1YWRyYW50cywgRmFjZU1lc2h9IGZyb20gJy4vYm94X2dlb21ldHJ5JztcblxuaW1wb3J0IHtcbiAgICBDYXJkYm9hcmRFZGdlLFxuICAgIENvbW1hbmRFcnJvcixcbiAgICBDb3VudGVyLFxuICAgIGNvdW50ZXJfb3JkZXIsXG4gICAgY291bnRlcl91cGRhdGUsXG4gICAgRGFuZ2xlLFxuICAgIERpcmVjdGlvbixcbiAgICBkaXJlY3Rpb25zLFxuICAgIGRpcmVjdGlvbl8yX2ZhY2UsXG4gICAgRWRnZSxcbiAgICBFZGdlRGlyZWN0aW9uLFxuICAgIEVkZ2VPcGVyYXRpb24sXG4gICAgRWRnZVN0YXRlLFxuICAgIEZhY2UsXG4gICAgSXRlbSxcbiAgICBQYXJ0aXRpb24sXG4gICAgUG9pbnQyLFxuICAgIFJlbGF0aXZlUG9zaXRpb24sXG4gICAgUmVuZE9wZXJhdGlvbixcbiAgICBSZW5kU3RhdGUsXG4gICAgU3BpbGxhZ2VMZXZlbCxcbiAgICBUYXBlRWRnZSxcbiAgICBXZWlnaHQsXG4gICAgV29ybGRVcGRhdGVFcnJvclxufSBmcm9tICcuL2RhdGF0eXBlcyc7XG5cbmltcG9ydCB7XG4gICAgRWRnZURpcldvcmQsXG4gICAgRWRnZU9wV29yZCxcbiAgICBGYWNlV29yZCxcbiAgICBQb3NpdGlvbldvcmQsXG4gICAgUmVuZE9wV29yZCxcbiAgICBSb2xsRGlyV29yZCxcbiAgICBSb3RhdGVZRGlyV29yZCxcbiAgICBUb2tlbixcbiAgICB3b3JkXzJfZGVncmVlcyxcbiAgICB3b3JkXzJfZGlyLFxuICAgIHdvcmRfMl9lZGdlX2RpcixcbiAgICB3b3JkXzJfZWRnZV9vcCxcbiAgICB3b3JkXzJfZmFjZSxcbiAgICB3b3JkXzJfcmVsYXRpdmVfcG9zaXRpb24sXG4gICAgd29yZF8yX3JlbmRfb3Bcbn0gZnJvbSAnLi9jb21tYW5kcydcblxuaW1wb3J0IHtXb3JsZFVwZGF0ZUVmZmVjdHMsIHdpdGhfd29ybGRfdXBkYXRlLCB3b3JsZF91cGRhdGV9IGZyb20gJy4vd29ybGRfdXBkYXRlX2VmZmVjdHMnO1xuXG5pbXBvcnQge0NpdHlLZXksIENvZGV4LCBQaW5lY29uZX0gZnJvbSAnLi9pdGVtcyc7XG5cbmltcG9ydCB7Y2FwaXRhbGl6ZSwgZmFjZV9tZXNzYWdlLCB1bmNhcGl0YWxpemV9IGZyb20gJy4vdGV4dF90b29scyc7XG5cbmltcG9ydCB7TGlzdCwgTWFwLCBTZXR9IGZyb20gJ2ltbXV0YWJsZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQm94UGFyYW1zIHtcbiAgICBib3hfbWVzaD86IEJveE1lc2gsXG4gICAgcmVuZF9zdGF0ZT86IE1hcDxQYXJ0aXRpb24sIFJlbmRTdGF0ZT4sXG4gICAgZGFuZ2xlX3N0YXRlPzogTWFwPERhbmdsZSwgUmVuZFN0YXRlPixcbiAgICBlZGdlX3N0YXRlPzogTWFwPEVkZ2UsIEVkZ2VTdGF0ZT4sXG4gICAgY29udGVudHM/OiBMaXN0PEl0ZW0+XG59XG5cbmV4cG9ydCBjbGFzcyBCb3gge1xuICAgIHJlYWRvbmx5IGJveF9tZXNoOiBCb3hNZXNoO1xuICAgIHJlYWRvbmx5IHJlbmRfc3RhdGU6IE1hcDxQYXJ0aXRpb24sIFJlbmRTdGF0ZT47XG4gICAgcmVhZG9ubHkgZGFuZ2xlX3N0YXRlOiBNYXA8RGFuZ2xlLCBSZW5kU3RhdGU+O1xuICAgIHJlYWRvbmx5IGVkZ2Vfc3RhdGU6IE1hcDxFZGdlLCBFZGdlU3RhdGU+O1xuICAgIHJlYWRvbmx5IGNvbnRlbnRzOiBMaXN0PEl0ZW0+O1xuXG4gICAgY29uc3RydWN0b3Ioe2JveF9tZXNoLCByZW5kX3N0YXRlLCBkYW5nbGVfc3RhdGUsIGVkZ2Vfc3RhdGUsIGNvbnRlbnRzfTogQm94UGFyYW1zKXtcbiAgICAgICAgaWYgKGJveF9tZXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGJveF9tZXNoID0gbmV3IEJveE1lc2goe2RpbWVuc2lvbnM6IFsyLCAyLCAyXX0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYm94X21lc2ggPSBib3hfbWVzaDtcblxuICAgICAgICBpZiAocmVuZF9zdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZW5kX3N0YXRlID0gdGhpcy5kZWZhdWx0X3JlbmRfc3RhdGUodGhpcy5ib3hfbWVzaCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kX3N0YXRlID0gcmVuZF9zdGF0ZTtcblxuICAgICAgICBpZiAoZGFuZ2xlX3N0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhbmdsZV9zdGF0ZSA9IHRoaXMuZGVmYXVsdF9kYW5nbGVfc3RhdGUodGhpcy5ib3hfbWVzaCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYW5nbGVfc3RhdGUgPSBkYW5nbGVfc3RhdGU7XG5cbiAgICAgICAgaWYgKGVkZ2Vfc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZWRnZV9zdGF0ZSA9IE1hcDxFZGdlLCBFZGdlU3RhdGU+KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lZGdlX3N0YXRlID0gZWRnZV9zdGF0ZTtcblxuICAgICAgICBpZiAoY29udGVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGVudHMgPSBMaXN0PEl0ZW0+KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250ZW50cyA9IGNvbnRlbnRzO1xuICAgIH1cblxuICAgIHVwZGF0ZSh7Ym94X21lc2gsIHJlbmRfc3RhdGUsIGRhbmdsZV9zdGF0ZSwgZWRnZV9zdGF0ZSwgY29udGVudHN9OiBCb3hQYXJhbXMpe1xuICAgICAgICBpZiAoYm94X21lc2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYm94X21lc2ggPSB0aGlzLmJveF9tZXNoO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlbmRfc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVuZF9zdGF0ZSA9IHRoaXMucmVuZF9zdGF0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkYW5nbGVfc3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGFuZ2xlX3N0YXRlID0gdGhpcy5kYW5nbGVfc3RhdGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWRnZV9zdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlZGdlX3N0YXRlID0gdGhpcy5lZGdlX3N0YXRlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoY29udGVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGVudHMgPSB0aGlzLmNvbnRlbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBCb3goe2JveF9tZXNoLCByZW5kX3N0YXRlLCBkYW5nbGVfc3RhdGUsIGVkZ2Vfc3RhdGUsIGNvbnRlbnRzfSk7XG4gICAgfVxuXG4gICAgZGVmYXVsdF9yZW5kX3N0YXRlKGJveF9tZXNoOiBCb3hNZXNoKSB7XG4gICAgICAgIGxldCByZW5kcyA9IGJveF9tZXNoLmdldF9mcmVlX3JlbmRzKCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBNYXA8UGFydGl0aW9uLCBSZW5kU3RhdGU+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgIHJlbmRzLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXQociwgUmVuZFN0YXRlLmNsb3NlZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmFzSW1tdXRhYmxlKCk7XG4gICAgfVxuXG4gICAgZGVmYXVsdF9kYW5nbGVfc3RhdGUoYm94X21lc2g6IEJveE1lc2gpIHtcbiAgICAgICAgbGV0IGRhbmdsZXMgPSBib3hfbWVzaC5nZXRfZGFuZ2xlcygpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gTWFwPERhbmdsZSwgUmVuZFN0YXRlPigpLmFzTXV0YWJsZSgpO1xuICAgICAgICBkYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zZXQoZCwgUmVuZFN0YXRlLmNsb3NlZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmFzSW1tdXRhYmxlKCk7XG4gICAgfVxuXG4gICAgb3Blbl9vcl9jbG9zZV9yZW5kKG9wZXJhdGlvbjogUmVuZE9wZXJhdGlvbiwgcmVuZDogUGFydGl0aW9uKSB7XG4gICAgICAgIGxldCBib3hfcmVuZHMgPSB0aGlzLmJveF9tZXNoLmdldF9yZW5kcygpO1xuXG4gICAgICAgIGlmICghYm94X3JlbmRzLmNvbnRhaW5zKHJlbmQpKXtcbiAgICAgICAgICAgIHRocm93IG5ldyBDb21tYW5kRXJyb3IoJ3JlbmQgZG9lcyBub3QgZXhpc3Qgb24gdGhlIGJveCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuYm94X21lc2guaXNfcGFydGl0aW9uX2ZpeGVkKHJlbmQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcignY2Fubm90IG9wZW4gb3IgY2xvc2UgYSBmaXhlZCByZW5kJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3X3JlbmRfc3RhdGUgPSB0aGlzLnJlbmRfc3RhdGU7XG4gICAgICAgIGxldCBpbnRlbmRlZF9uZXdfc3RhdGUgPSBvcGVyYXRpb24gPT0gUmVuZE9wZXJhdGlvbi5jbG9zZSA/IFJlbmRTdGF0ZS5jbG9zZWQgOiBSZW5kU3RhdGUub3BlbjtcbiAgICAgICAgaWYgKGludGVuZGVkX25ld19zdGF0ZSA9PSBuZXdfcmVuZF9zdGF0ZS5nZXQocmVuZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKGBjYW5ub3QgJHtvcGVyYXRpb259IGEgcmVuZCB0aGF0IGlzIGFscmVhZHkgJHtpbnRlbmRlZF9uZXdfc3RhdGV9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXdfcmVuZF9zdGF0ZSA9IG5ld19yZW5kX3N0YXRlLnNldChyZW5kLCBpbnRlbmRlZF9uZXdfc3RhdGUpO1xuXG4gICAgICAgIGxldCBuZXdfYm94ID0gdGhpcy51cGRhdGUoe3JlbmRfc3RhdGU6IG5ld19yZW5kX3N0YXRlfSk7XG5cbiAgICAgICAgaWYgKG5ld19ib3guaXNfY29sbGFwc2VkKCkpIHtcbiAgICAgICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG4gICAgICAgICAgICBlZmZlY3RzLmJveF9jb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICAgICAgZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2JveC5jb250ZW50cy50b0FycmF5KCkpO1xuICAgICAgICAgICAgbGV0IG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcbiAgICAgICAgICAgIG5ld19ib3ggPSBuZXdfYm94LnVwZGF0ZSh7Y29udGVudHM6IG5ld19jb250ZW50c30pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld19ib3g7XG4gICAgfVxuXG4gICAgb3Blbl9vcl9jbG9zZV9kYW5nbGUob3BlcmF0aW9uOiBSZW5kT3BlcmF0aW9uLCBkYW5nbGU6IERhbmdsZSkge1xuICAgICAgICBpZiAodGhpcy5ib3hfbWVzaC5pc19wYXJ0aXRpb25fZml4ZWQoZGFuZ2xlLnBhcnRpdGlvbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3Qgb3BlbiBvciBjbG9zZSBhIGZpeGVkIGRhbmdsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGJveF9kYW5nbGVzID0gdGhpcy5ib3hfbWVzaC5nZXRfZGFuZ2xlcygpO1xuXG4gICAgICAgIGlmIChib3hfZGFuZ2xlcy5zb21lKChkKSA9PiBkYW5nbGUgPT0gZCkpe1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbW1hbmRFcnJvcignZGFuZ2xlIGRvZXMgbm90IGV4aXN0IG9uIHRoZSBib3gnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbnRlbmRlZF9uZXdfc3RhdGUgPSBvcGVyYXRpb24gPT0gUmVuZE9wZXJhdGlvbi5jbG9zZSA/IFJlbmRTdGF0ZS5jbG9zZWQgOiBSZW5kU3RhdGUub3BlbjtcbiAgICAgICAgaWYgKHRoaXMuZGFuZ2xlX3N0YXRlLmdldChkYW5nbGUpID09IGludGVuZGVkX25ld19zdGF0ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmxkVXBkYXRlRXJyb3IoJ2Nhbm5vdCAke29wZXJhdGlvbn0gYSBkYW5nbGUgdGhhdCBpcyBhbHJlYWR5ICR7aW50ZW5kZWRfbmV3X3N0YXRlfScpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld19kYW5nbGVfc3RhdGUgPSB0aGlzLmRhbmdsZV9zdGF0ZS5zZXQoZGFuZ2xlLCBpbnRlbmRlZF9uZXdfc3RhdGUpO1xuXG4gICAgICAgIGxldCBuZXdfYm94ID0gdGhpcy51cGRhdGUoe2RhbmdsZV9zdGF0ZTogbmV3X2RhbmdsZV9zdGF0ZX0pO1xuICAgICAgICBpZiAobmV3X2JveC5pc19jb2xsYXBzZWQoKSkge1xuICAgICAgICAgICAgbGV0IGVmZmVjdHMgPSB3b3JsZF91cGRhdGUuZWZmZWN0cztcbiAgICAgICAgICAgIGVmZmVjdHMuYm94X2NvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgICAgICBlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfYm94LmNvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICBsZXQgbmV3X2NvbnRlbnRzID0gTGlzdDxJdGVtPigpO1xuICAgICAgICAgICAgbmV3X2JveCA9IG5ld19ib3gudXBkYXRlKHtjb250ZW50czogbmV3X2NvbnRlbnRzfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld19ib3g7XG4gICAgfVxuXG4gICAgcm90YXRlX3koZGVncmVlczogbnVtYmVyKSB7XG4gICAgICAgIGxldCBuZXdfYm94X21lc2ggPSB0aGlzLmJveF9tZXNoLnJvdGF0ZV95KGRlZ3JlZXMpO1xuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGUobmV3X2JveF9tZXNoKTtcbiAgICB9XG5cbiAgICByb2xsKGRpcmVjdGlvbjogRGlyZWN0aW9uKSB7XG4gICAgICAgIGlmICh0aGlzLmRhbmdsZV9zdGF0ZS5zb21lKChzdGF0ZSkgPT4gc3RhdGUgPT0gUmVuZFN0YXRlLm9wZW4pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcignY2Fubm90IHJvbGwgYSBib3ggd2l0aCBvcGVuIGRhbmdsZXMnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuZXdfYm94X21lc2ggPSB0aGlzLmJveF9tZXNoLnJvbGwoZGlyZWN0aW9uKTtcbiAgICAgICAgbGV0IGRpcl9mYWNlOiBGYWNlID0gZGlyZWN0aW9uXzJfZmFjZS5nZXQoZGlyZWN0aW9uKTtcblxuICAgICAgICBsZXQgbmV3X2NvbnRlbnRzID0gdGhpcy5jb250ZW50cztcbiAgICAgICAgbGV0IHJlbmRfc3RhdGVfdXBkYXRlcyA9IHRoaXMucmVuZF9zdGF0ZTtcbiAgICAgICAgbGV0IGRhbmdsZV9zdGF0ZV91cGRhdGVzID0gdGhpcy5kYW5nbGVfc3RhdGU7XG5cbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICBsZXQgZWZmZWN0cyA9IHdvcmxkX3VwZGF0ZS5lZmZlY3RzO1xuXG4gICAgICAgIGlmIChuZXdfY29udGVudHMuc2l6ZSA+IDApe1xuICAgICAgICAgICAgbGV0IGRpcl8yX29wcG9zaXRlID0gTWFwPEZhY2UsIEZhY2U+KFtcbiAgICAgICAgICAgICAgICBbRmFjZS5uLCBGYWNlLnNdLFxuICAgICAgICAgICAgICAgIFtGYWNlLnMsIEZhY2Uubl0sXG4gICAgICAgICAgICAgICAgW0ZhY2UuZSwgRmFjZS53XSxcbiAgICAgICAgICAgICAgICBbRmFjZS53LCBGYWNlLmVdXSk7XG4gXG4gICAgICAgICAgICBsZXQgaGVhdnlfc3BpbGxfZmFjZXM6IFtGYWNlLCBGYWNlXVtdID0gW1xuICAgICAgICAgICAgICAgIFtkaXJfZmFjZSwgRmFjZS5iXSxcbiAgICAgICAgICAgICAgICBbRmFjZS50LCBkaXJfZmFjZV0sXG4gICAgICAgICAgICAgICAgW0ZhY2UuYiwgZGlyXzJfb3Bwb3NpdGUuZ2V0KGRpcl9mYWNlKV1dO1xuICAgICAgICAgICAgbGV0IGxpZ2h0X3NwaWxsX2ZhY2VzID0gKFtGYWNlLm4sIEZhY2UucywgRmFjZS5lLCBGYWNlLnddXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoZCkgPT4gZCAhPT0gZGlyX2ZhY2UgJiYgZCAhPT0gZGlyXzJfb3Bwb3NpdGUuZ2V0KGRpcl9mYWNlKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnJlbmRfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIHIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGZvciAobGV0IFt0ZXN0X2ZhY2UsIHNwaWxsX2ZhY2VdIG9mIGhlYXZ5X3NwaWxsX2ZhY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWNlX21lbWJlcnNoaXAuZ2V0KHRlc3RfZmFjZSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzID0gZWZmZWN0cy5zcGlsbF9mYWNlcy5wdXNoKHNwaWxsX2ZhY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwuaGVhdnk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfcmVuZHMgPT0gZWZmZWN0cy5zcGlsbGVkX3JlbmRzLmFkZChyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW5kX3N0YXRlX3VwZGF0ZXMgPSByZW5kX3N0YXRlX3VwZGF0ZXMuc2V0KHIsIFJlbmRTdGF0ZS5vcGVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgc3BpbGxfZmFjZSBvZiBsaWdodF9zcGlsbF9mYWNlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmFjZV9tZW1iZXJzaGlwLmdldChzcGlsbF9mYWNlKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxfZmFjZXMgPSBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goc3BpbGxfZmFjZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA8IFNwaWxsYWdlTGV2ZWwubGlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5saWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdfY29udGVudHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaChuZXdfY29udGVudHMuZmlyc3QoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2NvbnRlbnRzID0gbmV3X2NvbnRlbnRzLnJlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmJveF9tZXNoLmdldF9kYW5nbGVzKCkuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGxldCBzcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwubm9uZTtcbiAgICAgICAgICAgICAgICBsZXQgc3BpbGxfZmFjZTogRmFjZTtcbiAgICAgICAgICAgICAgICBpZiAoZC5mcmVlX2ZhY2UgPT0gRmFjZS50KSB7XG4gICAgICAgICAgICAgICAgICAgIHNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5oZWF2eTtcbiAgICAgICAgICAgICAgICAgICAgc3BpbGxfZmFjZSA9IGRpcl9mYWNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZC5mcmVlX2ZhY2UgPT0gZGlyX2ZhY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLmhlYXZ5O1xuICAgICAgICAgICAgICAgICAgICBzcGlsbF9mYWNlID0gRmFjZS5iO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGlnaHRfc3BpbGxfZmFjZXMuaW5kZXhPZihkLmZyZWVfZmFjZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5saWdodDtcbiAgICAgICAgICAgICAgICAgICAgc3BpbGxfZmFjZSA9IGQuZnJlZV9mYWNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzcGlsbGFnZV9sZXZlbCAhPT0gU3BpbGxhZ2VMZXZlbC5ub25lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGlsbGFnZV9sZXZlbCA+IGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPSBzcGlsbGFnZV9sZXZlbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzID0gZWZmZWN0cy5zcGlsbF9mYWNlcy5wdXNoKHNwaWxsX2ZhY2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGlsbGFnZV9sZXZlbCA9PSBTcGlsbGFnZUxldmVsLmxpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3X2NvbnRlbnRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2gobmV3X2NvbnRlbnRzLmZpcnN0KCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IG5ld19jb250ZW50cy5yZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3BpbGxhZ2VfbGV2ZWwgPT0gU3BpbGxhZ2VMZXZlbC5oZWF2eSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2NvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdfY29udGVudHMgPSBMaXN0PEl0ZW0+KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfZGFuZ2xlcyA9IGVmZmVjdHMuc3BpbGxlZF9kYW5nbGVzLmFkZChkKTtcbiAgICAgICAgICAgICAgICAgICAgZGFuZ2xlX3N0YXRlX3VwZGF0ZXMgPSBkYW5nbGVfc3RhdGVfdXBkYXRlcy5zZXQoZCwgUmVuZFN0YXRlLm9wZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBuZXdfYm94X21lc2guZ2V0X2RhbmdsZXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGQuZnJlZV9mYWNlID09IGRpcl8yX29wcG9zaXRlLmdldChkaXJfZmFjZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwuaGVhdnk7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxfZmFjZXMgPSBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goZGlyXzJfb3Bwb3NpdGUuZ2V0KGRpcl9mYWNlKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2NvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcblxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfZGFuZ2xlcyA9IGVmZmVjdHMuc3BpbGxlZF9kYW5nbGVzLmFkZChkKTtcbiAgICAgICAgICAgICAgICAgICAgZGFuZ2xlX3N0YXRlX3VwZGF0ZXMgPSBkYW5nbGVfc3RhdGVfdXBkYXRlcy5zZXQoZCwgUmVuZFN0YXRlLm9wZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuZXdfYm94ID0gdGhpcy51cGRhdGUoe1xuICAgICAgICAgICAgYm94X21lc2g6IG5ld19ib3hfbWVzaCxcbiAgICAgICAgICAgIHJlbmRfc3RhdGU6IHJlbmRfc3RhdGVfdXBkYXRlcyxcbiAgICAgICAgICAgIGRhbmdsZV9zdGF0ZTogZGFuZ2xlX3N0YXRlX3VwZGF0ZXMsXG4gICAgICAgICAgICBjb250ZW50czogbmV3X2NvbnRlbnRzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChuZXdfYm94LmlzX2NvbGxhcHNlZCgpKSB7XG4gICAgICAgICAgICBlZmZlY3RzLmJveF9jb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgICAgICAgZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2NvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICBuZXdfY29udGVudHMgPSBMaXN0PEl0ZW0+KCk7XG4gICAgICAgICAgICBuZXdfYm94ID0gbmV3X2JveC51cGRhdGUoe2NvbnRlbnRzOiBuZXdfY29udGVudHN9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXdfYm94O1xuICAgIH1cblxuICAgIGxpZnQoKSB7XG4gICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcblxuICAgICAgICBsZXQgbmV3X2NvbnRlbnRzID0gdGhpcy5jb250ZW50cztcbiAgICAgICAgbGV0IG5ld19yZW5kX3N0YXRlID0gdGhpcy5yZW5kX3N0YXRlO1xuICAgICAgICBsZXQgbmV3X2RhbmdsZV9zdGF0ZSA9IHRoaXMuZGFuZ2xlX3N0YXRlO1xuXG4gICAgICAgIGlmIChuZXdfY29udGVudHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCB0ZXN0X2JveF9tZXNoID0gdGhpcy5ib3hfbWVzaC5yb2xsKERpcmVjdGlvbi5zKS5yb2xsKERpcmVjdGlvbi5zKTtcblxuICAgICAgICAgICAgdGVzdF9ib3hfbWVzaC5nZXRfZnJlZV9yZW5kcygpLmZvckVhY2goZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gdGVzdF9ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChyKTtcbiAgICAgICAgICAgICAgICBsZXQgdGVzdF9mYWNlcyA9IFtGYWNlLmIsIEZhY2UubiwgRmFjZS5zLCBGYWNlLmUsIEZhY2Uud107XG4gICAgICAgICAgICAgICAgbGV0IGNvdW50ID0gdGVzdF9mYWNlcy5tYXAoZmFjZV9tZW1iZXJzaGlwLmdldCkucmVkdWNlKCh4LCB5KSA9PiB4ICsgeSk7XG4gICAgICAgICAgICAgICAgaWYgKGZhY2VfbWVtYmVyc2hpcC5nZXQoRmFjZS50KSA+IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLmhlYXZ5O1xuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzID0gZWZmZWN0cy5zcGlsbF9mYWNlcy5wdXNoKEZhY2UuYik7XG5cbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2NvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3X3JlbmRfc3RhdGUuZ2V0KHIsIFJlbmRTdGF0ZS5jbG9zZWQpID09IFJlbmRTdGF0ZS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9yZW5kcyA9IGVmZmVjdHMuc3BpbGxlZF9yZW5kcy5hZGQocik7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdfcmVuZF9zdGF0ZSA9IG5ld19yZW5kX3N0YXRlLnNldChyLCBSZW5kU3RhdGUub3Blbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGVzdF9ib3hfbWVzaC5nZXRfZGFuZ2xlcygpLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZC5mcmVlX2ZhY2UgPT0gRmFjZS50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPSBTcGlsbGFnZUxldmVsLmhlYXZ5O1xuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzID0gZWZmZWN0cy5zcGlsbF9mYWNlcy5wdXNoKEZhY2UuYik7XG5cbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2l0ZW1zID0gZWZmZWN0cy5zcGlsbGVkX2l0ZW1zLnB1c2goLi4ubmV3X2NvbnRlbnRzLnRvQXJyYXkoKSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcblxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfZGFuZ2xlcyA9IGVmZmVjdHMuc3BpbGxlZF9kYW5nbGVzLmFkZChkKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3X2RhbmdsZV9zdGF0ZSA9IG5ld19kYW5nbGVfc3RhdGUuc2V0KGQsIFJlbmRTdGF0ZS5vcGVuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5yZW5kX3N0YXRlLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlLCByKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZhY2VfbWVtYmVyc2hpcCA9IGlubmVyX3RoaXMuYm94X21lc2guZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAocik7XG4gICAgICAgICAgICAgICAgbGV0IGxpZ2h0X3NwaWxsX2ZhY2VzID0gW0ZhY2UubiwgRmFjZS5zLCBGYWNlLmUsIEZhY2Uud10uZmlsdGVyKChmKSA9PiBmYWNlX21lbWJlcnNoaXAuZ2V0KGYpID4gMCk7XG4gICAgICAgICAgICAgICAgaWYgKGxpZ2h0X3NwaWxsX2ZhY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVmZmVjdHMuc3BpbGxhZ2VfbGV2ZWwgPCBTcGlsbGFnZUxldmVsLmxpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5saWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsX2ZhY2VzLnB1c2goLi4ubGlnaHRfc3BpbGxfZmFjZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdfY29udGVudHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9pdGVtcyA9IGVmZmVjdHMuc3BpbGxlZF9pdGVtcy5wdXNoKG5ld19jb250ZW50cy5maXJzdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19jb250ZW50cyA9IG5ld19jb250ZW50cy5yZXN0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9yZW5kcy5hZGQocik7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdfcmVuZF9zdGF0ZSA9IG5ld19yZW5kX3N0YXRlLnNldChyLCBSZW5kU3RhdGUub3Blbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5kYW5nbGVfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoW0ZhY2UubiwgRmFjZS5zLCBGYWNlLmUsIEZhY2Uud10uaW5kZXhPZihkLmZyZWVfZmFjZSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLnNwaWxsYWdlX2xldmVsIDwgU3BpbGxhZ2VMZXZlbC5saWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9IFNwaWxsYWdlTGV2ZWwubGlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWZmZWN0cy5zcGlsbF9mYWNlcy5wdXNoKGQuZnJlZV9mYWNlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3X2NvbnRlbnRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLnNwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLnNwaWxsZWRfaXRlbXMucHVzaChuZXdfY29udGVudHMuZmlyc3QoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdfY29udGVudHMgPSBuZXdfY29udGVudHMucmVzdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3X2JveCA9IHRoaXMudXBkYXRlKHtyZW5kX3N0YXRlOiBuZXdfcmVuZF9zdGF0ZSwgZGFuZ2xlX3N0YXRlOiBuZXdfZGFuZ2xlX3N0YXRlLCBjb250ZW50czogbmV3X2NvbnRlbnRzfSk7XG5cbiAgICAgICAgaWYgKG5ld19ib3guaXNfY29sbGFwc2VkKCkpIHtcbiAgICAgICAgICAgIGVmZmVjdHMuYm94X2NvbGxhcHNlZCA9IHRydWU7XG4gICAgICAgICAgICBlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMgPSBlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMucHVzaCguLi5uZXdfY29udGVudHMudG9BcnJheSgpKTtcbiAgICAgICAgICAgIG5ld19jb250ZW50cyA9IExpc3Q8SXRlbT4oKTtcbiAgICAgICAgICAgIG5ld19ib3ggPSBuZXdfYm94LnVwZGF0ZSh7Y29udGVudHM6IG5ld19jb250ZW50c30pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld19ib3g7XG4gICAgfVxuXG4gICAgY3V0KGZhY2U6IEZhY2UsIHN0YXJ0OiBQb2ludDIsIGVuZDogUG9pbnQyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1dF9vcl90YXBlKEVkZ2VPcGVyYXRpb24uY3V0LCBmYWNlLCBzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICB0YXBlKGZhY2U6IEZhY2UsIHN0YXJ0OiBQb2ludDIsIGVuZDogUG9pbnQyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1dF9vcl90YXBlKEVkZ2VPcGVyYXRpb24udGFwZSwgZmFjZSwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgY3V0X29yX3RhcGUob3BlcmF0aW9uOiBFZGdlT3BlcmF0aW9uLCBmYWNlOiBGYWNlLCBzdGFydDogUG9pbnQyLCBlbmQ6IFBvaW50Mikge1xuICAgICAgICBsZXQgZWZmZWN0cyA9IHdvcmxkX3VwZGF0ZS5lZmZlY3RzO1xuICAgICAgICBsZXQgaW5uZXJfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGZhY2UgIT09IEZhY2UucyAmJiBmYWNlICE9PSBGYWNlLnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3QgY3V0IG9yIHRhcGUgc2lkZXMgb3RoZXIgdGhhbiB0b3Agb3IgZnJvbnQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBbeDEsIHkxXSA9IHN0YXJ0O1xuICAgICAgICBsZXQgW3gyLCB5Ml0gPSBlbmQ7XG4gICAgICAgIGxldCB2MSA9IHRoaXMuYm94X21lc2guZmFjZV9tZXNoZXMuZ2V0KGZhY2UpLnZlcnRpY2VzLmdldCh4MSwgeTEpO1xuICAgICAgICBsZXQgdjIgPSB0aGlzLmJveF9tZXNoLmZhY2VfbWVzaGVzLmdldChmYWNlKS52ZXJ0aWNlcy5nZXQoeDIsIHkyKTtcblxuICAgICAgICBsZXQgZWRnZSA9IG5ldyBFZGdlKHYxLCB2Mik7XG5cbiAgICAgICAgbGV0IHF1YWRyYW50cyA9IGVkZ2VfMl9xdWFkcmFudHMuZ2V0KGVkZ2UpO1xuXG4gICAgICAgIHRoaXMucmVuZF9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgcikge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuICYmIHF1YWRyYW50cy5ldmVyeShyLmNvbnRhaW5zKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3QgY3V0IG9yIHRhcGUgb24gYW4gb3BlbiByZW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGFuZ2xlX3N0YXRlLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlLCBkKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT0gUmVuZFN0YXRlLm9wZW4gJiYgcXVhZHJhbnRzLmV2ZXJ5KGQucGFydGl0aW9uLmNvbnRhaW5zKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKCdjYW5ub3QgY3V0IG9yIHRhcGUgb24gYW4gb3BlbiBkYW5nbGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IG5ld19ib3hfbWVzaDogQm94TWVzaDtcbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSBFZGdlT3BlcmF0aW9uLmN1dCkge1xuICAgICAgICAgICAgbmV3X2JveF9tZXNoID0gdGhpcy5ib3hfbWVzaC5jdXQoZmFjZSwgc3RhcnQsIGVuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdfYm94X21lc2ggPSB0aGlzLmJveF9tZXNoLnRhcGUoZmFjZSwgc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmV3X3JlbmRfc3RhdGUgPSB0aGlzLmRlZmF1bHRfcmVuZF9zdGF0ZShuZXdfYm94X21lc2gpO1xuICAgICAgICB0aGlzLnJlbmRfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIHIpIHtcbiAgICAgICAgICAgIGlmIChuZXdfcmVuZF9zdGF0ZS5oYXMocikpIHtcbiAgICAgICAgICAgICAgICBuZXdfcmVuZF9zdGF0ZSA9IG5ld19yZW5kX3N0YXRlLnNldChyLCBzdGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVmZmVjdHMucmVwYWlyZWRfcmVuZHMgPSBlZmZlY3RzLnJlcGFpcmVkX3JlbmRzLnB1c2gocik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ld19yZW5kX3N0YXRlLmZvckVhY2goZnVuY3Rpb24gKHN0YXRlLCBuZXdfcikge1xuICAgICAgICAgICAgaWYgKCFpbm5lcl90aGlzLnJlbmRfc3RhdGUuaGFzKG5ld19yKSkge1xuICAgICAgICAgICAgICAgIGVmZmVjdHMubmV3X3JlbmRzID0gZWZmZWN0cy5uZXdfcmVuZHMucHVzaChuZXdfcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBuZXdfZGFuZ2xlX3N0YXRlID0gdGhpcy5kZWZhdWx0X2RhbmdsZV9zdGF0ZShuZXdfYm94X21lc2gpO1xuICAgICAgICB0aGlzLmRhbmdsZV9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgZCkge1xuICAgICAgICAgICAgaWYgKG5ld19kYW5nbGVfc3RhdGUuaGFzKGQpKSB7XG4gICAgICAgICAgICAgICAgbmV3X2RhbmdsZV9zdGF0ZSA9IG5ld19kYW5nbGVfc3RhdGUuc2V0KGQsIHN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzID0gZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzLnB1c2goZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5ld19kYW5nbGVfc3RhdGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUsIG5ld19kKSB7XG4gICAgICAgICAgICBpZiAoIWlubmVyX3RoaXMuZGFuZ2xlX3N0YXRlLmhhcyhuZXdfZCkpIHtcbiAgICAgICAgICAgICAgICBlZmZlY3RzLm5ld19kYW5nbGVzID0gZWZmZWN0cy5uZXdfZGFuZ2xlcy5wdXNoKG5ld19kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IG5ld19lZGdlX3N0YXRlID0gdGhpcy5lZGdlX3N0YXRlO1xuICAgICAgICBpZiAob3BlcmF0aW9uID09IEVkZ2VPcGVyYXRpb24uY3V0KSB7XG4gICAgICAgICAgICBuZXdfZWRnZV9zdGF0ZSA9IG5ld19lZGdlX3N0YXRlLnNldChlZGdlLCBuZXdfZWRnZV9zdGF0ZS5nZXQoZWRnZSwgbmV3IEVkZ2VTdGF0ZSgpKS5jdXQoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdfZWRnZV9zdGF0ZSA9IG5ld19lZGdlX3N0YXRlLnNldChlZGdlLCBuZXdfZWRnZV9zdGF0ZS5nZXQoZWRnZSwgbmV3IEVkZ2VTdGF0ZSgpKS5hcHBseV90YXBlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlKHtib3hfbWVzaDogbmV3X2JveF9tZXNoLCByZW5kX3N0YXRlOiBuZXdfcmVuZF9zdGF0ZSwgZGFuZ2xlX3N0YXRlOiBuZXdfZGFuZ2xlX3N0YXRlfSk7XG4gICAgfVxuXG4gICAgdGFrZV9uZXh0X2l0ZW0oKSB7XG4gICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG5cbiAgICAgICAgaWYgKHRoaXMuY29udGVudHMuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcignY2Fubm90IHRha2UgYW4gaXRlbSBmcm9tIGFuIGVtcHR5IGJveCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmFwcGVhcnNfb3BlbigpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ybGRVcGRhdGVFcnJvcignY2Fubm90IHRha2UgYW4gaXRlbSBmcm9tIGEgYm94IHdpdGggbm8gdmlzaWJsZSBvcGVuaW5ncycpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld19jb250ZW50cyA9IHRoaXMuY29udGVudHM7XG4gICAgICAgIGVmZmVjdHMudGFrZW5faXRlbXMgPSBlZmZlY3RzLnRha2VuX2l0ZW1zLnB1c2gobmV3X2NvbnRlbnRzLmZpcnN0KCkpO1xuICAgICAgICBuZXdfY29udGVudHMgPSBuZXdfY29udGVudHMucmVzdCgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZSh7Y29udGVudHM6IG5ld19jb250ZW50c30pO1xuICAgIH1cblxuICAgIG5leHRfaXRlbSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudHMuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50cy5maXJzdCgpO1xuICAgIH1cblxuICAgIGFwcGVhcnNfb3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVuZF9zdGF0ZS5zb21lKChzdGF0ZSkgPT4gc3RhdGUgPT0gUmVuZFN0YXRlLm9wZW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kYW5nbGVfc3RhdGUuc29tZSgoc3RhdGUpID0+IHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFwcGVhcnNfZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcGVhcnNfb3BlbigpICYmIHRoaXMuY29udGVudHMuc2l6ZSA9PSAwO1xuICAgIH1cblxuICAgIGlzX2NvbGxhcHNlZCgpe1xuICAgICAgICBsZXQgb3Blbl9mYWNlcyA9IE1hcDxGYWNlLCBudW1iZXI+KCkuYXNNdXRhYmxlKCk7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIHRoaXMucmVuZF9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgcikge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuKXtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChyKTtcbiAgICAgICAgICAgICAgICBjb3VudGVyX3VwZGF0ZShvcGVuX2ZhY2VzLCBmYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmRhbmdsZV9zdGF0ZS5mb3JFYWNoKGZ1bmN0aW9uIChzdGF0ZSwgZCkge1xuICAgICAgICAgICAgaWYgKHN0YXRlID09IFJlbmRTdGF0ZS5vcGVuKXtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChkLnBhcnRpdGlvbik7XG4gICAgICAgICAgICAgICAgY291bnRlcl91cGRhdGUob3Blbl9mYWNlcywgZmFjZV9tZW1iZXJzaGlwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHRvdGFsX29wZW5fc2lkZXMgPSAwO1xuICAgICAgICBvcGVuX2ZhY2VzLmZvckVhY2goZnVuY3Rpb24gKGNvdW50LCBmYWNlKSB7XG4gICAgICAgICAgICBpZiAoY291bnQgPiAwKSB7XG4gICAgICAgICAgICAgICAgdG90YWxfb3Blbl9zaWRlcyArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdG90YWxfb3Blbl9zaWRlcyA+PSAzO1xuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaW5nbGVCb3hXb3JsZFBhcmFtcyB7XG4gICAgYm94PzogQm94LFxuICAgIHRha2VuX2l0ZW1zPzogTGlzdDxJdGVtPixcbiAgICBzcGlsbGVkX2l0ZW1zPzogTGlzdDxJdGVtPlxufVxuXG5leHBvcnQgdHlwZSBDb21tYW5kUmVzdWx0ID0gW1NpbmdsZUJveFdvcmxkLCBzdHJpbmddO1xuXG5leHBvcnQgY2xhc3MgU2luZ2xlQm94V29ybGQge1xuICAgIHJlYWRvbmx5IGJveDogQm94O1xuICAgIHJlYWRvbmx5IHRha2VuX2l0ZW1zOiBMaXN0PEl0ZW0+O1xuICAgIHJlYWRvbmx5IHNwaWxsZWRfaXRlbXM6IExpc3Q8SXRlbT47XG5cbiAgICBjb25zdHJ1Y3Rvcih7Ym94LCB0YWtlbl9pdGVtcywgc3BpbGxlZF9pdGVtc306IFNpbmdsZUJveFdvcmxkUGFyYW1zKSB7XG4gICAgICAgIGlmIChib3ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgYm94ID0gbmV3IEJveCh7fSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ib3ggPSBib3g7XG5cbiAgICAgICAgaWYgKHRha2VuX2l0ZW1zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRha2VuX2l0ZW1zID0gTGlzdDxJdGVtPigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGFrZW5faXRlbXMgPSB0YWtlbl9pdGVtcztcblxuICAgICAgICBpZiAoc3BpbGxlZF9pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzcGlsbGVkX2l0ZW1zID0gTGlzdDxJdGVtPigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BpbGxlZF9pdGVtcyA9IHNwaWxsZWRfaXRlbXM7XG4gICAgfVxuXG4gICAgdXBkYXRlKHtib3gsIHRha2VuX2l0ZW1zLCBzcGlsbGVkX2l0ZW1zfTogU2luZ2xlQm94V29ybGRQYXJhbXMpIHtcbiAgICAgICAgaWYgKGJveCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBib3ggPSB0aGlzLmJveDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YWtlbl9pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0YWtlbl9pdGVtcyA9IHRoaXMudGFrZW5faXRlbXM7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3BpbGxlZF9pdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzcGlsbGVkX2l0ZW1zID0gdGhpcy5zcGlsbGVkX2l0ZW1zO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBTaW5nbGVCb3hXb3JsZCh7Ym94LCB0YWtlbl9pdGVtcywgc3BpbGxlZF9pdGVtc30pO1xuICAgIH1cblxuICAgIGNvbW1hbmRfcm90YXRlX3lfYm94KGRpcjogUm90YXRlWURpcldvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGRlZ3JlZXMgPSBkaXIgPT0gJ3JpZ2h0JyA/IDkwIDogMjcwO1xuICAgICAgICBsZXQgbmV3X2JveCA9IHRoaXMuYm94LnJvdGF0ZV95KGRlZ3JlZXMpO1xuICAgICAgICBsZXQgbmV3X3dvcmxkID0gdGhpcy51cGRhdGUoe2JveDogbmV3X2JveH0pO1xuXG4gICAgICAgIGxldCBtZXNzYWdlID0gYFlvdSB0dXJuIHRoZSBib3ggOTAgZGVncmVlcyB0byB0aGUgJHtkaXJ9YDtcblxuICAgICAgICByZXR1cm4gW25ld193b3JsZCwgbWVzc2FnZV07XG4gICAgfVxuXG4gICAgY29tbWFuZF9yb2xsX2JveChjbWQ6IFJvbGxEaXJXb3JkKTogQ29tbWFuZFJlc3VsdCB7XG4gICAgICAgIGxldCBpbm5lcl90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHdpdGhfd29ybGRfdXBkYXRlKGZ1bmN0aW9uIChlZmZlY3RzKSB7XG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gd29yZF8yX2Rpci5nZXQoY21kKTtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3gucm9sbChkaXJlY3Rpb24pO1xuXG4gICAgICAgICAgICBsZXQgZGlyX21zZyA9IChjbWQgPT0gJ2xlZnQnIHx8IGNtZCA9PSAncmlnaHQnKSA/IGBvdmVyIHRvIHRoZSAke2NtZH1gIDogY21kO1xuXG4gICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV0IG5ld193b3JsZDogU2luZ2xlQm94V29ybGQ7XG4gICAgICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGFnZV9sZXZlbCA9PSBTcGlsbGFnZUxldmVsLm5vbmUpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFlvdSByb2xsIHRoZSBib3ggJHtkaXJfbXNnfS5gO1xuICAgICAgICAgICAgICAgIG5ld193b3JsZCA9IGlubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3h9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHNwaWxsX21zZyA9IHVuY2FwaXRhbGl6ZShpbm5lcl90aGlzLnNwaWxsX21lc3NhZ2UobmV3X2JveCkpO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBgQXMgeW91IHJvbGwgdGhlIGJveCAke2Rpcl9tc2d9LCAke3NwaWxsX21zZ31gO1xuXG4gICAgICAgICAgICAgICAgbmV3X3dvcmxkID0gaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveCwgc3BpbGxlZF9pdGVtczogZWZmZWN0cy5zcGlsbGVkX2l0ZW1zfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLmJveF9jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9ICdcXG5UaGUgYWRkZWQgc3RyZXNzIG9uIHRoZSBib3ggY2F1c2VzIGl0IHRvIGNvbGxhcHNlIGluIG9uIGl0c2VsZi4nO1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLmNvbGxhcHNlX3NwaWxsZWRfaXRlbXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnICc7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gaW5uZXJfdGhpcy5pdGVtX3NwaWxsX21lc3NhZ2UoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbbmV3X3dvcmxkLCBtZXNzYWdlXTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tbWFuZF9saWZ0X2JveCgpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3gubGlmdCgpO1xuXG4gICAgICAgICAgICBsZXQgbXNnOiBzdHJpbmc7XG4gICAgICAgICAgICBsZXQgbmV3X3dvcmxkOiBTaW5nbGVCb3hXb3JsZDtcbiAgICAgICAgICAgIGlmIChlZmZlY3RzLnNwaWxsYWdlX2xldmVsID09IFNwaWxsYWdlTGV2ZWwubm9uZSkge1xuICAgICAgICAgICAgICAgIG1zZyA9ICdZb3UgbGlmdCB1cCB0aGUgYm94IGluIHBsYWNlLic7XG4gICAgICAgICAgICAgICAgbmV3X3dvcmxkID0gaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgc3BpbGxfbXNnID0gdW5jYXBpdGFsaXplKGlubmVyX3RoaXMuc3BpbGxfbWVzc2FnZShuZXdfYm94KSk7XG4gICAgICAgICAgICAgICAgbXNnID0gJ0FzIHlvdSBzdGFydCB0byBsaWZ0IHVwIHRoZSBib3gsICcgKyBzcGlsbF9tc2c7XG4gICAgICAgICAgICAgICAgbmV3X3dvcmxkID0gaW5uZXJfdGhpcy51cGRhdGUoe2JveDogbmV3X2JveCwgc3BpbGxlZF9pdGVtczogZWZmZWN0cy5zcGlsbGVkX2l0ZW1zfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLnNwaWxsYWdlX2xldmVsIDw9IFNwaWxsYWdlTGV2ZWwuaGVhdnkgJiYgIWVmZmVjdHMuYm94X2NvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIGxldCB0b3RhbF93ZWlnaHQgPSBuZXdfYm94LmNvbnRlbnRzLnJlZHVjZSgoeCwgaSkgPT4geCArIGkud2VpZ2h0KCksIDApO1xuICAgICAgICAgICAgICAgIHRvdGFsX3dlaWdodCA9IE1hdGguZmxvb3IodG90YWxfd2VpZ2h0IC8gMi45KTsgLy9ydWxlIG9mIHRodW1iIGZvciB0cmFuc2xhdGluZyBcIm5vcm1hbCBpdGVtIHdlaWdodHNcIiB0byBcIm5vcm1hbCBib3ggd2VpZ2h0c1wiXG5cbiAgICAgICAgICAgICAgICBpZiAodG90YWxfd2VpZ2h0ID4gV2VpZ2h0LnZlcnlfaGVhdnkpIHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWxfd2VpZ2h0ID0gV2VpZ2h0LnZlcnlfaGVhdnk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCB3ZWlnaHRfMl9tc2cgPSBNYXA8V2VpZ2h0LCBzdHJpbmc+KFtcbiAgICAgICAgICAgICAgICAgICAgW1dlaWdodC5lbXB0eSwgJ3NvIGxpZ2h0IGFzIHRvIGJlIGVtcHR5J10sXG4gICAgICAgICAgICAgICAgICAgIFtXZWlnaHQudmVyeV9saWdodCwgJ3F1aXRlIGxpZ2h0J10sXG4gICAgICAgICAgICAgICAgICAgIFtXZWlnaHQubGlnaHQsICdsaWdodCddLFxuICAgICAgICAgICAgICAgICAgICBbV2VpZ2h0Lm1lZGl1bSwgJ21lZGl1bSddLFxuICAgICAgICAgICAgICAgICAgICBbV2VpZ2h0LmhlYXZ5LCAnc29tZXdoYXQgaGVhdnknXSxcbiAgICAgICAgICAgICAgICAgICAgW1dlaWdodC52ZXJ5X2hlYXZ5LCAndmVyeSBoZWF2eSddXG4gICAgICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICAgICAgbGV0IHdlaWdodF9tc2cgPSB3ZWlnaHRfMl9tc2cuZ2V0KHRvdGFsX3dlaWdodCk7XG4gICAgICAgICAgICAgICAgbGV0IHN1YmplY3QgPSBlZmZlY3RzLnNwaWxsYWdlX2xldmVsID09IFNwaWxsYWdlTGV2ZWwubm9uZSA/ICdJdCcgOiAnVGhlIGJveCc7XG4gICAgICAgICAgICAgICAgbXNnICs9IGBcXG4ke3N1YmplY3R9IGZlZWxzICR7d2VpZ2h0X21zZ30uIFlvdSBzZXQgaXQgYmFjayBkb3duLmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlZmZlY3RzLmJveF9jb2xsYXBzZWQpIHtcbiAgICAgICAgICAgICAgICBtc2cgKz0gJ1xcblRoZSBhZGRlZCBzdHJlc3Mgb24gdGhlIGJveCBjYXVzZXMgaXQgdG8gY29sbGFwc2UgaW4gb24gaXRzZWxmLic7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBtc2cgKz0gJyAnICsgaW5uZXJfdGhpcy5pdGVtX3NwaWxsX21lc3NhZ2UoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBbbmV3X3dvcmxkLCBtc2ddO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjdXRfb3JfdGFwZV9ib3gob3BlcmF0aW9uOiBFZGdlT3BXb3JkLCBmYWNlX3c6IEZhY2VXb3JkLCBkaXI6IEVkZ2VEaXJXb3JkLCBzdGFydF9wb3NfYTogUG9zaXRpb25Xb3JkLCBzdGFydF9wb3NfYjogUG9zaXRpb25Xb3JkLCBlbmRfcG9zX2I6IFBvc2l0aW9uV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICBsZXQgaW5uZXJfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB3aXRoX3dvcmxkX3VwZGF0ZShmdW5jdGlvbiAoZWZmZWN0cykge1xuICAgICAgICAgICAgbGV0IGZhY2UgPSB3b3JkXzJfZmFjZS5nZXQoZmFjZV93KTtcbiAgICAgICAgICAgIGlmIChmYWNlICE9PSBGYWNlLnQgJiYgZmFjZSAhPT0gRmFjZS5zKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbW1hbmRFcnJvcihgZmFjZSBtdXN0IGJlIGVpdGhlciB0b3Agb3IgZnJvbnQuIGdvdCAke2ZhY2V9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkaW1fMl9wb3MgPSBbXG4gICAgICAgICAgICAgICAgWydsZWZ0JywgJ2NlbnRlcicsICdyaWdodCddLFxuICAgICAgICAgICAgICAgIFsndG9wJywnbWlkZGxlJywgJ2JvdHRvbSddXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICBsZXQgZGltX2E6IG51bWJlcjtcbiAgICAgICAgICAgIGxldCBkaW1fYjogbnVtYmVyO1xuXG4gICAgICAgICAgICBpZiAoZGlyID09ICd2ZXJ0aWNhbGx5Jykge1xuICAgICAgICAgICAgICAgIGRpbV9hID0gMDtcbiAgICAgICAgICAgICAgICBkaW1fYiA9IDFcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGltX2EgPSAxO1xuICAgICAgICAgICAgICAgIGRpbV9iID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRpbV8yX3Bvc1tkaW1fYV0uaW5kZXhPZihzdGFydF9wb3NfYSkgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29tbWFuZEVycm9yKGBpbnZhbGlkIHN0YXJ0X3Bvc19hIGZvciAke2Rpcn0gJHtvcGVyYXRpb259OiAke3N0YXJ0X3Bvc19hfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpbV8yX3Bvc1tkaW1fYl0uaW5kZXhPZihzdGFydF9wb3NfYikgPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29tbWFuZEVycm9yKGBpbnZhbGlkIHN0YXJ0X3Bvc19iIGZvciAke2Rpcn0gJHtvcGVyYXRpb259OiAke3N0YXJ0X3Bvc19ifWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRpbV8yX3Bvc1tkaW1fYl0uaW5kZXhPZihlbmRfcG9zX2IpID09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENvbW1hbmRFcnJvcihgaW52YWxpZCBlbmRfcG9zX2IgZm9yICR7ZGlyfSAke29wZXJhdGlvbn06ICR7ZW5kX3Bvc19ifWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcHQxOiBQb2ludDIgPSBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgICBsZXQgcHQyOiBQb2ludDIgPSBbbnVsbCwgbnVsbF07XG5cbiAgICAgICAgICAgIHB0MVtkaW1fYV0gPSBwdDJbZGltX2FdID0gZGltXzJfcG9zW2RpbV9hXS5pbmRleE9mKHN0YXJ0X3Bvc19hKTtcblxuICAgICAgICAgICAgcHQxW2RpbV9iXSA9IGRpbV8yX3Bvc1tkaW1fYl0uaW5kZXhPZihzdGFydF9wb3NfYik7XG4gICAgICAgICAgICBwdDJbZGltX2JdID0gZGltXzJfcG9zW2RpbV9iXS5pbmRleE9mKGVuZF9wb3NfYik7XG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhwdDFbZGltX2JdIC0gcHQyW2RpbV9iXSkgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb21tYW5kRXJyb3IoJ25vIGNoYW5nZSBiZXR3ZWVuIHN0YXJ0X3Bvc19iIGFuZCBlbmRfcG9zX2IuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjdXRfcG9pbnRzOiBbUG9pbnQyLCBQb2ludDJdW107XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMocHQxW2RpbV9iXSAtIHB0MltkaW1fYl0pID09IDIpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHQzOiBQb2ludDIgPSBbbnVsbCwgbnVsbF07XG4gICAgICAgICAgICAgICAgcHQzW2RpbV9hXSA9IGRpbV8yX3Bvc1tkaW1fYV0uaW5kZXhPZihzdGFydF9wb3NfYSk7XG4gICAgICAgICAgICAgICAgcHQzW2RpbV9iXSA9IDE7XG5cbiAgICAgICAgICAgICAgICBjdXRfcG9pbnRzID0gW1twdDEsIHB0M10sIFtwdDMsIHB0Ml1dO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjdXRfcG9pbnRzID0gW1twdDEsIHB0Ml1dO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY3V0X2VkZ2Vfc3RhdGVzID0gTGlzdDxFZGdlU3RhdGU+KCk7XG5cbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3g7XG5cbiAgICAgICAgICAgIGN1dF9wb2ludHMuZm9yRWFjaChmdW5jdGlvbiAoW3AxLCBwMl0pIHtcbiAgICAgICAgICAgICAgICBsZXQgdmVydGljZXMgPSBuZXdfYm94LmJveF9tZXNoLmZhY2VfbWVzaGVzLmdldChmYWNlKS52ZXJ0aWNlcztcbiAgICAgICAgICAgICAgICBsZXQgdjEgPSB2ZXJ0aWNlcy5nZXQocDFbMF0sIHAxWzFdKTtcbiAgICAgICAgICAgICAgICBsZXQgdjIgPSB2ZXJ0aWNlcy5nZXQocDJbMF0sIHAyWzFdKTtcbiAgICAgICAgICAgICAgICBsZXQgZWRnZSA9IG5ldyBFZGdlKHYxLCB2Mik7XG5cbiAgICAgICAgICAgICAgICBjdXRfZWRnZV9zdGF0ZXMgPSBjdXRfZWRnZV9zdGF0ZXMucHVzaChuZXdfYm94LmVkZ2Vfc3RhdGUuZ2V0KGVkZ2UsIG5ldyBFZGdlU3RhdGUoKSkpO1xuICAgICAgICAgICAgICAgIG5ld19ib3ggPSBuZXdfYm94LmN1dF9vcl90YXBlKHdvcmRfMl9lZGdlX29wLmdldChvcGVyYXRpb24pLCBmYWNlLCBwMSwgcDIpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVmZmVjdHMubmV3X2RhbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAobmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0cy5uZXdfcmVuZHMuY29udGFpbnMobmQucGFydGl0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBlZmZlY3RzLm5ld19kYW5nbGVzID0gZWZmZWN0cy5uZXdfZGFuZ2xlcy5yZW1vdmUoZWZmZWN0cy5uZXdfZGFuZ2xlcy5pbmRleE9mKG5kKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVmZmVjdHMucmVwYWlyZWRfZGFuZ2xlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZCkge1xuICAgICAgICAgICAgICAgIGlmIChlZmZlY3RzLm5ld19yZW5kcy5jb250YWlucyhyZC5wYXJ0aXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGVmZmVjdHMucmVwYWlyZWRfZGFuZ2xlcyA9IGVmZmVjdHMucmVwYWlyZWRfZGFuZ2xlcy5yZW1vdmUoZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzLmluZGV4T2YocmQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGV0IG1lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24gPT0gJ2N1dCcpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gaW5uZXJfdGhpcy5jdXRfbWVzc2FnZShuZXdfYm94LCBjdXRfZWRnZV9zdGF0ZXMsIGVmZmVjdHMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gaW5uZXJfdGhpcy50YXBlX21lc3NhZ2UobmV3X2JveCwgY3V0X2VkZ2Vfc3RhdGVzLCBlZmZlY3RzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFtpbm5lcl90aGlzLnVwZGF0ZSh7Ym94OiBuZXdfYm94fSksIG1lc3NhZ2VdO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjdXRfbWVzc2FnZShuZXdfYm94OiBCb3gsIGN1dF9lZGdlX3N0YXRlczogTGlzdDxFZGdlU3RhdGU+LCBlZmZlY3RzOiBXb3JsZFVwZGF0ZUVmZmVjdHMpIHtcbiAgICAgICAgbGV0IGN1dF9tZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgIGlmIChjdXRfZWRnZV9zdGF0ZXMuZ2V0KDApLmNhcmRib2FyZCA9PSBDYXJkYm9hcmRFZGdlLmludGFjdCkge1xuICAgICAgICAgICAgY3V0X21lc3NhZ2UgPSAnWW91IHNsaWRlIHlvdXIgYmxhZGUgYWxvbmcgdGhlIGNhcmRib2FyZCc7XG4gICAgICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLmdldCgwKS50YXBlID09IFRhcGVFZGdlLnRhcGVkKSB7XG4gICAgICAgICAgICAgICAgY3V0X21lc3NhZ2UgKz0gJyBhbmQgdGFwZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXRfbWVzc2FnZSArPSAnLic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLmdldCgwKS50YXBlID09IFRhcGVFZGdlLnRhcGVkKSB7XG4gICAgICAgICAgICAgICAgY3V0X21lc3NhZ2UgPSAnWW91IGRyYXcgeW91ciBibGFkZSBlYXNpbHkgYWxvbmcgdGhlIGxpbmUuIEl0IHNsaXRzIG9wZW4gdGhlIHRoaW4gbGF5ZXIgb2YgdGFwZSBjb3ZlcmluZyB0aGUgZ2FwIGluIHRoZSBjYXJkYm9hcmQuJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY3V0X21lc3NhZ2UgPSAnWW91IHNsaWRlIHlvdXIgYmxhZGUgYWxvbmcgdGhlIGxpbmUsIGJ1dCBub3RoaW5nIGlzIHRoZXJlIHRvIHJlc2lzdCBpdC4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGN1dF9lZGdlX3N0YXRlcy5zaXplID4gMSkge1xuICAgICAgICAgICAgaWYgKGN1dF9lZGdlX3N0YXRlcy5nZXQoMSkuY2FyZGJvYXJkICE9IGN1dF9lZGdlX3N0YXRlcy5nZXQoMCkuY2FyZGJvYXJkKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1dF9lZGdlX3N0YXRlcy5nZXQoMSkuY2FyZGJvYXJkID09IENhcmRib2FyZEVkZ2UuaW50YWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN1dF9tZXNzYWdlICs9ICcgSGFsZndheSBhY3Jvc3MsIGl0IGNhdGNoZXMgb24gc29saWQgY2FyZGJvYXJkLCBhbmQgeW91IHB1bGwgaXQgYWxvbmcgdGhlIHJlc3Qgb2YgdGhlIHdheS4nO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXRfZWRnZV9zdGF0ZXMuZ2V0KDEpLnRhcGUgPT0gVGFwZUVkZ2UudGFwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1dF9tZXNzYWdlICs9ICcgSGFsZndheSBhY3Jvc3MsIHlvdSByZWFjaCBhIGdhcCBpbiB0aGUgY2FyZGJvYXJkLCBhbmQgeW91ciBibGFkZSBzbGlkZXMgZWFzaWx5IGFsb25nIHRoZSB0aGluIGxheWVyIG9mIHRhcGUuJztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1dF9tZXNzYWdlICs9ICcgSGFsZndheSBhY3Jvc3MsIHlvdSByZWFjaCBhIGdhcCBpbiB0aGUgY2FyZGJvYXJkLCBhbmQgeW91ciBibGFkZSBpcyBtZXQgd2l0aCBubyBmdXJ0aGVyIHJlc2lzdGFuY2UuJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtZXNzYWdlID0gY3V0X21lc3NhZ2U7XG4gICAgICAgIGlmIChlZmZlY3RzLm5ld19yZW5kcy5zaXplID4gMCkge1xuICAgICAgICAgICAgbGV0IHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCA9IE1hcDxGYWNlLCBudW1iZXI+KCk7XG4gICAgICAgICAgICBlZmZlY3RzLm5ld19yZW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZhY2VfbWVtYmVyc2hpcCA9IG5ld19ib3guYm94X21lc2guZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAocik7XG4gICAgICAgICAgICAgICAgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gY291bnRlcl91cGRhdGUodG90YWxfZmFjZV9tZW1iZXJzaGlwLCBmYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGxldCBmYWNlX29yZGVyID0gY291bnRlcl9vcmRlcih0b3RhbF9mYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgbGV0IGZhY2VfbXNnID0gZmFjZV9tZXNzYWdlKGZhY2Vfb3JkZXIpO1xuXG4gICAgICAgICAgICBsZXQgbmV3X3JlbmRzX21lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgICAgIGlmIChlZmZlY3RzLm5ld19yZW5kcy5zaXplID09IDEpIHtcbiAgICAgICAgICAgICAgICBuZXdfcmVuZHNfbWVzc2FnZSA9IGBBIG5ldyBzZWN0aW9uIG9mIGNhcmRib2FyZCBjb21lcyBmcmVlIG9uIHRoZSAke2ZhY2VfbXNnfS5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdfcmVuZHNfbWVzc2FnZSA9IGAke2ZhY2Vfb3JkZXIuc2l6ZX0gbmV3IHNlY3Rpb25zIG9mIGNhcmRib2FyZCBjb21lIGZyZWUgb24gdGhlICR7ZmFjZV9tc2d9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbicgKyBuZXdfcmVuZHNfbWVzc2FnZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlZmZlY3RzLm5ld19kYW5nbGVzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBsZXQgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gTWFwPEZhY2UsIG51bWJlcj4oKTtcbiAgICAgICAgICAgIGVmZmVjdHMubmV3X2RhbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgICAgIGxldCBmYWNlX21lbWJlcnNoaXAgPSBuZXdfYm94LmJveF9tZXNoLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKGQucGFydGl0aW9uKTtcbiAgICAgICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBjb3VudGVyX3VwZGF0ZSh0b3RhbF9mYWNlX21lbWJlcnNoaXAsIGZhY2VfbWVtYmVyc2hpcCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgbGV0IGZhY2Vfb3JkZXIgPSBjb3VudGVyX29yZGVyKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCk7XG4gICAgICAgICAgICBsZXQgZmFjZV9tc2cgPSBmYWNlX21lc3NhZ2UoZmFjZV9vcmRlcik7XG5cbiAgICAgICAgICAgIGxldCBuZXdfcmVuZHNfbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKGVmZmVjdHMubmV3X2RhbmdsZXMuc2l6ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgbmV3X3JlbmRzX21lc3NhZ2UgPSBgQSBuZXcgc2VjdGlvbiBvZiBjYXJkYm9hcmQgb24gdGhlICR7ZmFjZV9tc2d9IGNhbiBiZSBzd3VuZyBmcmVlbHkgb24gYSBoaW5nZS5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdfcmVuZHNfbWVzc2FnZSA9IGAke2ZhY2Vfb3JkZXIuc2l6ZX0gbmV3IHNlY3Rpb25zIG9mIGNhcmRib2FyZCBvbiB0aGUgJHtmYWNlX21zZ30gY2FuIGJlIHN3dW5nIGZyZWVseSBvbiBhIGhpbmdlYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbicgKyBuZXdfcmVuZHNfbWVzc2FnZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICB9XG5cbiAgICB0YXBlX21lc3NhZ2UobmV3X2JveDogQm94LCBjdXRfZWRnZV9zdGF0ZXM6IExpc3Q8RWRnZVN0YXRlPiwgZWZmZWN0czogV29ybGRVcGRhdGVFZmZlY3RzKSB7XG4gICAgICAgIGxldCB0YXBlX21lc3NhZ2U6IHN0cmluZztcbiAgICAgICAgaWYgKGN1dF9lZGdlX3N0YXRlcy5zb21lKChjZXMpID0+IGNlcy5jYXJkYm9hcmQgPT0gQ2FyZGJvYXJkRWRnZS5pbnRhY3QpKSB7XG4gICAgICAgICAgICB0YXBlX21lc3NhZ2UgPSAnWW91IGRyYXcgb3V0IGEgbGVuZ3RoIG9mIHRhcGUgYW5kIGZhc3RlbiBpdCB0byB0aGUgY2FyZGJvYXJkLic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoY3V0X2VkZ2Vfc3RhdGVzLnNvbWUoKGNlcykgPT4gY2VzLnRhcGUgPT0gVGFwZUVkZ2UudGFwZWQpKSB7XG4gICAgICAgICAgICAgICAgdGFwZV9tZXNzYWdlID0gJ1lvdSBsYXkgYW5vdGhlciBsZW5ndGggb2YgdGFwZSBvdmVyIHRoZSBjdXQgZWRnZS4nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXBlX21lc3NhZ2UgPSAnWW91IHNlYWwgdGhlIGdhcCBpbiB0aGUgY2FyZGJvYXJkIHdpdGggYSBsZW5ndGggb2YgdGFwZS4nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0YXBlX21lc3NhZ2U7XG4gICAgICAgIGlmIChlZmZlY3RzLnJlcGFpcmVkX2RhbmdsZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBNYXA8RmFjZSwgbnVtYmVyPigpO1xuICAgICAgICAgICAgZWZmZWN0cy5yZXBhaXJlZF9kYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gbmV3X2JveC5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChkLnBhcnRpdGlvbik7XG4gICAgICAgICAgICAgICAgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gY291bnRlcl91cGRhdGUodG90YWxfZmFjZV9tZW1iZXJzaGlwLCBmYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGxldCBmYWNlX29yZGVyID0gY291bnRlcl9vcmRlcih0b3RhbF9mYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgbGV0IGZhY2VfbXNnID0gZmFjZV9tZXNzYWdlKGZhY2Vfb3JkZXIpO1xuXG4gICAgICAgICAgICBsZXQgcmVwYWlyZWRfZGFuZ2xlc19tZXNzYWdlOiBzdHJpbmc7XG4gICAgICAgICAgICBpZiAoZWZmZWN0cy5uZXdfcmVuZHMuc2l6ZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgcmVwYWlyZWRfZGFuZ2xlc19tZXNzYWdlID0gYEEgZm9ybWVybHkgZnJlZWx5LXN3aW5naW5nIHNlY3Rpb24gb2YgY2FyZGJvYXJkIG9uIHRoZSAke2ZhY2VfbXNnfSBjYW4gbm8gbG9uZ2VyIHN3aW5nIG9uIGl0cyBoaW5nZS5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXBhaXJlZF9kYW5nbGVzX21lc3NhZ2UgPSBgJHtmYWNlX29yZGVyLnNpemV9IGZvcm1lcmx5IGZyZWVseS1zd2luZ2luZyBzZWN0aW9ucyBvZiBjYXJkYm9hcmQgb24gdGhlICR7ZmFjZV9tc2d9IGNhbiBubyBsb25nZXIgc3dpbmcgb24gdGhlaXIgaGluZ2VzLmA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXNzYWdlICs9ICdcXG4nICsgcmVwYWlyZWRfZGFuZ2xlc19tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgIH1cblxuICAgIGNvbW1hbmRfY3V0X2JveChmYWNlX3c6IEZhY2VXb3JkLCBkaXI6IEVkZ2VEaXJXb3JkLCBzdGFydF9wb3NfYTogUG9zaXRpb25Xb3JkLCBzdGFydF9wb3NfYjogUG9zaXRpb25Xb3JkLCBlbmRfcG9zX2I6IFBvc2l0aW9uV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXRfb3JfdGFwZV9ib3goJ2N1dCcsIGZhY2VfdywgZGlyLCBzdGFydF9wb3NfYSwgc3RhcnRfcG9zX2IsIGVuZF9wb3NfYik7XG4gICAgfVxuXG4gICAgY29tbWFuZF90YXBlX2JveChmYWNlX3c6IEZhY2VXb3JkLCBkaXI6IEVkZ2VEaXJXb3JkLCBzdGFydF9wb3NfYTogUG9zaXRpb25Xb3JkLCBzdGFydF9wb3NfYjogUG9zaXRpb25Xb3JkLCBlbmRfcG9zX2I6IFBvc2l0aW9uV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXRfb3JfdGFwZV9ib3goJ3RhcGUnLCBmYWNlX3csIGRpciwgc3RhcnRfcG9zX2EsIHN0YXJ0X3Bvc19iLCBlbmRfcG9zX2IpO1xuICAgIH1cblxuICAgIGl0ZW1fc3BpbGxfbWVzc2FnZShzcGlsbGVkX2l0ZW1zOiBMaXN0PEl0ZW0+KXtcbiAgICAgICAgbGV0IHNpID0gc3BpbGxlZF9pdGVtcztcbiAgICAgICAgbGV0IGR1cmluZ19zcGlsbF9tc2c6IHN0cmluZztcbiAgICAgICAgbGV0IGFmdGVyX3NwaWxsX21zZzogc3RyaW5nO1xuXG4gICAgICAgIGlmIChzaS5zaXplID09IDEpIHtcbiAgICAgICAgICAgIGxldCBpdGVtX21zZyA9IHNpLmdldCgwKS5wcmVfZ2VzdGFsdCgpO1xuICAgICAgICAgICAgZHVyaW5nX3NwaWxsX21zZyA9IGAke2NhcGl0YWxpemUoaXRlbV9tc2cpfSBzcGlsbHMgb3V0IGJlZm9yZSB5b3UuYDtcbiAgICAgICAgICAgIGFmdGVyX3NwaWxsX21zZyA9IGBJdCdzICR7c2kuZ2V0KDApLmFydGljbGUoKX0gJHtzaS5nZXQoMCkubmFtZSgpfSAtICR7c2kuZ2V0KDApLnBvc3RfZ2VzdGFsdCgpfS5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGl0ZW1fbXNnID0gc2kuYnV0TGFzdCgpLm1hcCgoaSkgPT4gaS5wcmVfZ2VzdGFsdCgpKS5qb2luKCcsICcpICsgJyBhbmQgJyArIHNpLmxhc3QoKS5wcmVfZ2VzdGFsdCgpO1xuICAgICAgICAgICAgZHVyaW5nX3NwaWxsX21zZyA9IGNhcGl0YWxpemUoYCR7aXRlbV9tc2d9IHNwaWxsIG91dCBiZWZvcmUgeW91LmApO1xuXG4gICAgICAgICAgICBsZXQgYWZ0ZXJfbXNncyA9IHNpLm1hcCgoaSkgPT4gYCR7aS5hcnRpY2xlKCl9ICR7aS5uYW1lKCl9IC0gJHtpLnBvc3RfZ2VzdGFsdCgpfWApO1xuICAgICAgICAgICAgYWZ0ZXJfc3BpbGxfbXNnID0gXCJJdCdzIFwiICsgYWZ0ZXJfbXNncy5idXRMYXN0KCkuam9pbignLCAnKSArICcgYW5kICcgKyBhZnRlcl9tc2dzLmxhc3QoKSArICcuJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcGlsbF9tc2cgPSBkdXJpbmdfc3BpbGxfbXNnICsgJyAnICsgYWZ0ZXJfc3BpbGxfbXNnO1xuICAgICAgICByZXR1cm4gc3BpbGxfbXNnO1xuICAgIH1cblxuICAgIHNwaWxsX21lc3NhZ2UobmV3X2JveDogQm94KSB7XG4gICAgICAgIGxldCBlZmZlY3RzID0gd29ybGRfdXBkYXRlLmVmZmVjdHM7XG5cbiAgICAgICAgbGV0IHN0cnVjdHVyYWxfZG1nX21zZ3MgPSBMaXN0PHN0cmluZz4oKTtcblxuICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGVkX3JlbmRzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBsZXQgdG90YWxfZmFjZV9tZW1iZXJzaGlwID0gTWFwPEZhY2UsIG51bWJlcj4oKTtcbiAgICAgICAgICAgIGVmZmVjdHMuc3BpbGxlZF9yZW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChzcikge1xuICAgICAgICAgICAgICAgIGxldCBzcl9tZW0gPSBuZXdfYm94LmJveF9tZXNoLmdldF9wYXJ0aXRpb25fZmFjZV9tZW1iZXJzaGlwKHNyKTtcbiAgICAgICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBjb3VudGVyX3VwZGF0ZSh0b3RhbF9mYWNlX21lbWJlcnNoaXAsIHNyX21lbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCBzcl9mYWNlcyA9IGNvdW50ZXJfb3JkZXIodG90YWxfZmFjZV9tZW1iZXJzaGlwKTtcbiAgICAgICAgICAgIGxldCBmX21zZyA9IGZhY2VfbWVzc2FnZShzcl9mYWNlcyk7XG4gICAgICAgICAgICBsZXQgc3BpbGxlZF9yZW5kc19tc2cgPSBgZnJlZSBjYXJkYm9hcmQgb24gdGhlICR7Zl9tc2d9IGZhbGxzIGF3YXlgO1xuICAgICAgICAgICAgc3RydWN0dXJhbF9kbWdfbXNncyA9IHN0cnVjdHVyYWxfZG1nX21zZ3MucHVzaChzcGlsbGVkX3JlbmRzX21zZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWZmZWN0cy5zcGlsbGVkX2RhbmdsZXMuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSBNYXA8RmFjZSwgbnVtYmVyPigpO1xuICAgICAgICAgICAgZWZmZWN0cy5zcGlsbGVkX2RhbmdsZXMuZm9yRWFjaChmdW5jdGlvbiAoc2QpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2RfbWVtID0gbmV3X2JveC5ib3hfbWVzaC5nZXRfcGFydGl0aW9uX2ZhY2VfbWVtYmVyc2hpcChzZC5wYXJ0aXRpb24pO1xuICAgICAgICAgICAgICAgIHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCA9IGNvdW50ZXJfdXBkYXRlKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCwgc2RfbWVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGV0IHNkX2ZhY2VzID0gY291bnRlcl9vcmRlcih0b3RhbF9mYWNlX21lbWJlcnNoaXApO1xuICAgICAgICAgICAgbGV0IGZfbXNnID0gZmFjZV9tZXNzYWdlKHNkX2ZhY2VzKTtcbiAgICAgICAgICAgIGxldCBzcGlsbGVkX2RhbmdsZXNfbXNnID0gYGRhbmdsaW5nIGNhcmRib2FyZCBvbiB0aGUgJHtmX21zZ30gc3dpbmdzIG9wZW5gO1xuICAgICAgICAgICAgc3RydWN0dXJhbF9kbWdfbXNncyA9IHN0cnVjdHVyYWxfZG1nX21zZ3MucHVzaChzcGlsbGVkX2RhbmdsZXNfbXNnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcGlsbF9tc2cgPSB0aGlzLml0ZW1fc3BpbGxfbWVzc2FnZShlZmZlY3RzLnNwaWxsZWRfaXRlbXMpO1xuICAgICAgICBsZXQgcmVzdWx0OiBzdHJpbmc7XG5cbiAgICAgICAgaWYgKHN0cnVjdHVyYWxfZG1nX21zZ3Muc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIGxldCBzdHJ1Y3R1cmVfZG1nX21zZyA9IHN0cnVjdHVyYWxfZG1nX21zZ3Muam9pbignIGFuZCAnKTtcbiAgICAgICAgICAgIHJlc3VsdCA9IGAke3N0cnVjdHVyZV9kbWdfbXNnfS4gJHtzcGlsbF9tc2d9YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNwaWxsX21zZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIGNvbW1hbmRfb3Blbl9kYW5nbGUoZmFjZTogRmFjZVdvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3Blbl9vcl9jbG9zZV9kYW5nbGUoJ29wZW4nLCBmYWNlKTtcbiAgICB9XG5cbiAgICBjb21tYW5kX2Nsb3NlX2RhbmdsZShmYWNlOiBGYWNlV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICByZXR1cm4gdGhpcy5vcGVuX29yX2Nsb3NlX2RhbmdsZSgnY2xvc2UnLCBmYWNlKTtcbiAgICB9XG5cbiAgICBvcGVuX29yX2Nsb3NlX2RhbmdsZShvcGVyYXRpb246IFJlbmRPcFdvcmQsIGZhY2VfdzogRmFjZVdvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBmYWNlID0gd29yZF8yX2ZhY2UuZ2V0KGZhY2VfdylcbiAgICAgICAgICAgIGxldCBhcHBsaWNhYmxlX2RhbmdsZXMgPSBpbm5lcl90aGlzLmJveC5kYW5nbGVfc3RhdGUua2V5U2VxKCkuZmlsdGVyKChkKSA9PiBkLmZyZWVfZmFjZSA9PSBmYWNlKTtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3g7XG4gICAgICAgICAgICBsZXQgdXBkYXRlZCA9IExpc3Q8RGFuZ2xlPigpO1xuICAgICAgICAgICAgYXBwbGljYWJsZV9kYW5nbGVzLmZvckVhY2goZnVuY3Rpb24gKGQpe1xuICAgICAgICAgICAgICAgIGxldCBlcnIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuZXdfYm94ID0gbmV3X2JveC5vcGVuX29yX2Nsb3NlX2RhbmdsZSh3b3JkXzJfcmVuZF9vcC5nZXQob3BlcmF0aW9uKSwgZCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgV29ybGRVcGRhdGVFcnJvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZCA9IHVwZGF0ZWQucHVzaChkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh1cGRhdGVkLnNpemUgPT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JsZFVwZGF0ZUVycm9yKGBObyBkYW5nbGVzIHRvICR7b3BlcmF0aW9ufSBvbiAke2ZhY2V9IGZhY2VgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHN3aW5nX2Rpcl9tc2cgPSBvcGVyYXRpb24gPT0gJ2Nsb3NlJyA/ICdpbicgOiAnb3V0JztcbiAgICAgICAgICAgIGxldCBudW1faGluZ2VzID0gdXBkYXRlZC5tYXAoKGQpID0+IGQuZml4ZWRfZmFjZSkudG9TZXQoKS5zaXplO1xuICAgICAgICAgICAgbGV0IGhpbmdlX21zZzogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKG51bV9oaW5nZXMgPT0gMSkge1xuICAgICAgICAgICAgICAgIGhpbmdlX21zZyA9ICdoaW5nZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpbmdlX21zZyA9ICdoaW5nZXMnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGBZb3Ugc3dpbmcgdGhlIGNhcmRib2FyZCBvbiB0aGUgJHtGYWNlW2ZhY2VdfSBvZiB0aGUgYm94ICR7c3dpbmdfZGlyX21zZ30gb24gaXRzICR7aGluZ2VfbXNnfWA7XG4gICAgICAgICAgICBpZiAoIWlubmVyX3RoaXMuYm94LmFwcGVhcnNfb3BlbigpICYmIG5ld19ib3guYXBwZWFyc19vcGVuKCkpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlICs9ICdcXG5Zb3UgZ2V0IGEgZ2xpbXBzZSBpbnNpZGUgdGhlIGJveCB0aHJvdWdoIHRoZSBvcGVuaW5nLic7XG5cbiAgICAgICAgICAgICAgICBpZiAobmV3X2JveC5hcHBlYXJzX2VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBcIiBJdCdzIGVtcHR5LlwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gYCBZb3UgY2FuIHNlZSAke25ld19ib3gubmV4dF9pdGVtKCkucHJlX2dlc3RhbHQoKX0gaW5zaWRlLmA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVmZmVjdHMuYm94X2NvbGxhcHNlZCkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcblRoZSBhZGRlZCBzdHJlc3Mgb24gdGhlIGJveCBjYXVzZXMgaXQgdG8gY29sbGFwc2UgaW4gb24gaXRzZWxmLic7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcy5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9ICcgJyArIGlubmVyX3RoaXMuaXRlbV9zcGlsbF9tZXNzYWdlKGVmZmVjdHMuY29sbGFwc2Vfc3BpbGxlZF9pdGVtcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtpbm5lcl90aGlzLnVwZGF0ZSh7Ym94OiBuZXdfYm94fSksIG1lc3NhZ2VdO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb21tYW5kX29wZW5fcmVuZChmYWNlX3c6IEZhY2VXb3JkKTogQ29tbWFuZFJlc3VsdCB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wZW5fb3JfY2xvc2VfcmVuZCgnb3BlbicsIGZhY2Vfdyk7XG4gICAgfVxuXG4gICAgY29tbWFuZF9jbG9zZV9yZW5kKGZhY2VfdzogRmFjZVdvcmQpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3Blbl9vcl9jbG9zZV9yZW5kKCdjbG9zZScsIGZhY2Vfdyk7XG4gICAgfVxuXG4gICAgb3Blbl9vcl9jbG9zZV9yZW5kKG9wZXJhdGlvbjogUmVuZE9wV29yZCwgZmFjZV93OiBGYWNlV29yZCk6IENvbW1hbmRSZXN1bHQge1xuICAgICAgICBsZXQgaW5uZXJfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB3aXRoX3dvcmxkX3VwZGF0ZShmdW5jdGlvbiAoZWZmZWN0cykge1xuICAgICAgICAgICAgbGV0IGZhY2UgPSB3b3JkXzJfZmFjZS5nZXQoZmFjZV93KTtcbiAgICAgICAgICAgIGxldCBhcHBsaWNhYmxlX3JlbmRzID0gTGlzdDxQYXJ0aXRpb24+KCk7XG4gICAgICAgICAgICBpbm5lcl90aGlzLmJveC5yZW5kX3N0YXRlLmZvckVhY2goZnVuY3Rpb24gKHMsIHIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjZV9tZW1iZXJzaGlwID0gaW5uZXJfdGhpcy5ib3guYm94X21lc2guZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAocik7XG4gICAgICAgICAgICAgICAgaWYgKGZhY2VfbWVtYmVyc2hpcC5nZXQoZmFjZSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGxpY2FibGVfcmVuZHMgPSBhcHBsaWNhYmxlX3JlbmRzLnB1c2gocik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3g7XG4gICAgICAgICAgICBsZXQgdXBkYXRlZCA9IExpc3Q8UGFydGl0aW9uPigpO1xuICAgICAgICAgICAgYXBwbGljYWJsZV9yZW5kcy5mb3JFYWNoKGZ1bmN0aW9uIChyKXtcbiAgICAgICAgICAgICAgICBsZXQgZXJyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV3X2JveCA9IG5ld19ib3gub3Blbl9vcl9jbG9zZV9yZW5kKHdvcmRfMl9yZW5kX29wLmdldChvcGVyYXRpb24pLCByKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVyciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBXb3JsZFVwZGF0ZUVycm9yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkID0gdXBkYXRlZC5wdXNoKHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZWQuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmxkVXBkYXRlRXJyb3IoYE5vIHJlbmRzIHRvICR7b3BlcmF0aW9ufSBvbiAke2ZhY2V9IGZhY2VgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCA9IE1hcDxGYWNlLCBudW1iZXI+KCk7XG4gICAgICAgICAgICB0b3RhbF9mYWNlX21lbWJlcnNoaXAgPSB1cGRhdGVkLnJlZHVjZShcbiAgICAgICAgICAgICAgICAodG90YWwsIHIpID0+IGNvdW50ZXJfdXBkYXRlKFxuICAgICAgICAgICAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJfdGhpcy5ib3guYm94X21lc2guZ2V0X3BhcnRpdGlvbl9mYWNlX21lbWJlcnNoaXAocikpLFxuICAgICAgICAgICAgICAgIHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCk7XG5cbiAgICAgICAgICAgIGxldCBmYWNlX21zZyA9IGZhY2VfbWVzc2FnZShjb3VudGVyX29yZGVyKHRvdGFsX2ZhY2VfbWVtYmVyc2hpcCkpO1xuXG4gICAgICAgICAgICBsZXQgbWVzc2FnZTogc3RyaW5nO1xuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gYFlvdSByZW1vdmUgdGhlIGZyZWUgY2FyZGJvYXJkIGZyb20gdGhlICR7ZmFjZV9tc2d9IGFuZCBwbGFjZSBpdCB0byB0aGUgc2lkZS5gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBgWW91IHJlcGxhY2UgdGhlIG1pc3NpbmcgY2FyZGJvYXJkIGZyb20gdGhlICR7ZmFjZV9tc2d9LmA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaW5uZXJfdGhpcy5ib3guYXBwZWFyc19vcGVuKCkgJiYgbmV3X2JveC5hcHBlYXJzX29wZW4oKSkge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJ1xcbllvdSBnZXQgYSBnbGltcHNlIGluc2lkZSB0aGUgYm94IHRocm91Z2ggdGhlIG9wZW5pbmcuJztcblxuICAgICAgICAgICAgICAgIGlmIChuZXdfYm94LmFwcGVhcnNfZW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlICs9IFwiIEl0J3MgZW1wdHkuXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgIFlvdSBjYW4gc2VlICR7bmV3X2JveC5uZXh0X2l0ZW0oKS5wcmVfZ2VzdGFsdCgpfSBpbnNpZGUuYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZWZmZWN0cy5ib3hfY29sbGFwc2VkKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuVGhlIGFkZGVkIHN0cmVzcyBvbiB0aGUgYm94IGNhdXNlcyBpdCB0byBjb2xsYXBzZSBpbiBvbiBpdHNlbGYuJztcbiAgICAgICAgICAgICAgICBpZiAoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zLnNpemUgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgKz0gJyAnICsgaW5uZXJfdGhpcy5pdGVtX3NwaWxsX21lc3NhZ2UoZWZmZWN0cy5jb2xsYXBzZV9zcGlsbGVkX2l0ZW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW2lubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3h9KSwgbWVzc2FnZV07XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbW1hbmRfdGFrZV9pdGVtX2JveCgpOiBDb21tYW5kUmVzdWx0IHtcbiAgICAgICAgbGV0IGlubmVyX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gd2l0aF93b3JsZF91cGRhdGUoZnVuY3Rpb24gKGVmZmVjdHMpIHtcbiAgICAgICAgICAgIGxldCBuZXdfYm94ID0gaW5uZXJfdGhpcy5ib3gudGFrZV9uZXh0X2l0ZW0oKTtcblxuICAgICAgICAgICAgbGV0IG5ld190YWtlbl9pdGVtcyA9IGlubmVyX3RoaXMudGFrZW5faXRlbXM7XG4gICAgICAgICAgICBuZXdfdGFrZW5faXRlbXMucHVzaCguLi5lZmZlY3RzLnRha2VuX2l0ZW1zLnRvQXJyYXkoKSk7XG5cbiAgICAgICAgICAgIGxldCBpdGVtID0gZWZmZWN0cy50YWtlbl9pdGVtcy5nZXQoMCk7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGBZb3UgcmVhY2ggaW4gYW5kIHRha2UgJHtpdGVtLnByZV9nZXN0YWx0KCl9LiBJdCdzICR7aXRlbS5wb3N0X2dlc3RhbHQoKX07ICR7aXRlbS5hcnRpY2xlKCl9ICR7aXRlbS5uYW1lKCl9LmA7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKG5ld19ib3guYXBwZWFyc19lbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSAnXFxuVGhlIGJveCBpcyBlbXB0eSBub3cuJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSArPSBgXFxuWW91IGNhbiBub3cgc2VlICR7bmV3X2JveC5uZXh0X2l0ZW0oKS5wcmVfZ2VzdGFsdCgpfSBpbnNpZGUgdGhlIGJveC5gO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gW2lubmVyX3RoaXMudXBkYXRlKHtib3g6IG5ld19ib3gsIHRha2VuX2l0ZW1zOiBuZXdfdGFrZW5faXRlbXN9KSwgbWVzc2FnZV07XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFdvcmxkRHJpdmVyIHtcbiAgICB3b3JsZDogU2luZ2xlQm94V29ybGQ7XG5cbiAgICBjb25zdHJ1Y3RvciAoaW5pdGlhbF93b3JsZDogU2luZ2xlQm94V29ybGQpIHtcbiAgICAgICAgdGhpcy53b3JsZCA9IGluaXRpYWxfd29ybGQ7XG4gICAgfVxuXG4gICAgYXBwbHlfY29tbWFuZChjbWRfbmFtZTogVG9rZW4sIC4uLmNtZF9hcmdzOiBUb2tlbltdKSB7XG4gICAgICAgIGxldCBjbWRfbWV0aG9kOiAoLi4uY21kX2FyZ3M6IFRva2VuW10pID0+IENvbW1hbmRSZXN1bHQ7XG4gICAgICAgIHN3aXRjaCAoY21kX25hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JvdGF0ZV95X2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9yb3RhdGVfeV9ib3g7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyb2xsX2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9yb2xsX2JveDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xpZnRfYm94JzpcbiAgICAgICAgICAgICAgICBjbWRfbWV0aG9kID0gdGhpcy53b3JsZC5jb21tYW5kX2xpZnRfYm94O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY3V0X2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9jdXRfYm94O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndGFwZV9ib3gnOlxuICAgICAgICAgICAgICAgIGNtZF9tZXRob2QgPSB0aGlzLndvcmxkLmNvbW1hbmRfdGFwZV9ib3g7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvcGVuX2RhbmdsZSc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9vcGVuX2RhbmdsZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlX2RhbmdsZSc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9jbG9zZV9kYW5nbGU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdvcGVuX3JlbmQnOlxuICAgICAgICAgICAgICAgIGNtZF9tZXRob2QgPSB0aGlzLndvcmxkLmNvbW1hbmRfb3Blbl9yZW5kO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY2xvc2VfcmVuZCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF9jbG9zZV9yZW5kO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAndGFrZV9pdGVtX2JveCc6XG4gICAgICAgICAgICAgICAgY21kX21ldGhvZCA9IHRoaXMud29ybGQuY29tbWFuZF90YWtlX2l0ZW1fYm94O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ29tbWFuZEVycm9yKGBpbnZhbGlkIGNtZF9uYW1lIGdpdmVuOiAke2NtZF9uYW1lfWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCBbbmV3X3dvcmxkLCBtc2ddID0gY21kX21ldGhvZC5hcHBseSh0aGlzLndvcmxkLCBjbWRfYXJncyk7XG4gICAgICAgIGxldCB0b2tlbnM6IFRva2VuW10gPSBbY21kX25hbWVdO1xuICAgICAgICB0b2tlbnMucHVzaCguLi5jbWRfYXJncyk7XG4gICAgICAgIC8vY29uc29sZS5sb2coJz4gJyArIHRva2Vucy5qb2luKCcgJykgKyAnXFxuJyk7XG4gICAgICAgIC8vY29uc29sZS5sb2cobXNnICsgJ1xcbicpO1xuICAgICAgICB0aGlzLndvcmxkID0gbmV3X3dvcmxkO1xuICAgICAgICByZXR1cm4gbXNnXG4gICAgfVxuXG4gICAgcnVuKGNtZDogc3RyaW5nKSB7XG4gICAgICAgIGxldCBbY21kX25hbWUsIGNtZF9hcmdzXTogW1Rva2VuLCBUb2tlbltdXSA9IHBhcnNlX2NvbW1hbmQoY21kKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlfY29tbWFuZChjbWRfbmFtZSwgLi4uY21kX2FyZ3MpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlX2NvbW1hbmQoY21kOiBzdHJpbmcpOiBbVG9rZW4sIFRva2VuW11dIHtcbiAgICBsZXQgdG9rZW5zID0gY21kLnNwbGl0KC9cXHMrLyk7XG4gICAgY29uc29sZS5sb2codG9rZW5zKTtcbiAgICByZXR1cm4gW3Rva2Vuc1swXSwgdG9rZW5zLnNsaWNlKDEpXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlc3QoKSB7XG4gICAgbGV0IGNvbnRlbnRzID0gTGlzdDxJdGVtPihbbmV3IENvZGV4KCksIG5ldyBQaW5lY29uZSgpLCBuZXcgQ2l0eUtleSgpXSk7XG4gICAgbGV0IHdvcmxkID0gbmV3IFNpbmdsZUJveFdvcmxkKHtib3g6IG5ldyBCb3goe2NvbnRlbnRzOiBjb250ZW50c30pfSk7XG5cbiAgICBjb25zb2xlLmxvZygnTkVXIFdPUkxEOiB0ZXN0IGhlYXZ5IHNwaWxsYWdlIHdoZW4gcm9sbGluZ1xcblxcblxcbicpO1xuXG4gICAgbGV0IGQgPSBuZXcgV29ybGREcml2ZXIod29ybGQpO1xuICAgIGQuYXBwbHlfY29tbWFuZCgnbGlmdF9ib3gnKTtcbiAgICBkLmFwcGx5X2NvbW1hbmQoJ3JvbGxfYm94JywgJ2ZvcndhcmQnKTtcbiAgICBkLmFwcGx5X2NvbW1hbmQoJ3JvdGF0ZV95X2JveCcsICdsZWZ0Jyk7XG5cbiAgICAvLyBjdXQgdGhlIHRvcCBmYWNlIHZlcnRpY2FsbHkgYWxvbmcgdGhlIGNlbnRlciBmcm9tIHRvcCB0byBib3R0b21cbiAgICBkLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAndG9wJywgJ3ZlcnRpY2FsbHknLCAnY2VudGVyJywgJ3RvcCcsICdib3R0b20nKTtcblxuICAgIC8vIGN1dCB0aGUgdG9wIGZhY2UgdmVydGljYWxseSBhbG9uZyB0aGUgcmlnaHQgZWRnZSBmcm9tIHRvcCB0byBib3R0b21cbiAgICBkLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAndG9wJywgJ3ZlcnRpY2FsbHknLCAncmlnaHQnLCAndG9wJywgJ2JvdHRvbScpO1xuXG4gICAgLy8gc2hvdWxkIHJlc3VsdCBpbiBhIGRhbmdsZVxuICAgIC8vIGN1dCB0aGUgdG9wIGZhY2UgaG9yaXpvbnRhbGx5IGFsb25nIHRoZSB0b3AgZWRnZSBmcm9tIGNlbnRlciB0byByaWdodFxuICAgIGQuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICd0b3AnLCAnaG9yaXpvbnRhbGx5JywgJ3RvcCcsICdjZW50ZXInLCAncmlnaHQnKTtcblxuICAgIC8vIHNob3VsZCByZXN1bHQgaW4gYSByZW5kXG4gICAgLy8gY3V0IHRoZSB0b3AgZmFjZSBob3Jpem9udGFsbHkgYWxvbmcgdGhlIGJvdHRvbSBlZGdlIGZyb20gY2VudGVyIHRvIHJpZ2h0XG4gICAgZC5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ3RvcCcsICdob3Jpem9udGFsbHknLCAnYm90dG9tJywgJ2NlbnRlcicsICdyaWdodCcpO1xuXG4gICAgZC5hcHBseV9jb21tYW5kKCdyb2xsX2JveCcsICdmb3J3YXJkJyk7XG5cbiAgICAvLyBzaG91bGQgcmVzdWx0IGluIHRoZSByZW5kIGZhY2luZyBzdHJhaWdodCBkb3duLCBtYXliZSBzcGlsbGluZ1xuICAgIGQuYXBwbHlfY29tbWFuZCgncm9sbF9ib3gnLCAnZm9yd2FyZCcpO1xuXG4gICAgZC5hcHBseV9jb21tYW5kKCdsaWZ0X2JveCcpO1xuXG4gICAgY29uc29sZS5sb2coJ1xcblxcblxcbk5FVyBXT1JMRDogdGVzdCBoZWF2eSBzcGlsbGFnZSBhbmQgY29sbGFwc2UgZnJvbSBib3R0b20gd2hlbiBsaWZ0aW5nXFxuXFxuXFxuJyk7XG4gICAgbGV0IGQyID0gbmV3IFdvcmxkRHJpdmVyKHdvcmxkKTtcblxuICAgIGQyLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAnZnJvbnQnLCAnaG9yaXpvbnRhbGx5JywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0Jyk7XG4gICAgZDIuYXBwbHlfY29tbWFuZCgncm90YXRlX3lfYm94JywgJ2xlZnQnKTtcbiAgICBkMi5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ2Zyb250JywgJ2hvcml6b250YWxseScsICdib3R0b20nLCAnbGVmdCcsICdyaWdodCcpO1xuICAgIGQyLmFwcGx5X2NvbW1hbmQoJ3JvdGF0ZV95X2JveCcsICdsZWZ0Jyk7XG4gICAgZDIuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICdmcm9udCcsICdob3Jpem9udGFsbHknLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkMi5hcHBseV9jb21tYW5kKCdyb3RhdGVfeV9ib3gnLCAnbGVmdCcpO1xuICAgIGQyLmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAnZnJvbnQnLCAnaG9yaXpvbnRhbGx5JywgJ2JvdHRvbScsICdsZWZ0JywgJ3JpZ2h0Jyk7XG4gICAgZDIuYXBwbHlfY29tbWFuZCgnbGlmdF9ib3gnKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnXFxuXFxuXFxuTkVXIFdPUkxEOiB0ZXN0IHRhcGluZ1xcblxcblxcbicpO1xuICAgIGxldCBkMyA9IG5ldyBXb3JsZERyaXZlcih3b3JsZCk7XG5cbiAgICBkMy5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ3RvcCcsICdob3Jpem9udGFsbHknLCAndG9wJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ3RvcCcsICdob3Jpem9udGFsbHknLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ3RvcCcsICd2ZXJ0aWNhbGx5JywgJ2xlZnQnLCAndG9wJywgJ2JvdHRvbScpO1xuXG4gICAgZDMuYXBwbHlfY29tbWFuZCgnb3Blbl9kYW5nbGUnLCAndG9wJyk7XG4gICAgZDMuYXBwbHlfY29tbWFuZCgndGFrZV9pdGVtX2JveCcpO1xuXG4gICAgZDMuYXBwbHlfY29tbWFuZCgnY2xvc2VfZGFuZ2xlJywgJ3RvcCcpO1xuXG4gICAgZDMuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICd0b3AnLCAndmVydGljYWxseScsICdyaWdodCcsICd0b3AnLCAnYm90dG9tJyk7XG4gICAgZDMuYXBwbHlfY29tbWFuZCgnb3Blbl9yZW5kJywgJ3RvcCcpO1xuICAgIGQzLmFwcGx5X2NvbW1hbmQoJ3Rha2VfaXRlbV9ib3gnKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCd0YWtlX2l0ZW1fYm94Jyk7XG4gICAgZDMuYXBwbHlfY29tbWFuZCgnY2xvc2VfcmVuZCcsICd0b3AnKTtcblxuICAgIGQzLmFwcGx5X2NvbW1hbmQoJ3RhcGVfYm94JywgJ3RvcCcsICd2ZXJ0aWNhbGx5JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nKTtcbiAgICBkMy5hcHBseV9jb21tYW5kKCd0YXBlX2JveCcsICd0b3AnLCAndmVydGljYWxseScsICdsZWZ0JywgJ3RvcCcsICdtaWRkbGUnKTtcblxuICAgIGNvbnNvbGUubG9nKCdcXG5cXG5cXG5ORVcgV09STEQ6IHRlc3QgbGlnaHQgc3BpbGxhZ2Ugd2hlbiByb2xsaW5nIGFuZCBsaWZ0aW5nXFxuXFxuXFxuJyk7XG4gICAgbGV0IGQ0ID0gbmV3IFdvcmxkRHJpdmVyKHdvcmxkKTtcblxuICAgIGQ0LmFwcGx5X2NvbW1hbmQoJ2N1dF9ib3gnLCAnZnJvbnQnLCAnaG9yaXpvbnRhbGx5JywgJ3RvcCcsICdsZWZ0JywgJ3JpZ2h0Jyk7XG4gICAgZDQuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICdmcm9udCcsICdob3Jpem9udGFsbHknLCAnYm90dG9tJywgJ2xlZnQnLCAncmlnaHQnKTtcbiAgICBkNC5hcHBseV9jb21tYW5kKCdjdXRfYm94JywgJ2Zyb250JywgJ3ZlcnRpY2FsbHknLCAnbGVmdCcsICd0b3AnLCAnYm90dG9tJyk7XG5cbiAgICBkNC5hcHBseV9jb21tYW5kKCdsaWZ0X2JveCcpO1xuXG4gICAgZDQuYXBwbHlfY29tbWFuZCgnY3V0X2JveCcsICdmcm9udCcsICd2ZXJ0aWNhbGx5JywgJ3JpZ2h0JywgJ3RvcCcsICdib3R0b20nKTtcblxuICAgIGQ0LmFwcGx5X2NvbW1hbmQoJ3JvbGxfYm94JywgJ3JpZ2h0Jyk7XG59XG4iLCJpbXBvcnQge01hdHJpeDIsIG1ha2VfbWF0cml4MiwgRGFuZ2xlLCBGYWNlLCBFZGdlLCBQYXJ0aXRpb24sIGZhY2VzLCBFZGdlT3BlcmF0aW9uLCBQb2ludDIsIERpcmVjdGlvbiwgSXRlbSwgU3BpbGxhZ2VMZXZlbH0gZnJvbSAnLi9kYXRhdHlwZXMnO1xuXG5pbXBvcnQge01hcCwgTGlzdCwgU2V0LCBPcmRlcmVkU2V0LCBpc30gZnJvbSAnaW1tdXRhYmxlJztcblxuZXhwb3J0IGNsYXNzIFdvcmxkVXBkYXRlRWZmZWN0cyB7XG4gICAgc3BpbGxfZmFjZXMgPSBMaXN0PEZhY2U+KCk7XG4gICAgc3BpbGxlZF9pdGVtcyA9IExpc3Q8SXRlbT4oKTtcbiAgICBzcGlsbGVkX3JlbmRzID0gU2V0PFBhcnRpdGlvbj4oKTtcbiAgICBzcGlsbGVkX2RhbmdsZXMgPSBTZXQ8RGFuZ2xlPigpO1xuICAgIHNwaWxsYWdlX2xldmVsID0gU3BpbGxhZ2VMZXZlbC5ub25lO1xuICAgIHRha2VuX2l0ZW1zID0gTGlzdDxJdGVtPigpO1xuICAgIG5ld19yZW5kcyA9IExpc3Q8UGFydGl0aW9uPigpO1xuICAgIG5ld19kYW5nbGVzID0gTGlzdDxEYW5nbGU+KCk7XG4gICAgcmVwYWlyZWRfcmVuZHMgPSBMaXN0PFBhcnRpdGlvbj4oKTtcbiAgICByZXBhaXJlZF9kYW5nbGVzID0gTGlzdDxEYW5nbGU+KCk7XG4gICAgYm94X2NvbGxhcHNlZCA9IGZhbHNlO1xuICAgIGNvbGxhcHNlX3NwaWxsZWRfaXRlbXMgPSBMaXN0PEl0ZW0+KCk7XG59XG5cbmludGVyZmFjZSBXb3JsZFVwZGF0ZUVmZmVjdHNSZWYge1xuICAgIGVmZmVjdHM/OiBXb3JsZFVwZGF0ZUVmZmVjdHNcbn1cblxuZXhwb3J0IGxldCB3b3JsZF91cGRhdGU6IFdvcmxkVXBkYXRlRWZmZWN0c1JlZiA9IHt9O1xuXG5leHBvcnQgZnVuY3Rpb24gd2l0aF93b3JsZF91cGRhdGUoZjogKGVmZmVjdHM6IFdvcmxkVXBkYXRlRWZmZWN0cykgPT4gYW55KSB7XG4gICAgLy9UT0RPIHZhbGlkYXRlOiBlcnJvciBpZiB3b3JsZF91cGRhdGUuZWZmZWN0cyBpc24ndCBudWxsL3VuZGVmaW5lZFxuICAgIHdvcmxkX3VwZGF0ZS5lZmZlY3RzID0gbmV3IFdvcmxkVXBkYXRlRWZmZWN0cygpO1xuICAgIGxldCByZXN1bHQgPSBmKHdvcmxkX3VwZGF0ZS5lZmZlY3RzKTtcbiAgICB3b3JsZF91cGRhdGUuZWZmZWN0cyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vL1RPRE8gZGVmaW5lIHdvcmxkIHVwZGF0ZSBleGNlcHRpb25zIl19"}