{"version":3,"sources":["webpack:///webpack/bootstrap 2124da023ae21425ef34","webpack:///external \"React\"","webpack:///./src/typescript/datatypes.ts","webpack:///./~/process/browser.js","webpack:///./~/reflexbox/dist/index.js","webpack:///./~/styled-components/dist/styled-components.es.js","webpack:///./~/prop-types/index.js","webpack:///./~/react-if-terminal/dist/styles/index.js","webpack:///./~/fbjs/lib/emptyFunction.js","webpack:///./~/fbjs/lib/invariant.js","webpack:///./~/prop-types/lib/ReactPropTypesSecret.js","webpack:///./~/react-if-terminal/dist/utility/index.js","webpack:///./src/typescript/commands.ts","webpack:///./src/typescript/items.ts","webpack:///./src/typescript/text_tools.ts","webpack:///./~/fbjs/lib/warning.js","webpack:///./~/react-if-terminal/dist/components/Pwd.js","webpack:///./~/react-if-terminal/dist/components/Text.js","webpack:///./~/reflexbox/dist/Box.js","webpack:///./~/reflexbox/dist/config.js","webpack:///./~/reflexbox/dist/context-types.js","webpack:///./~/reflexbox/dist/css.js","webpack:///./~/reflexbox/dist/reflex.js","webpack:///./~/reflexbox/dist/sheet.js","webpack:///./src/components/Game.tsx","webpack:///external \"ReactDOM\"","webpack:///./src/typescript/box_geometry.ts","webpack:///./src/typescript/main.tsx","webpack:///./src/typescript/world.ts","webpack:///./src/typescript/world_update_effects.ts","webpack:///./~/hoist-non-react-statics/index.js","webpack:///./~/is-function/index.js","webpack:///./~/is-plain-object/index.js","webpack:///./~/isobject/index.js","webpack:///./~/prop-types/checkPropTypes.js","webpack:///./~/prop-types/factoryWithThrowingShims.js","webpack:///./~/prop-types/factoryWithTypeCheckers.js","webpack:///./~/react-if-terminal/dist/components/DefaultHeader.js","webpack:///./~/react-if-terminal/dist/components/HistoryLine.js","webpack:///./~/react-if-terminal/dist/components/Prompt.js","webpack:///./~/react-if-terminal/dist/components/Terminal.js","webpack:///./~/react-if-terminal/dist/index.js","webpack:///./~/reflexbox/dist/Flex.js","webpack:///./~/reflexbox/dist/ReflexProvider.js","webpack:///./~/stylis/stylis.js"],"names":[],"mappings":"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CL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;ACvLtC;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,sCAAsC,uCAAuC,gBAAgB,E;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrE7F;AACA;AAC0C;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D,GAAG;AACH,gCAAgC,kBAAkB;AAClD;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,4DAA4D;;AAE5D,iEAAiE,kBAAkB;;AAEnF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,gBAAgB,iBAAiB;AACjC;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;AACA;AACA,8FAA8F,aAAa;AAC3G;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA,kCAAkC;AAClC;AACA;AACA,6BAA6B,mDAAmD;AAChF;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,YAAY;AACZ,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;AAQD;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;AAUA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ,SAAS;AACT;AACA,YAAY;AACZ,SAAS;AACT,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,iCAAiC;AACjC;AACA,KAAK,IAAI;AACT;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB;AAChB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;;AAEA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK,cAAc;;AAEnB,iCAAiC;AACjC,6CAA6C;AAC7C;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED,iEAAiE;;AAEjE;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC;AACpC;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA,sCAAsC;AACtC;AACA;AACA,KAAK;;AAEL;AACA,kCAAkC;AAClC,gCAAgC;AAChC,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA4B,0BAA0B;AACtD;AACA,KAAK,IAAI;;AAET;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO,uBAAuB;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,CAAC;;AAED;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sOAAsO,8BAA8B,0BAA0B;AAC9R;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA,CAAC;;AAED;;;AAGA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,2CAA2C;AACjE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,qEAAqE;;;AAGrE;AACA;AACA;AACA;AACA;AACA,uGAAuG,SAAS,EAAE;AAClH;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED,6DAA6D;AAC7D,wDAAwD;;AAExD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED,kEAAkE;;AAElE;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAkC;;AAElC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,qEAAqE,aAAa;AAClF;AACA;;AAEA,6KAA6K;AAC7K;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA,+BAA+B,UAAU,eAAe;AACxD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAI;;AAEX,wBAAwB;AACxB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,uDAAuD;AAClF,SAAS;AACT,OAAO;AACP;AACA;AACA,uBAAuB,uDAAuD;AAC9E;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB;AAChB,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA,iCAAiC;AACjC;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oCAAoC,kBAAkB,mCAAmC;AACzF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,sCAAsC;AACtC;AACA;AACA,WAAW;;AAEX;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA,gGAAgG,aAAa;AAC7G;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,gGAAgG,aAAa;AAC7G;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kGAAkG,aAAa;AAC/G;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wEAAwE;AACxE;AACA;AACA,wEAAwE;AACxE,0BAA0B,qBAAqB,UAAU;AACzD;;AAEA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,qEAAqE,aAAa;AAClF;AACA;;AAEA,mKAAmK;AACnK;;AAEA;;;AAGA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,yBAAyB,eAAe;AACxC,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,sDAAsD;;;AAGtD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEwH;;;;;;;;AC/+DxH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;;;;;;;;AC7BA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,E;;;;;;;ACdA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+B;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,qDAAqD;AACrD,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;;AAEA,2B;;;;;;;;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;;;;;;ACbA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,E;;;;;;;;;;ACZiC;AACjC,wCAA2G;AAE3G,yCAAqF;AAK1E,QAA0B,6BAA0B,CAAC,CAAQ,SAAE,CAAU,WAAE,CAAW;AAGtF,QAAyB,4BAAyB,CAAC,CAAO,QAAE,CAAU,WAAE,CAAY;AAGpF,QAAwB,2BAAG,IAAO,IAAiC,CAC1E,CAAO,QAAE,YAAgB,iBAAM,OAC/B,CAAS,UAAE,YAAgB,iBAAQ,SACnC,CAAQ,SAAE,YAAgB,iBAAO,QACjC,CAAM,OAAE,YAAgB,iBAAK,MAC7B,CAAS,UAAE,YAAgB,iBAAQ,SACnC,CAAS,UA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AAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kEAAkE,cAAc;AAChF;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,0DAA0D,aAAa;AACvE;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sB;;;;;;;ACzLA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA,iCAAiC;AACjC;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA,yB;;;;;;;ACrCA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,wB;;;;;;;;;;ACpBA,kCAA+B;AAG/B,gDAA2C;AAG3C,kCAA6C;AAE7C,kCAA6C;AAE7C,uCAAkE;AAGlE,MAA0B,aAAa,MAAoB;AAA3D;;AAUI,aAAmB,sBAAiB,KAAd;AACX,oBAAI,IAAQ;AACnB,gBAAU,SAAO,KAAa,aAAU;AAClC,mBAAO,OACjB;AAAC;AAED,aAAkB,qBAAS,KAAN;AACV,oBAAI,IAAQ;AACnB,gBAAU,SAAO,KAAa,aAAc,cAAM,OAAS;AAC3D,gBAAW,UAAS,OAAO,OAAS,aAAK,WAAa,cAAO;AAC7D,gBAAgB,eAAS,OAAO,OAAM,MAAO,OAAO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AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gGAAgG;AAChG;AACA,SAAS;AACT;AACA;AACA,gGAAgG;AAChG;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,6BAA6B;AAC7B,QAAQ;AACR;AACA;AACA;AACA;AACA,+BAA+B,KAAK;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B;AAC5B,OAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,sBAAsB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,gCAAgC;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;AC/fA;;AAEA;AACA;AACA,CAAC;;AAED,sEAAsE,qBAAqB,gBAAgB,iBAAiB,+BAA+B,qBAAqB,gBAAgB,iBAAiB;AACjN,uEAAuE,eAAe,cAAc,kBAAkB,+BAA+B,eAAe,cAAc,kBAAkB;AACpM,iEAAiE,sBAAsB,yBAAyB,sBAAsB;;AAEtI;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,+CAA+C,wDAAwD,OAAO,4BAA4B,EAAE,GAAG;;AAE/I;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;AACA;AACA;AACA,KAAK,4CAA4C;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,OAAO;AACd,6CAA6C,qCAAqC;AAClF,6CAA6C,wCAAwC;AACrF,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ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,aAAa,GAAG;;AAEjB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,GAAG,gCAAgC;AAC7D,qBAAqB,6CAA6C;AAClE,mBAAmB,GAAG,KAAK,KAAK,kCAAkC;AAClE,oBAAoB,GAAG;AACvB;AACA,mCAAmC,EAAE;;AAErC;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;AACxB,2BAA2B;AAC3B,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,cAAc;AAC1B,YAAY,cAAc;AAC1B,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA,6BAA6B,cAAc;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6FAA6F;AAC7F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,I;;AAEA,+BAA+B,YAAY;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,cAAc;AAC1B,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8DAA8D,YAAY;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,YAAY;AAChD,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA,sBAAsB;AACtB;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE;AACzE,2CAA2C;AAC3C,6CAA6C;AAC7C;AACA;AACA;AACA;;AAEA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,2CAA2C;AAC3C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mDAAmD,YAAY;AAC/D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,0BAA0B;;AAE1B;AACA;;AAEA;AACA;AACA;AACA,YAAY,cAAc;AAC1B;AACA;AACA,8DAA8D,YAAY;AAC1E;AACA;AACA;;AAEA,qEAAqE,OAAO;AAC5E;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,cAAc;AAC1B,YAAY,cAAc;AAC1B,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA,sCAAsC,aAAa;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,WAAW;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,oDAAoD;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,YAAY;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,EAAE;AACd;AACA,yB;AACA;AACA;AACA;AACA,qCAAqC;AACrC,oCAAoC;AACpC,sCAAsC;AACtC,wCAAwC;AACxC,oCAAoC;AACpC,0CAA0C;AAC1C,wCAAwC;AACxC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 26);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2124da023ae21425ef34","module.exports = React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 0\n// module chunks = 0","// import {\n//     Collection,\n//     hash,\n//     isImmutable,\n//     List,\n//     Map,\n//     Set\n// } from 'immutable';\n\nexport class FuckDict<K, V> {\n    readonly keys_map: Map<string, K>;\n    readonly values_map: Map<string, V>;\n\n    size: number = 0\n\n    constructor(a?: [K, V][]) {\n        this.keys_map = new Map<string, K>();\n        this.values_map = new Map<string, V>();\n\n        if (a !== undefined) {\n            for (let [k, v] of a) {\n                this.set(k, v);\n            }\n        }\n    }\n\n    set(k: K, v: V) {\n        let s = k.toString();\n        this.keys_map.set(s, k);\n        this.values_map.set(s, v);\n        this.size = this.keys_map.size;\n        return this;\n    }\n\n    get(k: K) {\n        let s = k.toString();\n        return this.values_map.get(s);\n    }\n\n    has_key(k: K) {\n        return this.keys_map.has(k.toString());\n    }\n\n    keys_array() {\n        return Array.from(this.keys_map.values());\n    }\n\n    values_array() {\n        return Array.from(this.values_map.values());\n    }\n\n    entries_array(): [K, V][] {\n        let result: [K, V][] = [];\n        for (let [s, k] of this.keys_map.entries()) {\n            result.push([k, this.values_map.get(s)]);\n        }\n        return result;\n    }\n\n    keys_equal(other: FuckDict<K, V>) {\n        for (let elem of this.keys_array()) {\n            if (!other.has_key(elem)){\n                return false;\n            }\n        }\n\n        for (let elem of other.keys_array()) {\n            if (!this.has_key(elem)){\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    keys_intersect(other: FuckDict<K, V>) {\n        let result: K[] = [];\n        for (let k of this.keys_array()) {\n            if (other.has_key(k)) {\n                result.push(k)\n            }\n        }\n        return result;\n    }\n\n    keys_subset(other: FuckDict<K, V>) {\n        for (let elem of this.keys_array()) {\n            if (!other.has_key(elem)){\n                return false;\n            }\n        }\n        return true;\n    }\n\n    toString() {\n        let entry_strings: string[] = this.entries_array().map((x) => x.toString()).sort();\n\n        return `FuckDict<${entry_strings.join(',')}>`;\n    }\n\n    copy() {\n        return new FuckDict(this.entries_array());\n    }\n}\n\nexport type FuckSet<T> = FuckDict<T, undefined>;\n\nexport function arrays_fuck_equal<T>(ar1: T[], ar2: T[]) {\n    if (ar1.length !== ar2.length) {\n        return false;\n    }\n\n    for (let i = 0; i < ar1.length; i++) {\n        if (ar1[i].toString() !== ar2[i].toString()) {\n            return false;\n        }\n    }\n    return true;\n}\n\nexport function array_fuck_contains<T>(ar: T[], elt: T){\n    return ar.some((x) => x.toString() === elt.toString())\n}\n\nexport type Partition = FuckSet<number>;\n\n\nexport class Edge {\n    readonly start: number;\n    readonly end: number;\n\n    constructor(start: number, end: number){\n        if (end < start){\n            this.start = end;\n            this.end = start;\n        } else {\n            this.start = start;\n            this.end = end;\n        }\n    }\n\n    equals(other:Edge){\n        return (this.start === other.start && this.end === other.end);\n    }\n\n    toString(): string {\n        return `Edge<${this.start},${this.end}>`;\n    }\n}\n\nexport enum Face {\n    n = 0,\n    s = 1,\n    e = 2,\n    w = 3,\n    t = 4,\n    b = 5\n}\n\nexport let faces = [Face.n, Face.s, Face.e, Face.w, Face.t, Face.b];\n\nexport enum Direction {\n    n = 0,\n    s = 1,\n    e = 2,\n    w = 3\n}\n\nexport let directions = [Direction.n, Direction.s, Direction.e, Direction.w];\n\nexport let direction_2_face = new Map<Direction, Face>([\n    [Direction.n, Face.n],\n    [Direction.s, Face.s],\n    [Direction.e, Face.e],\n    [Direction.w, Face.w]\n]);\n\nexport class Dangle {\n    readonly partition: Partition;\n    readonly edges: Edge[];\n    readonly fixed_face: Face;\n    readonly free_face: Face;\n\n    constructor(partition: Partition, edges: Edge[], fixed_face: Face, free_face: Face) {\n        this.partition = partition;\n        this.edges = edges;\n        this.fixed_face = fixed_face;\n        this.free_face = free_face;\n    }\n\n    equals(other: Dangle){\n        return (\n            this.partition.keys_equal(other.partition)\n            && arrays_fuck_equal(this.edges, other.edges)\n            && this.fixed_face === other.fixed_face\n            && this.free_face === other.free_face);\n    }\n\n    toString() {\n        return `Dangle<${this.partition},${this.edges},${this.fixed_face},${this.free_face}>`;\n        \n        //let faces_hash = (this.fixed_face << 16) ^ this.free_face; //fuck!\n        //return this.partition.hashCode() + this.edges.hashCode() + faces_hash;\n    }\n}\n\nexport type Point2 = [number, number];\n\nexport function make_matrix2(data_obj: number[][]) {\n    let dim_y = data_obj.length;\n    let dim_x = data_obj[0].length;\n\n    let data = new Int16Array(data_obj.reduce((x, y) => x.concat(y)));\n    // TODO complain if the total length is wrong\n    return new Matrix2(data, dim_x, dim_y);\n}\n\nexport class Matrix2 {\n    readonly dim_x: number;\n    readonly dim_y: number;\n    readonly data: Int16Array;\n    \n    constructor (data: Int16Array, dim_x: number, dim_y: number) {\n        this.data = data;\n        this.dim_x = dim_x;\n        this.dim_y = dim_y;\n    }\n\n    get(x: number, y: number): number {\n        return this.data[y * this.dim_x + x];\n    }\n\n    set(x: number, y: number, value: number) {\n        this.data[y * this.dim_x + x] = value;\n    }\n\n    rotate(degrees: number): Matrix2 {\n        //validate input better\n\n        if (degrees == 360 || degrees == 0) {\n            return this;\n        }\n\n        const n_rotations = degrees / 90;\n        let m: Matrix2 = this;\n        const dim_x = this.dim_x;\n        const dim_y = this.dim_y;\n        for (let i = 0; i < n_rotations; i++){\n            let new_data = new Int16Array(dim_x * dim_y);\n            let new_mat2 = new Matrix2(new_data, dim_y, dim_x);\n            for (let y = 0; y < dim_y; y++){\n                for (let x = 0; x < dim_x; x++){\n                    new_mat2.set(dim_y - 1 - y, x, m.get(x, y));\n                }\n            }\n            m = new_mat2;\n        }\n        return m\n    }\n\n    contains(value: number): boolean{\n        return this.data.indexOf(value) !== -1;\n    }\n}\n\n\nexport enum CardboardEdge {\n    intact = 0,\n    cut = 1,\n}\n\nexport enum TapeEdge {\n    untaped = 0,\n    taped = 1,\n    cut = 2\n}\n\nexport class EdgeState {\n    readonly cardboard: CardboardEdge;\n    readonly tape: TapeEdge;\n\n    constructor (cardboard?: CardboardEdge, tape?: TapeEdge){\n        if (cardboard === undefined) {\n            cardboard = CardboardEdge.intact;\n        }\n        this.cardboard = cardboard;\n\n        if (tape === undefined) {\n            tape = TapeEdge.untaped;\n        }\n        this.tape = tape;\n    }\n\n    cut() {\n        let new_tape: TapeEdge;\n        if (this.tape == TapeEdge.taped) {\n            new_tape = TapeEdge.cut;\n        } else {\n            new_tape = this.tape\n        }\n\n        return new EdgeState(CardboardEdge.cut, new_tape);\n    }\n\n\n    apply_tape() {\n        return new EdgeState(this.cardboard, TapeEdge.taped);\n    }\n}\n\nexport enum EdgeOperation {\n    cut = 0,\n    tape = 1\n}\n\nexport enum EdgeDirection {\n    horizontal = 0,\n    vertical = 1\n}\n\nexport enum RendState {\n    closed = 0,\n    open = 1\n}\n\nexport enum RendOperation {\n    close = 0,\n    open = 1\n}\n\nexport enum SpillageLevel {\n    none = 0,\n    light = 1,\n    heavy = 2\n}\n\nexport enum Weight {\n    empty = 0,\n    very_light = 1,\n    light = 2,\n    medium = 3,\n    heavy = 4,\n    very_heavy = 5\n}\n\nexport abstract class Item {\n    abstract weight(): Weight;\n    abstract name(): string;\n    abstract pre_gestalt(): string;\n    abstract post_gestalt(): string;\n    article(): string {\n        return 'a';\n    }\n}\n\n\nexport type Counter<T> = Map<T, number>;\n\nexport function counter_add<T>(counter: Counter<T>, key: T, inc: number){\n    let cur_val = 0;\n    if (counter.has(key)){\n        cur_val = counter.get(key);\n    }\n    return counter.set(key, cur_val + inc);\n}\n\nexport function counter_get<T>(counter: Counter<T>, key: T){\n    let cur_val = 0;\n    if (counter.has(key)){\n        cur_val = counter.get(key);\n    }\n    return cur_val;\n}\n\nexport function counter_update<T>(counter1: Counter<T>, counter2: Counter<T>){\n    counter2.forEach(function (v, k){\n        counter_add(counter1, k, v);\n    });\n\n    return counter1;\n}\n\nexport function counter_order<T>(counter: Counter<T>, include_zero=false){\n    let result = Array.from(counter.entries()).sort((a, b) => a[1] - b[1]);\n    if (!include_zero) {\n        result = result.filter(([t, i]) => i > 0);\n    }\n    return result.map(([t, i]) => t);\n}\n\nexport enum RelativePosition {\n    left = 0, center = 1, right = 2,\n    top = 3, middle = 4, bottom = 5\n}\n\nexport class WreckError extends Error {}\n\n// used to signal errors caused by trying to update world state in a way that breaks the reality of the world\n// so assumes that commands are already valid, the attempted update *could work* if the state were different\nexport class WorldUpdateError extends WreckError {}\n\n// used to signal that a command/pseudo command is not specified legally\n// the command cannot be executed because it *cannot be interpreted*\nexport class CommandError extends WreckError {}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/datatypes.ts","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/process/browser.js\n// module id = 2\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _config = require('./config');\n\nObject.defineProperty(exports, 'config', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_config).default;\n  }\n});\n\nvar _reflex = require('./reflex');\n\nObject.defineProperty(exports, 'reflex', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_reflex).default;\n  }\n});\n\nvar _sheet = require('./sheet');\n\nObject.defineProperty(exports, 'sheet', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_sheet).default;\n  }\n});\n\nvar _css = require('./css');\n\nObject.defineProperty(exports, 'css', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_css).default;\n  }\n});\n\nvar _Flex = require('./Flex');\n\nObject.defineProperty(exports, 'Flex', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Flex).default;\n  }\n});\n\nvar _Box = require('./Box');\n\nObject.defineProperty(exports, 'Box', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Box).default;\n  }\n});\n\nvar _ReflexProvider = require('./ReflexProvider');\n\nObject.defineProperty(exports, 'ReflexProvider', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_ReflexProvider).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflexbox/dist/index.js\n// module id = 3\n// module chunks = 0","import isPlainObject from 'is-plain-object';\nimport Stylis from 'stylis';\nimport React, { Component, createElement } from 'react';\nimport PropTypes from 'prop-types';\nimport isFunction from 'is-function';\nimport hoistStatics from 'hoist-non-react-statics';\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * @typechecks\n */\n\nvar _uppercasePattern = /([A-Z])/g;\n\n/**\n * Hyphenates a camelcased string, for example:\n *\n *   > hyphenate('backgroundColor')\n *   < \"background-color\"\n *\n * For CSS style names, use `hyphenateStyleName` instead which works properly\n * with all vendor prefixes, including `ms`.\n *\n * @param {string} string\n * @return {string}\n */\nfunction hyphenate$2(string) {\n  return string.replace(_uppercasePattern, '-$1').toLowerCase();\n}\n\nvar hyphenate_1 = hyphenate$2;\n\nvar hyphenate = hyphenate_1;\n\nvar msPattern = /^ms-/;\n\n/**\n * Hyphenates a camelcased CSS property name, for example:\n *\n *   > hyphenateStyleName('backgroundColor')\n *   < \"background-color\"\n *   > hyphenateStyleName('MozTransition')\n *   < \"-moz-transition\"\n *   > hyphenateStyleName('msTransition')\n *   < \"-ms-transition\"\n *\n * As Modernizr suggests (http://modernizr.com/docs/#prefixed), an `ms` prefix\n * is converted to `-ms-`.\n *\n * @param {string} string\n * @return {string}\n */\nfunction hyphenateStyleName(string) {\n  return hyphenate(string).replace(msPattern, '-ms-');\n}\n\nvar hyphenateStyleName_1 = hyphenateStyleName;\n\n//      \nvar objToCss = function objToCss(obj, prevKey) {\n  var css = Object.keys(obj).map(function (key) {\n    if (isPlainObject(obj[key])) return objToCss(obj[key], key);\n    return hyphenateStyleName_1(key) + ': ' + obj[key] + ';';\n  }).join(' ');\n  return prevKey ? prevKey + ' {\\n  ' + css + '\\n}' : css;\n};\n\nvar flatten = function flatten(chunks, executionContext) {\n  return chunks.reduce(function (ruleSet, chunk) {\n    /* Remove falsey values */\n    if (chunk === undefined || chunk === null || chunk === false || chunk === '') return ruleSet;\n    /* Flatten ruleSet */\n    if (Array.isArray(chunk)) return [].concat(ruleSet, flatten(chunk, executionContext));\n\n    /* Handle other components */\n    // $FlowFixMe not sure how to make this pass\n    if (chunk.hasOwnProperty('styledComponentId')) return [].concat(ruleSet, ['.' + chunk.styledComponentId]);\n\n    /* Either execute or defer the function */\n    if (typeof chunk === 'function') {\n      return executionContext ? ruleSet.concat.apply(ruleSet, flatten([chunk(executionContext)], executionContext)) : ruleSet.concat(chunk);\n    }\n\n    /* Handle objects */\n    // $FlowFixMe have to add %checks somehow to isPlainObject\n    return ruleSet.concat(isPlainObject(chunk) ? objToCss(chunk) : chunk.toString());\n  }, []);\n};\n\n//      \nvar stylis = new Stylis({\n  global: false,\n  cascade: true,\n  keyframe: false,\n  prefix: true,\n  compress: false,\n  semicolon: true\n});\n\nvar stringifyRules = function stringifyRules(rules, selector, prefix) {\n  var flatCSS = rules.join('').replace(/^\\s*\\/\\/.*$/gm, ''); // replace JS comments\n\n  var cssStr = selector && prefix ? prefix + ' ' + selector + ' { ' + flatCSS + ' }' : flatCSS;\n\n  return stylis(prefix || !selector ? '' : selector, cssStr);\n};\n\n//      \nvar chars = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\nvar charsLength = chars.length;\n\n/* Some high number, usually 9-digit base-10. Map it to base-😎 */\nvar generateAlphabeticName = function generateAlphabeticName(code) {\n  var name = '';\n  var x = void 0;\n\n  for (x = code; x > charsLength; x = Math.floor(x / chars.length)) {\n    name = chars[x % charsLength] + name;\n  }\n\n  return chars[x % charsLength] + name;\n};\n\n//      \n\n\nvar interleave = (function (strings, interpolations) {\n  return interpolations.reduce(function (array, interp, i) {\n    return array.concat(interp, strings[i + 1]);\n  }, [strings[0]]);\n});\n\n//      \nvar css = (function (strings) {\n  for (var _len = arguments.length, interpolations = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    interpolations[_key - 1] = arguments[_key];\n  }\n\n  return flatten(interleave(strings, interpolations));\n});\n\n//      \nvar SC_COMPONENT_ID = /^[^\\S\\n]*?\\/\\* sc-component-id:\\s+(\\S+)\\s+\\*\\//mg;\n\nvar extractCompsFromCSS = (function (maybeCSS) {\n  var css = '' + (maybeCSS || ''); // Definitely a string, and a clone\n  var existingComponents = [];\n  css.replace(SC_COMPONENT_ID, function (match, componentId, matchIndex) {\n    existingComponents.push({ componentId: componentId, matchIndex: matchIndex });\n    return match;\n  });\n  return existingComponents.map(function (_ref, i) {\n    var componentId = _ref.componentId,\n        matchIndex = _ref.matchIndex;\n\n    var nextComp = existingComponents[i + 1];\n    var cssFromDOM = nextComp ? css.slice(matchIndex, nextComp.matchIndex) : css.slice(matchIndex);\n    return { componentId: componentId, cssFromDOM: cssFromDOM };\n  });\n});\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\n\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\n\n\n\n\n\n\n\n\nvar objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n//      \n/*\n * Browser Style Sheet with Rehydration\n *\n * <style data-styled-components=\"x y z\"\n *        data-styled-components-is-local=\"true\">\n *   /· sc-component-id: a ·/\n *   .sc-a { ... }\n *   .x { ... }\n *   /· sc-component-id: b ·/\n *   .sc-b { ... }\n *   .y { ... }\n *   .z { ... }\n * </style>\n *\n * Note: replace · with * in the above snippet.\n * */\nvar COMPONENTS_PER_TAG = 40;\n\nvar BrowserTag = function () {\n  function BrowserTag(el, isLocal) {\n    var existingSource = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';\n    classCallCheck(this, BrowserTag);\n\n    this.el = el;\n    this.isLocal = isLocal;\n    this.ready = false;\n\n    var extractedComps = extractCompsFromCSS(existingSource);\n\n    this.size = extractedComps.length;\n    this.components = extractedComps.reduce(function (acc, obj) {\n      acc[obj.componentId] = obj; // eslint-disable-line no-param-reassign\n      return acc;\n    }, {});\n  }\n\n  BrowserTag.prototype.isFull = function isFull() {\n    return this.size >= COMPONENTS_PER_TAG;\n  };\n\n  BrowserTag.prototype.addComponent = function addComponent(componentId) {\n    if (!this.ready) this.replaceElement();\n    if (this.components[componentId]) throw new Error('Trying to add Component \\'' + componentId + '\\' twice!');\n\n    var comp = { componentId: componentId, textNode: document.createTextNode('') };\n    this.el.appendChild(comp.textNode);\n\n    this.size += 1;\n    this.components[componentId] = comp;\n  };\n\n  BrowserTag.prototype.inject = function inject(componentId, css, name) {\n    if (!this.ready) this.replaceElement();\n    var comp = this.components[componentId];\n\n    if (!comp) throw new Error('Must add a new component before you can inject css into it');\n    if (comp.textNode.data === '') comp.textNode.appendData('\\n/* sc-component-id: ' + componentId + ' */\\n');\n\n    comp.textNode.appendData(css);\n    if (name) {\n      var existingNames = this.el.getAttribute(SC_ATTR);\n      this.el.setAttribute(SC_ATTR, existingNames ? existingNames + ' ' + name : name);\n    }\n  };\n\n  BrowserTag.prototype.toHTML = function toHTML() {\n    return this.el.outerHTML;\n  };\n\n  BrowserTag.prototype.toReactElement = function toReactElement() {\n    throw new Error('BrowserTag doesn\\'t implement toReactElement!');\n  };\n\n  BrowserTag.prototype.clone = function clone() {\n    throw new Error('BrowserTag cannot be cloned!');\n  };\n\n  /* Because we care about source order, before we can inject anything we need to\n   * create a text node for each component and replace the existing CSS. */\n\n\n  BrowserTag.prototype.replaceElement = function replaceElement() {\n    var _this = this;\n\n    this.ready = true;\n    // We have nothing to inject. Use the current el.\n    if (this.size === 0) return;\n\n    // Build up our replacement style tag\n    var newEl = this.el.cloneNode();\n    newEl.appendChild(document.createTextNode('\\n'));\n\n    Object.keys(this.components).forEach(function (key) {\n      var comp = _this.components[key];\n\n      // eslint-disable-next-line no-param-reassign\n      comp.textNode = document.createTextNode(comp.cssFromDOM);\n      newEl.appendChild(comp.textNode);\n    });\n\n    if (!this.el.parentNode) throw new Error(\"Trying to replace an element that wasn't mounted!\");\n\n    // The ol' switcheroo\n    this.el.parentNode.replaceChild(newEl, this.el);\n    this.el = newEl;\n  };\n\n  return BrowserTag;\n}();\n\n/* Factory function to separate DOM operations from logical ones*/\n\n\nvar BrowserStyleSheet = {\n  create: function create() {\n    var tags = [];\n    var names = {};\n\n    /* Construct existing state from DOM */\n    var nodes = document.querySelectorAll('[' + SC_ATTR + ']');\n    var nodesLength = nodes.length;\n\n    for (var i = 0; i < nodesLength; i += 1) {\n      var el = nodes[i];\n\n      tags.push(new BrowserTag(el, el.getAttribute(LOCAL_ATTR) === 'true', el.innerHTML));\n\n      var attr = el.getAttribute(SC_ATTR);\n      if (attr) {\n        attr.trim().split(/\\s+/).forEach(function (name) {\n          names[name] = true;\n        });\n      }\n    }\n\n    /* Factory for making more tags */\n    var tagConstructor = function tagConstructor(isLocal) {\n      var el = document.createElement('style');\n      el.type = 'text/css';\n      el.setAttribute(SC_ATTR, '');\n      el.setAttribute(LOCAL_ATTR, isLocal ? 'true' : 'false');\n      if (!document.head) throw new Error('Missing document <head>');\n      document.head.appendChild(el);\n      return new BrowserTag(el, isLocal);\n    };\n\n    return new StyleSheet(tagConstructor, tags, names);\n  }\n};\n\n//      \nvar SC_ATTR = 'data-styled-components';\nvar LOCAL_ATTR = 'data-styled-components-is-local';\nvar CONTEXT_KEY = '__styled-components-stylesheet__';\n\nvar instance = null;\n// eslint-disable-next-line no-use-before-define\nvar clones = [];\n\nvar StyleSheet = function () {\n  function StyleSheet(tagConstructor) {\n    var tags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var names = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    classCallCheck(this, StyleSheet);\n    this.hashes = {};\n    this.deferredInjections = {};\n\n    this.tagConstructor = tagConstructor;\n    this.tags = tags;\n    this.names = names;\n    this.constructComponentTagMap();\n  }\n\n  StyleSheet.prototype.constructComponentTagMap = function constructComponentTagMap() {\n    var _this = this;\n\n    this.componentTags = {};\n\n    this.tags.forEach(function (tag) {\n      Object.keys(tag.components).forEach(function (componentId) {\n        _this.componentTags[componentId] = tag;\n      });\n    });\n  };\n\n  /* Best level of caching—get the name from the hash straight away. */\n\n\n  StyleSheet.prototype.getName = function getName(hash) {\n    return this.hashes[hash.toString()];\n  };\n\n  /* Second level of caching—if the name is already in the dom, don't\n   * inject anything and record the hash for getName next time. */\n\n\n  StyleSheet.prototype.alreadyInjected = function alreadyInjected(hash, name) {\n    if (!this.names[name]) return false;\n\n    this.hashes[hash.toString()] = name;\n    return true;\n  };\n\n  /* Third type of caching—don't inject components' componentId twice. */\n\n\n  StyleSheet.prototype.hasInjectedComponent = function hasInjectedComponent(componentId) {\n    return !!this.componentTags[componentId];\n  };\n\n  StyleSheet.prototype.deferredInject = function deferredInject(componentId, isLocal, css) {\n    if (this === instance) {\n      clones.forEach(function (clone) {\n        clone.deferredInject(componentId, isLocal, css);\n      });\n    }\n\n    this.getOrCreateTag(componentId, isLocal);\n    this.deferredInjections[componentId] = css;\n  };\n\n  StyleSheet.prototype.inject = function inject(componentId, isLocal, css, hash, name) {\n    if (this === instance) {\n      clones.forEach(function (clone) {\n        clone.inject(componentId, isLocal, css);\n      });\n    }\n\n    var tag = this.getOrCreateTag(componentId, isLocal);\n\n    var deferredInjection = this.deferredInjections[componentId];\n    if (deferredInjection) {\n      tag.inject(componentId, deferredInjection);\n      delete this.deferredInjections[componentId];\n    }\n\n    tag.inject(componentId, css, name);\n\n    if (hash && name) {\n      this.hashes[hash.toString()] = name;\n    }\n  };\n\n  StyleSheet.prototype.toHTML = function toHTML() {\n    return this.tags.map(function (tag) {\n      return tag.toHTML();\n    }).join('');\n  };\n\n  StyleSheet.prototype.toReactElements = function toReactElements() {\n    return this.tags.map(function (tag, i) {\n      return tag.toReactElement('sc-' + i);\n    });\n  };\n\n  StyleSheet.prototype.getOrCreateTag = function getOrCreateTag(componentId, isLocal) {\n    var existingTag = this.componentTags[componentId];\n    if (existingTag) {\n      return existingTag;\n    }\n\n    var lastTag = this.tags[this.tags.length - 1];\n    var componentTag = !lastTag || lastTag.isFull() || lastTag.isLocal !== isLocal ? this.createNewTag(isLocal) : lastTag;\n    this.componentTags[componentId] = componentTag;\n    componentTag.addComponent(componentId);\n    return componentTag;\n  };\n\n  StyleSheet.prototype.createNewTag = function createNewTag(isLocal) {\n    var newTag = this.tagConstructor(isLocal);\n    this.tags.push(newTag);\n    return newTag;\n  };\n\n  StyleSheet.reset = function reset(isServer) {\n    instance = StyleSheet.create(isServer);\n  };\n\n  /* We can make isServer totally implicit once Jest 20 drops and we\n   * can change environment on a per-test basis. */\n\n\n  StyleSheet.create = function create() {\n    var isServer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : typeof document === 'undefined';\n\n    return (isServer ? ServerStyleSheet : BrowserStyleSheet).create();\n  };\n\n  StyleSheet.clone = function clone(oldSheet) {\n    var newSheet = new StyleSheet(oldSheet.tagConstructor, oldSheet.tags.map(function (tag) {\n      return tag.clone();\n    }), _extends({}, oldSheet.names));\n\n    newSheet.hashes = _extends({}, oldSheet.hashes);\n    newSheet.deferredInjections = _extends({}, oldSheet.deferredInjections);\n    clones.push(newSheet);\n\n    return newSheet;\n  };\n\n  createClass(StyleSheet, null, [{\n    key: 'instance',\n    get: function get$$1() {\n      return instance || (instance = StyleSheet.create());\n    }\n  }]);\n  return StyleSheet;\n}();\n\nvar _StyleSheetManager$ch;\n\n//      \nvar StyleSheetManager = function (_Component) {\n  inherits(StyleSheetManager, _Component);\n\n  function StyleSheetManager() {\n    classCallCheck(this, StyleSheetManager);\n    return possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  StyleSheetManager.prototype.getChildContext = function getChildContext() {\n    var _ref;\n\n    return _ref = {}, _ref[CONTEXT_KEY] = this.props.sheet, _ref;\n  };\n\n  StyleSheetManager.prototype.render = function render() {\n    /* eslint-disable react/prop-types */\n    // Flow v0.43.1 will report an error accessing the `children` property,\n    // but v0.47.0 will not. It is necessary to use a type cast instead of\n    // a \"fixme\" comment to satisfy both Flow versions.\n    return React.Children.only(this.props.children);\n  };\n\n  return StyleSheetManager;\n}(Component);\n\nStyleSheetManager.childContextTypes = (_StyleSheetManager$ch = {}, _StyleSheetManager$ch[CONTEXT_KEY] = PropTypes.instanceOf(StyleSheet).isRequired, _StyleSheetManager$ch);\n\nStyleSheetManager.propTypes = {\n  sheet: PropTypes.instanceOf(StyleSheet).isRequired\n};\n\n//      \nvar ServerTag = function () {\n  function ServerTag(isLocal) {\n    classCallCheck(this, ServerTag);\n\n    this.isLocal = isLocal;\n    this.components = {};\n    this.size = 0;\n    this.names = [];\n  }\n\n  ServerTag.prototype.isFull = function isFull() {\n    return false;\n  };\n\n  ServerTag.prototype.addComponent = function addComponent(componentId) {\n    if (this.components[componentId]) throw new Error('Trying to add Component \\'' + componentId + '\\' twice!');\n    this.components[componentId] = { componentId: componentId, css: '' };\n    this.size += 1;\n  };\n\n  ServerTag.prototype.inject = function inject(componentId, css, name) {\n    var comp = this.components[componentId];\n\n    if (!comp) throw new Error('Must add a new component before you can inject css into it');\n    if (comp.css === '') comp.css = '/* sc-component-id: ' + componentId + ' */\\n';\n\n    comp.css += css.replace(/\\n*$/, '\\n');\n\n    if (name) this.names.push(name);\n  };\n\n  ServerTag.prototype.toHTML = function toHTML() {\n    var _this = this;\n\n    var namesAttr = SC_ATTR + '=\"' + this.names.join(' ') + '\"';\n    var localAttr = LOCAL_ATTR + '=\"' + (this.isLocal ? 'true' : 'false') + '\"';\n    var css = Object.keys(this.components).map(function (key) {\n      return _this.components[key].css;\n    }).join('');\n\n    return '<style type=\"text/css\" ' + namesAttr + ' ' + localAttr + '>\\n' + css + '\\n</style>';\n  };\n\n  ServerTag.prototype.toReactElement = function toReactElement(key) {\n    var _attributes,\n        _this2 = this;\n\n    var attributes = (_attributes = {}, _attributes[SC_ATTR] = this.names.join(' '), _attributes[LOCAL_ATTR] = this.isLocal.toString(), _attributes);\n    var css = Object.keys(this.components).map(function (k) {\n      return _this2.components[k].css;\n    }).join('');\n\n    return React.createElement('style', _extends({\n      key: key, type: 'text/css' }, attributes, {\n      dangerouslySetInnerHTML: { __html: css }\n    }));\n  };\n\n  ServerTag.prototype.clone = function clone() {\n    var _this3 = this;\n\n    var copy = new ServerTag(this.isLocal);\n    copy.names = [].concat(this.names);\n    copy.size = this.size;\n    copy.components = Object.keys(this.components).reduce(function (acc, key) {\n      acc[key] = _extends({}, _this3.components[key]); // eslint-disable-line no-param-reassign\n      return acc;\n    }, {});\n\n    return copy;\n  };\n\n  return ServerTag;\n}();\n\nvar ServerStyleSheet = function () {\n  function ServerStyleSheet() {\n    classCallCheck(this, ServerStyleSheet);\n\n    this.instance = StyleSheet.clone(StyleSheet.instance);\n  }\n\n  ServerStyleSheet.prototype.collectStyles = function collectStyles(children) {\n    if (this.closed) throw new Error(\"Can't collect styles once you've called getStyleTags!\");\n    return React.createElement(\n      StyleSheetManager,\n      { sheet: this.instance },\n      children\n    );\n  };\n\n  ServerStyleSheet.prototype.getStyleTags = function getStyleTags() {\n    if (!this.closed) {\n      clones.splice(clones.indexOf(this.instance), 1);\n      this.closed = true;\n    }\n\n    return this.instance.toHTML();\n  };\n\n  ServerStyleSheet.prototype.getStyleElement = function getStyleElement() {\n    if (!this.closed) {\n      clones.splice(clones.indexOf(this.instance), 1);\n      this.closed = true;\n    }\n\n    return this.instance.toReactElements();\n  };\n\n  ServerStyleSheet.create = function create() {\n    return new StyleSheet(function (isLocal) {\n      return new ServerTag(isLocal);\n    });\n  };\n\n  return ServerStyleSheet;\n}();\n\n//      \n\nvar LIMIT = 200;\n\nvar createWarnTooManyClasses = (function (displayName) {\n  var generatedClasses = {};\n  var warningSeen = false;\n\n  return function (className) {\n    if (!warningSeen) {\n      generatedClasses[className] = true;\n      if (Object.keys(generatedClasses).length >= LIMIT) {\n        // Unable to find latestRule in test environment.\n        /* eslint-disable no-console, prefer-template */\n        console.warn('Over ' + LIMIT + ' classes were generated for component ' + displayName + '. ' + 'Consider using style property for frequently changed styles.\\n' + 'Example:\\n' + '  const StyledComp = styled.div`width: 100%;`\\n' + '  <StyledComp style={{ background: background }} />');\n        warningSeen = true;\n        generatedClasses = {};\n      }\n    }\n  };\n});\n\n//      \n/* Trying to avoid the unknown-prop errors on styled components\n by filtering by React's attribute whitelist.\n */\n\n/* Logic copied from ReactDOMUnknownPropertyHook */\nvar reactProps = {\n  children: true,\n  dangerouslySetInnerHTML: true,\n  key: true,\n  ref: true,\n  autoFocus: true,\n  defaultValue: true,\n  valueLink: true,\n  defaultChecked: true,\n  checkedLink: true,\n  innerHTML: true,\n  suppressContentEditableWarning: true,\n  onFocusIn: true,\n  onFocusOut: true,\n  className: true,\n\n  /* List copied from https://facebook.github.io/react/docs/events.html */\n  onCopy: true,\n  onCut: true,\n  onPaste: true,\n  onCompositionEnd: true,\n  onCompositionStart: true,\n  onCompositionUpdate: true,\n  onKeyDown: true,\n  onKeyPress: true,\n  onKeyUp: true,\n  onFocus: true,\n  onBlur: true,\n  onChange: true,\n  onInput: true,\n  onSubmit: true,\n  onClick: true,\n  onContextMenu: true,\n  onDoubleClick: true,\n  onDrag: true,\n  onDragEnd: true,\n  onDragEnter: true,\n  onDragExit: true,\n  onDragLeave: true,\n  onDragOver: true,\n  onDragStart: true,\n  onDrop: true,\n  onMouseDown: true,\n  onMouseEnter: true,\n  onMouseLeave: true,\n  onMouseMove: true,\n  onMouseOut: true,\n  onMouseOver: true,\n  onMouseUp: true,\n  onSelect: true,\n  onTouchCancel: true,\n  onTouchEnd: true,\n  onTouchMove: true,\n  onTouchStart: true,\n  onScroll: true,\n  onWheel: true,\n  onAbort: true,\n  onCanPlay: true,\n  onCanPlayThrough: true,\n  onDurationChange: true,\n  onEmptied: true,\n  onEncrypted: true,\n  onEnded: true,\n  onError: true,\n  onLoadedData: true,\n  onLoadedMetadata: true,\n  onLoadStart: true,\n  onPause: true,\n  onPlay: true,\n  onPlaying: true,\n  onProgress: true,\n  onRateChange: true,\n  onSeeked: true,\n  onSeeking: true,\n  onStalled: true,\n  onSuspend: true,\n  onTimeUpdate: true,\n  onVolumeChange: true,\n  onWaiting: true,\n  onLoad: true,\n  onAnimationStart: true,\n  onAnimationEnd: true,\n  onAnimationIteration: true,\n  onTransitionEnd: true,\n\n  onCopyCapture: true,\n  onCutCapture: true,\n  onPasteCapture: true,\n  onCompositionEndCapture: true,\n  onCompositionStartCapture: true,\n  onCompositionUpdateCapture: true,\n  onKeyDownCapture: true,\n  onKeyPressCapture: true,\n  onKeyUpCapture: true,\n  onFocusCapture: true,\n  onBlurCapture: true,\n  onChangeCapture: true,\n  onInputCapture: true,\n  onSubmitCapture: true,\n  onClickCapture: true,\n  onContextMenuCapture: true,\n  onDoubleClickCapture: true,\n  onDragCapture: true,\n  onDragEndCapture: true,\n  onDragEnterCapture: true,\n  onDragExitCapture: true,\n  onDragLeaveCapture: true,\n  onDragOverCapture: true,\n  onDragStartCapture: true,\n  onDropCapture: true,\n  onMouseDownCapture: true,\n  onMouseEnterCapture: true,\n  onMouseLeaveCapture: true,\n  onMouseMoveCapture: true,\n  onMouseOutCapture: true,\n  onMouseOverCapture: true,\n  onMouseUpCapture: true,\n  onSelectCapture: true,\n  onTouchCancelCapture: true,\n  onTouchEndCapture: true,\n  onTouchMoveCapture: true,\n  onTouchStartCapture: true,\n  onScrollCapture: true,\n  onWheelCapture: true,\n  onAbortCapture: true,\n  onCanPlayCapture: true,\n  onCanPlayThroughCapture: true,\n  onDurationChangeCapture: true,\n  onEmptiedCapture: true,\n  onEncryptedCapture: true,\n  onEndedCapture: true,\n  onErrorCapture: true,\n  onLoadedDataCapture: true,\n  onLoadedMetadataCapture: true,\n  onLoadStartCapture: true,\n  onPauseCapture: true,\n  onPlayCapture: true,\n  onPlayingCapture: true,\n  onProgressCapture: true,\n  onRateChangeCapture: true,\n  onSeekedCapture: true,\n  onSeekingCapture: true,\n  onStalledCapture: true,\n  onSuspendCapture: true,\n  onTimeUpdateCapture: true,\n  onVolumeChangeCapture: true,\n  onWaitingCapture: true,\n  onLoadCapture: true,\n  onAnimationStartCapture: true,\n  onAnimationEndCapture: true,\n  onAnimationIterationCapture: true,\n  onTransitionEndCapture: true\n};\n\n/* From HTMLDOMPropertyConfig */\nvar htmlProps = {\n  /**\n   * Standard Properties\n   */\n  accept: true,\n  acceptCharset: true,\n  accessKey: true,\n  action: true,\n  allowFullScreen: true,\n  allowTransparency: true,\n  alt: true,\n  // specifies target context for links with `preload` type\n  as: true,\n  async: true,\n  autoComplete: true,\n  // autoFocus is polyfilled/normalized by AutoFocusUtils\n  // autoFocus: true,\n  autoPlay: true,\n  capture: true,\n  cellPadding: true,\n  cellSpacing: true,\n  charSet: true,\n  challenge: true,\n  checked: true,\n  cite: true,\n  classID: true,\n  className: true,\n  cols: true,\n  colSpan: true,\n  content: true,\n  contentEditable: true,\n  contextMenu: true,\n  controls: true,\n  coords: true,\n  crossOrigin: true,\n  data: true, // For `<object />` acts as `src`.\n  dateTime: true,\n  default: true,\n  defer: true,\n  dir: true,\n  disabled: true,\n  download: true,\n  draggable: true,\n  encType: true,\n  form: true,\n  formAction: true,\n  formEncType: true,\n  formMethod: true,\n  formNoValidate: true,\n  formTarget: true,\n  frameBorder: true,\n  headers: true,\n  height: true,\n  hidden: true,\n  high: true,\n  href: true,\n  hrefLang: true,\n  htmlFor: true,\n  httpEquiv: true,\n  icon: true,\n  id: true,\n  inputMode: true,\n  integrity: true,\n  is: true,\n  keyParams: true,\n  keyType: true,\n  kind: true,\n  label: true,\n  lang: true,\n  list: true,\n  loop: true,\n  low: true,\n  manifest: true,\n  marginHeight: true,\n  marginWidth: true,\n  max: true,\n  maxLength: true,\n  media: true,\n  mediaGroup: true,\n  method: true,\n  min: true,\n  minLength: true,\n  // Caution; `option.selected` is not updated if `select.multiple` is\n  // disabled with `removeAttribute`.\n  multiple: true,\n  muted: true,\n  name: true,\n  nonce: true,\n  noValidate: true,\n  open: true,\n  optimum: true,\n  pattern: true,\n  placeholder: true,\n  playsInline: true,\n  poster: true,\n  preload: true,\n  profile: true,\n  radioGroup: true,\n  readOnly: true,\n  referrerPolicy: true,\n  rel: true,\n  required: true,\n  reversed: true,\n  role: true,\n  rows: true,\n  rowSpan: true,\n  sandbox: true,\n  scope: true,\n  scoped: true,\n  scrolling: true,\n  seamless: true,\n  selected: true,\n  shape: true,\n  size: true,\n  sizes: true,\n  span: true,\n  spellCheck: true,\n  src: true,\n  srcDoc: true,\n  srcLang: true,\n  srcSet: true,\n  start: true,\n  step: true,\n  style: true,\n  summary: true,\n  tabIndex: true,\n  target: true,\n  title: true,\n  // Setting .type throws on non-<input> tags\n  type: true,\n  useMap: true,\n  value: true,\n  width: true,\n  wmode: true,\n  wrap: true,\n\n  /**\n   * RDFa Properties\n   */\n  about: true,\n  datatype: true,\n  inlist: true,\n  prefix: true,\n  // property is also supported for OpenGraph in meta tags.\n  property: true,\n  resource: true,\n  typeof: true,\n  vocab: true,\n\n  /**\n   * Non-standard Properties\n   */\n  // autoCapitalize and autoCorrect are supported in Mobile Safari for\n  // keyboard hints.\n  autoCapitalize: true,\n  autoCorrect: true,\n  // autoSave allows WebKit/Blink to persist values of input fields on page reloads\n  autoSave: true,\n  // color is for Safari mask-icon link\n  color: true,\n  // itemProp, itemScope, itemType are for\n  // Microdata support. See http://schema.org/docs/gs.html\n  itemProp: true,\n  itemScope: true,\n  itemType: true,\n  // itemID and itemRef are for Microdata support as well but\n  // only specified in the WHATWG spec document. See\n  // https://html.spec.whatwg.org/multipage/microdata.html#microdata-dom-api\n  itemID: true,\n  itemRef: true,\n  // results show looking glass icon and recent searches on input\n  // search fields in WebKit/Blink\n  results: true,\n  // IE-only attribute that specifies security restrictions on an iframe\n  // as an alternative to the sandbox attribute on IE<10\n  security: true,\n  // IE-only attribute that controls focus behavior\n  unselectable: 0\n};\n\nvar svgProps = {\n  accentHeight: true,\n  accumulate: true,\n  additive: true,\n  alignmentBaseline: true,\n  allowReorder: true,\n  alphabetic: true,\n  amplitude: true,\n  arabicForm: true,\n  ascent: true,\n  attributeName: true,\n  attributeType: true,\n  autoReverse: true,\n  azimuth: true,\n  baseFrequency: true,\n  baseProfile: true,\n  baselineShift: true,\n  bbox: true,\n  begin: true,\n  bias: true,\n  by: true,\n  calcMode: true,\n  capHeight: true,\n  clip: true,\n  clipPath: true,\n  clipRule: true,\n  clipPathUnits: true,\n  colorInterpolation: true,\n  colorInterpolationFilters: true,\n  colorProfile: true,\n  colorRendering: true,\n  contentScriptType: true,\n  contentStyleType: true,\n  cursor: true,\n  cx: true,\n  cy: true,\n  d: true,\n  decelerate: true,\n  descent: true,\n  diffuseConstant: true,\n  direction: true,\n  display: true,\n  divisor: true,\n  dominantBaseline: true,\n  dur: true,\n  dx: true,\n  dy: true,\n  edgeMode: true,\n  elevation: true,\n  enableBackground: true,\n  end: true,\n  exponent: true,\n  externalResourcesRequired: true,\n  fill: true,\n  fillOpacity: true,\n  fillRule: true,\n  filter: true,\n  filterRes: true,\n  filterUnits: true,\n  floodColor: true,\n  floodOpacity: true,\n  focusable: true,\n  fontFamily: true,\n  fontSize: true,\n  fontSizeAdjust: true,\n  fontStretch: true,\n  fontStyle: true,\n  fontVariant: true,\n  fontWeight: true,\n  format: true,\n  from: true,\n  fx: true,\n  fy: true,\n  g1: true,\n  g2: true,\n  glyphName: true,\n  glyphOrientationHorizontal: true,\n  glyphOrientationVertical: true,\n  glyphRef: true,\n  gradientTransform: true,\n  gradientUnits: true,\n  hanging: true,\n  horizAdvX: true,\n  horizOriginX: true,\n  ideographic: true,\n  imageRendering: true,\n  in: true,\n  in2: true,\n  intercept: true,\n  k: true,\n  k1: true,\n  k2: true,\n  k3: true,\n  k4: true,\n  kernelMatrix: true,\n  kernelUnitLength: true,\n  kerning: true,\n  keyPoints: true,\n  keySplines: true,\n  keyTimes: true,\n  lengthAdjust: true,\n  letterSpacing: true,\n  lightingColor: true,\n  limitingConeAngle: true,\n  local: true,\n  markerEnd: true,\n  markerMid: true,\n  markerStart: true,\n  markerHeight: true,\n  markerUnits: true,\n  markerWidth: true,\n  mask: true,\n  maskContentUnits: true,\n  maskUnits: true,\n  mathematical: true,\n  mode: true,\n  numOctaves: true,\n  offset: true,\n  opacity: true,\n  operator: true,\n  order: true,\n  orient: true,\n  orientation: true,\n  origin: true,\n  overflow: true,\n  overlinePosition: true,\n  overlineThickness: true,\n  paintOrder: true,\n  panose1: true,\n  pathLength: true,\n  patternContentUnits: true,\n  patternTransform: true,\n  patternUnits: true,\n  pointerEvents: true,\n  points: true,\n  pointsAtX: true,\n  pointsAtY: true,\n  pointsAtZ: true,\n  preserveAlpha: true,\n  preserveAspectRatio: true,\n  primitiveUnits: true,\n  r: true,\n  radius: true,\n  refX: true,\n  refY: true,\n  renderingIntent: true,\n  repeatCount: true,\n  repeatDur: true,\n  requiredExtensions: true,\n  requiredFeatures: true,\n  restart: true,\n  result: true,\n  rotate: true,\n  rx: true,\n  ry: true,\n  scale: true,\n  seed: true,\n  shapeRendering: true,\n  slope: true,\n  spacing: true,\n  specularConstant: true,\n  specularExponent: true,\n  speed: true,\n  spreadMethod: true,\n  startOffset: true,\n  stdDeviation: true,\n  stemh: true,\n  stemv: true,\n  stitchTiles: true,\n  stopColor: true,\n  stopOpacity: true,\n  strikethroughPosition: true,\n  strikethroughThickness: true,\n  string: true,\n  stroke: true,\n  strokeDasharray: true,\n  strokeDashoffset: true,\n  strokeLinecap: true,\n  strokeLinejoin: true,\n  strokeMiterlimit: true,\n  strokeOpacity: true,\n  strokeWidth: true,\n  surfaceScale: true,\n  systemLanguage: true,\n  tableValues: true,\n  targetX: true,\n  targetY: true,\n  textAnchor: true,\n  textDecoration: true,\n  textRendering: true,\n  textLength: true,\n  to: true,\n  transform: true,\n  u1: true,\n  u2: true,\n  underlinePosition: true,\n  underlineThickness: true,\n  unicode: true,\n  unicodeBidi: true,\n  unicodeRange: true,\n  unitsPerEm: true,\n  vAlphabetic: true,\n  vHanging: true,\n  vIdeographic: true,\n  vMathematical: true,\n  values: true,\n  vectorEffect: true,\n  version: true,\n  vertAdvY: true,\n  vertOriginX: true,\n  vertOriginY: true,\n  viewBox: true,\n  viewTarget: true,\n  visibility: true,\n  widths: true,\n  wordSpacing: true,\n  writingMode: true,\n  x: true,\n  xHeight: true,\n  x1: true,\n  x2: true,\n  xChannelSelector: true,\n  xlinkActuate: true,\n  xlinkArcrole: true,\n  xlinkHref: true,\n  xlinkRole: true,\n  xlinkShow: true,\n  xlinkTitle: true,\n  xlinkType: true,\n  xmlBase: true,\n  xmlns: true,\n  xmlnsXlink: true,\n  xmlLang: true,\n  xmlSpace: true,\n  y: true,\n  y1: true,\n  y2: true,\n  yChannelSelector: true,\n  z: true,\n  zoomAndPan: true\n};\n\n/* From DOMProperty */\nvar ATTRIBUTE_NAME_START_CHAR = ':A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\nvar ATTRIBUTE_NAME_CHAR = ATTRIBUTE_NAME_START_CHAR + '\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040';\nvar isCustomAttribute = RegExp.prototype.test.bind(new RegExp('^(data|aria)-[' + ATTRIBUTE_NAME_CHAR + ']*$'));\n\nvar hasOwnProperty = {}.hasOwnProperty;\nvar validAttr = (function (name) {\n  return hasOwnProperty.call(htmlProps, name) || hasOwnProperty.call(svgProps, name) || isCustomAttribute(name.toLowerCase()) || hasOwnProperty.call(reactProps, name);\n});\n\n//      \n\n\nfunction isTag(target) /* : %checks */{\n  return typeof target === 'string';\n}\n\n//      \n\n\nfunction isStyledComponent(target) /* : %checks */{\n  return typeof target === 'function' && typeof target.styledComponentId === 'string';\n}\n\n//      \n\n/* eslint-disable no-undef */\nfunction getComponentName(target) {\n  return target.displayName || target.name || 'Component';\n}\n\n//      \n/**\n * Creates a broadcast that can be listened to, i.e. simple event emitter\n *\n * @see https://github.com/ReactTraining/react-broadcast\n */\n\nvar createBroadcast = function createBroadcast(initialValue) {\n  var listeners = [];\n  var currentValue = initialValue;\n\n  return {\n    publish: function publish(value) {\n      currentValue = value;\n      listeners.forEach(function (listener) {\n        return listener(currentValue);\n      });\n    },\n    subscribe: function subscribe(listener) {\n      listeners.push(listener);\n\n      // Publish to this subscriber once immediately.\n      listener(currentValue);\n\n      return function () {\n        listeners = listeners.filter(function (item) {\n          return item !== listener;\n        });\n      };\n    }\n  };\n};\n\nvar _ThemeProvider$childC;\nvar _ThemeProvider$contex;\n\n//      \n/* globals React$Element */\n// NOTE: DO NOT CHANGE, changing this is a semver major change!\nvar CHANNEL = '__styled-components__';\n\n/**\n * Provide a theme to an entire react component tree via context and event listeners (have to do\n * both context and event emitter as pure components block context updates)\n */\n\nvar ThemeProvider = function (_Component) {\n  inherits(ThemeProvider, _Component);\n\n  function ThemeProvider() {\n    classCallCheck(this, ThemeProvider);\n\n    var _this = possibleConstructorReturn(this, _Component.call(this));\n\n    _this.getTheme = _this.getTheme.bind(_this);\n    return _this;\n  }\n\n  ThemeProvider.prototype.componentWillMount = function componentWillMount() {\n    var _this2 = this;\n\n    // If there is a ThemeProvider wrapper anywhere around this theme provider, merge this theme\n    // with the outer theme\n    if (this.context[CHANNEL]) {\n      var subscribe = this.context[CHANNEL];\n      this.unsubscribeToOuter = subscribe(function (theme) {\n        _this2.outerTheme = theme;\n      });\n    }\n    this.broadcast = createBroadcast(this.getTheme());\n  };\n\n  ThemeProvider.prototype.getChildContext = function getChildContext() {\n    var _babelHelpers$extends;\n\n    return _extends({}, this.context, (_babelHelpers$extends = {}, _babelHelpers$extends[CHANNEL] = this.broadcast.subscribe, _babelHelpers$extends));\n  };\n\n  ThemeProvider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (this.props.theme !== nextProps.theme) this.broadcast.publish(this.getTheme(nextProps.theme));\n  };\n\n  ThemeProvider.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.context[CHANNEL]) {\n      this.unsubscribeToOuter();\n    }\n  };\n\n  // Get the theme from the props, supporting both (outerTheme) => {} as well as object notation\n\n\n  ThemeProvider.prototype.getTheme = function getTheme(passedTheme) {\n    var theme = passedTheme || this.props.theme;\n    if (isFunction(theme)) {\n      var mergedTheme = theme(this.outerTheme);\n      if (!isPlainObject(mergedTheme)) {\n        throw new Error('[ThemeProvider] Please return an object from your theme function, i.e. theme={() => ({})}!');\n      }\n      return mergedTheme;\n    }\n    if (!isPlainObject(theme)) {\n      throw new Error('[ThemeProvider] Please make your theme prop a plain object');\n    }\n    return _extends({}, this.outerTheme, theme);\n  };\n\n  ThemeProvider.prototype.render = function render() {\n    if (!this.props.children) {\n      return null;\n    }\n    return React.Children.only(this.props.children);\n  };\n\n  return ThemeProvider;\n}(Component);\n\nThemeProvider.childContextTypes = (_ThemeProvider$childC = {}, _ThemeProvider$childC[CHANNEL] = PropTypes.func.isRequired, _ThemeProvider$childC);\nThemeProvider.contextTypes = (_ThemeProvider$contex = {}, _ThemeProvider$contex[CHANNEL] = PropTypes.func, _ThemeProvider$contex);\n\nvar _AbstractStyledCompon;\n\n//      \nvar AbstractStyledComponent = function (_Component) {\n  inherits(AbstractStyledComponent, _Component);\n\n  function AbstractStyledComponent() {\n    classCallCheck(this, AbstractStyledComponent);\n    return possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  return AbstractStyledComponent;\n}(Component);\n\nAbstractStyledComponent.contextTypes = (_AbstractStyledCompon = {}, _AbstractStyledCompon[CHANNEL] = PropTypes.func, _AbstractStyledCompon[CONTEXT_KEY] = PropTypes.instanceOf(StyleSheet), _AbstractStyledCompon);\n\n//      \n\nvar escapeRegex = /[[\\].#*$><+~=|^:(),\"'`]/g;\nvar multiDashRegex = /--+/g;\n\nvar _StyledComponent = (function (ComponentStyle, constructWithOptions) {\n  /* We depend on components having unique IDs */\n  var identifiers = {};\n  var generateId = function generateId(_displayName) {\n    var displayName = typeof _displayName !== 'string' ? 'sc' : _displayName.replace(escapeRegex, '-') // Replace all possible CSS selectors\n    .replace(multiDashRegex, '-'); // Replace multiple -- with single -\n\n    var nr = (identifiers[displayName] || 0) + 1;\n    identifiers[displayName] = nr;\n\n    var hash = ComponentStyle.generateName(displayName + nr);\n    return displayName + '-' + hash;\n  };\n\n  var BaseStyledComponent = function (_AbstractStyledCompon) {\n    inherits(BaseStyledComponent, _AbstractStyledCompon);\n\n    function BaseStyledComponent() {\n      var _temp, _this, _ret;\n\n      classCallCheck(this, BaseStyledComponent);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = possibleConstructorReturn(this, _AbstractStyledCompon.call.apply(_AbstractStyledCompon, [this].concat(args))), _this), _this.attrs = {}, _this.state = {\n        theme: null,\n        generatedClassName: ''\n      }, _temp), possibleConstructorReturn(_this, _ret);\n    }\n\n    BaseStyledComponent.prototype.buildExecutionContext = function buildExecutionContext(theme, props) {\n      var attrs = this.constructor.attrs;\n\n      var context = _extends({}, props, { theme: theme });\n      if (attrs === undefined) {\n        return context;\n      }\n\n      this.attrs = Object.keys(attrs).reduce(function (acc, key) {\n        var attr = attrs[key];\n        // eslint-disable-next-line no-param-reassign\n        acc[key] = typeof attr === 'function' ? attr(context) : attr;\n        return acc;\n      }, {});\n\n      return _extends({}, context, this.attrs);\n    };\n\n    BaseStyledComponent.prototype.generateAndInjectStyles = function generateAndInjectStyles(theme, props) {\n      var _constructor = this.constructor,\n          componentStyle = _constructor.componentStyle,\n          warnTooManyClasses = _constructor.warnTooManyClasses;\n\n      var executionContext = this.buildExecutionContext(theme, props);\n      var styleSheet = this.context[CONTEXT_KEY] || StyleSheet.instance;\n      var className = componentStyle.generateAndInjectStyles(executionContext, styleSheet);\n\n      if (warnTooManyClasses !== undefined) warnTooManyClasses(className);\n\n      return className;\n    };\n\n    BaseStyledComponent.prototype.componentWillMount = function componentWillMount() {\n      var _this2 = this;\n\n      // If there is a theme in the context, subscribe to the event emitter. This\n      // is necessary due to pure components blocking context updates, this circumvents\n      // that by updating when an event is emitted\n      if (this.context[CHANNEL]) {\n        var subscribe = this.context[CHANNEL];\n        this.unsubscribe = subscribe(function (nextTheme) {\n          // This will be called once immediately\n\n          // Props should take precedence over ThemeProvider, which should take precedence over\n          // defaultProps, but React automatically puts defaultProps on props.\n          var defaultProps = _this2.constructor.defaultProps;\n\n          var isDefaultTheme = defaultProps && _this2.props.theme === defaultProps.theme;\n          var theme = _this2.props.theme && !isDefaultTheme ? _this2.props.theme : nextTheme;\n          var generatedClassName = _this2.generateAndInjectStyles(theme, _this2.props);\n          _this2.setState({ theme: theme, generatedClassName: generatedClassName });\n        });\n      } else {\n        var theme = this.props.theme || {};\n        var generatedClassName = this.generateAndInjectStyles(theme, this.props);\n        this.setState({ theme: theme, generatedClassName: generatedClassName });\n      }\n    };\n\n    BaseStyledComponent.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var _this3 = this;\n\n      this.setState(function (oldState) {\n        // Props should take precedence over ThemeProvider, which should take precedence over\n        // defaultProps, but React automatically puts defaultProps on props.\n        var defaultProps = _this3.constructor.defaultProps;\n\n        var isDefaultTheme = defaultProps && nextProps.theme === defaultProps.theme;\n        var theme = nextProps.theme && !isDefaultTheme ? nextProps.theme : oldState.theme;\n        var generatedClassName = _this3.generateAndInjectStyles(theme, nextProps);\n\n        return { theme: theme, generatedClassName: generatedClassName };\n      });\n    };\n\n    BaseStyledComponent.prototype.componentWillUnmount = function componentWillUnmount() {\n      if (this.unsubscribe) {\n        this.unsubscribe();\n      }\n    };\n\n    BaseStyledComponent.prototype.render = function render() {\n      var _this4 = this;\n\n      var innerRef = this.props.innerRef;\n      var generatedClassName = this.state.generatedClassName;\n      var _constructor2 = this.constructor,\n          styledComponentId = _constructor2.styledComponentId,\n          target = _constructor2.target;\n\n\n      var isTargetTag = isTag(target);\n\n      var className = [this.props.className, styledComponentId, this.attrs.className, generatedClassName].filter(Boolean).join(' ');\n\n      var baseProps = _extends({}, this.attrs, {\n        className: className\n      });\n\n      if (isStyledComponent(target)) {\n        baseProps.innerRef = innerRef;\n      } else {\n        baseProps.ref = innerRef;\n      }\n\n      var propsForElement = Object.keys(this.props).reduce(function (acc, propName) {\n        // Don't pass through non HTML tags through to HTML elements\n        // always omit innerRef\n        if (propName !== 'innerRef' && propName !== 'className' && (!isTargetTag || validAttr(propName))) {\n          // eslint-disable-next-line no-param-reassign\n          acc[propName] = _this4.props[propName];\n        }\n\n        return acc;\n      }, baseProps);\n\n      return createElement(target, propsForElement);\n    };\n\n    return BaseStyledComponent;\n  }(AbstractStyledComponent);\n\n  var createStyledComponent = function createStyledComponent(target, options, rules) {\n    var _StyledComponent$cont;\n\n    var _options$displayName = options.displayName,\n        displayName = _options$displayName === undefined ? isTag(target) ? 'styled.' + target : 'Styled(' + getComponentName(target) + ')' : _options$displayName,\n        _options$componentId = options.componentId,\n        componentId = _options$componentId === undefined ? generateId(options.displayName) : _options$componentId,\n        _options$ParentCompon = options.ParentComponent,\n        ParentComponent = _options$ParentCompon === undefined ? BaseStyledComponent : _options$ParentCompon,\n        extendingRules = options.rules,\n        attrs = options.attrs;\n\n\n    var styledComponentId = options.displayName && options.componentId ? options.displayName + '-' + options.componentId : componentId;\n\n    var warnTooManyClasses = void 0;\n    if (typeof process !== 'undefined' && \"development\" !== 'production') {\n      warnTooManyClasses = createWarnTooManyClasses(displayName);\n    }\n\n    var componentStyle = new ComponentStyle(extendingRules === undefined ? rules : extendingRules.concat(rules), styledComponentId);\n\n    var StyledComponent = function (_ParentComponent) {\n      inherits(StyledComponent, _ParentComponent);\n\n      function StyledComponent() {\n        classCallCheck(this, StyledComponent);\n        return possibleConstructorReturn(this, _ParentComponent.apply(this, arguments));\n      }\n\n      StyledComponent.withComponent = function withComponent(tag) {\n        var _ = options.displayName,\n            __ = options.componentId,\n            optionsToCopy = objectWithoutProperties(options, ['displayName', 'componentId']);\n\n        var newOptions = _extends({}, optionsToCopy, { ParentComponent: StyledComponent });\n        return createStyledComponent(tag, newOptions, rules);\n      };\n\n      createClass(StyledComponent, null, [{\n        key: 'extend',\n        get: function get$$1() {\n          var _ = options.displayName,\n              __ = options.componentId,\n              rulesFromOptions = options.rules,\n              optionsToCopy = objectWithoutProperties(options, ['displayName', 'componentId', 'rules']);\n\n\n          var newRules = rulesFromOptions === undefined ? rules : rulesFromOptions.concat(rules);\n\n          var newOptions = _extends({}, optionsToCopy, {\n            rules: newRules,\n            ParentComponent: StyledComponent\n          });\n\n          return constructWithOptions(createStyledComponent, target, newOptions);\n        }\n      }]);\n      return StyledComponent;\n    }(ParentComponent);\n\n    StyledComponent.contextTypes = (_StyledComponent$cont = {}, _StyledComponent$cont[CHANNEL] = PropTypes.func, _StyledComponent$cont[CONTEXT_KEY] = PropTypes.instanceOf(StyleSheet), _StyledComponent$cont);\n    StyledComponent.displayName = displayName;\n    StyledComponent.styledComponentId = styledComponentId;\n    StyledComponent.attrs = attrs;\n    StyledComponent.componentStyle = componentStyle;\n    StyledComponent.warnTooManyClasses = warnTooManyClasses;\n    StyledComponent.target = target;\n\n\n    return StyledComponent;\n  };\n\n  return createStyledComponent;\n});\n\n// murmurhash2 via https://gist.github.com/raycmorgan/588423\n\nfunction doHash(str, seed) {\n  var m = 0x5bd1e995;\n  var r = 24;\n  var h = seed ^ str.length;\n  var length = str.length;\n  var currentIndex = 0;\n\n  while (length >= 4) {\n    var k = UInt32(str, currentIndex);\n\n    k = Umul32(k, m);\n    k ^= k >>> r;\n    k = Umul32(k, m);\n\n    h = Umul32(h, m);\n    h ^= k;\n\n    currentIndex += 4;\n    length -= 4;\n  }\n\n  switch (length) {\n    case 3:\n      h ^= UInt16(str, currentIndex);\n      h ^= str.charCodeAt(currentIndex + 2) << 16;\n      h = Umul32(h, m);\n      break;\n\n    case 2:\n      h ^= UInt16(str, currentIndex);\n      h = Umul32(h, m);\n      break;\n\n    case 1:\n      h ^= str.charCodeAt(currentIndex);\n      h = Umul32(h, m);\n      break;\n  }\n\n  h ^= h >>> 13;\n  h = Umul32(h, m);\n  h ^= h >>> 15;\n\n  return h >>> 0;\n}\n\nfunction UInt32(str, pos) {\n  return str.charCodeAt(pos++) + (str.charCodeAt(pos++) << 8) + (str.charCodeAt(pos++) << 16) + (str.charCodeAt(pos) << 24);\n}\n\nfunction UInt16(str, pos) {\n  return str.charCodeAt(pos++) + (str.charCodeAt(pos++) << 8);\n}\n\nfunction Umul32(n, m) {\n  n = n | 0;\n  m = m | 0;\n  var nlo = n & 0xffff;\n  var nhi = n >>> 16;\n  var res = nlo * m + ((nhi * m & 0xffff) << 16) | 0;\n  return res;\n}\n\n//      \n/*\n ComponentStyle is all the CSS-specific stuff, not\n the React-specific stuff.\n */\nvar _ComponentStyle = (function (nameGenerator, flatten, stringifyRules) {\n  var ComponentStyle = function () {\n    function ComponentStyle(rules, componentId) {\n      classCallCheck(this, ComponentStyle);\n\n      this.rules = rules;\n      this.componentId = componentId;\n      if (!StyleSheet.instance.hasInjectedComponent(this.componentId)) {\n        var placeholder = '.' + componentId + ' {}';\n        StyleSheet.instance.deferredInject(componentId, true, placeholder);\n      }\n    }\n\n    /*\n     * Flattens a rule set into valid CSS\n     * Hashes it, wraps the whole chunk in a .hash1234 {}\n     * Returns the hash to be injected on render()\n     * */\n\n\n    ComponentStyle.prototype.generateAndInjectStyles = function generateAndInjectStyles(executionContext, styleSheet) {\n      var flatCSS = flatten(this.rules, executionContext);\n      var hash = doHash(this.componentId + flatCSS.join(''));\n\n      var existingName = styleSheet.getName(hash);\n      if (existingName) return existingName;\n\n      var name = nameGenerator(hash);\n      if (styleSheet.alreadyInjected(hash, name)) return name;\n\n      var css = '\\n' + stringifyRules(flatCSS, '.' + name);\n      styleSheet.inject(this.componentId, true, css, hash, name);\n      return name;\n    };\n\n    ComponentStyle.generateName = function generateName(str) {\n      return nameGenerator(doHash(str));\n    };\n\n    return ComponentStyle;\n  }();\n\n  return ComponentStyle;\n});\n\n//      \n// Thanks to ReactDOMFactories for this handy list!\n\nvar domElements = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr',\n\n// SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n\n//      \n\nvar _styled = (function (styledComponent, constructWithOptions) {\n  var styled = function styled(tag) {\n    return constructWithOptions(styledComponent, tag);\n  };\n\n  // Shorthands for all valid HTML Elements\n  domElements.forEach(function (domElement) {\n    styled[domElement] = styled(domElement);\n  });\n\n  return styled;\n});\n\n//      \nvar replaceWhitespace = function replaceWhitespace(str) {\n  return str.replace(/\\s|\\\\n/g, '');\n};\n\nvar _keyframes = (function (nameGenerator, stringifyRules, css) {\n  return function (strings) {\n    for (var _len = arguments.length, interpolations = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      interpolations[_key - 1] = arguments[_key];\n    }\n\n    var rules = css.apply(undefined, [strings].concat(interpolations));\n    var hash = doHash(replaceWhitespace(JSON.stringify(rules)));\n\n    var existingName = StyleSheet.instance.getName(hash);\n    if (existingName) return existingName;\n\n    var name = nameGenerator(hash);\n    if (StyleSheet.instance.alreadyInjected(hash, name)) return name;\n\n    var generatedCSS = stringifyRules(rules, name, '@keyframes');\n    StyleSheet.instance.inject('sc-keyframes-' + name, true, generatedCSS, hash, name);\n    return name;\n  };\n});\n\n//      \nvar _injectGlobal = (function (stringifyRules, css) {\n  var injectGlobal = function injectGlobal(strings) {\n    for (var _len = arguments.length, interpolations = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      interpolations[_key - 1] = arguments[_key];\n    }\n\n    var rules = css.apply(undefined, [strings].concat(interpolations));\n    var hash = doHash(JSON.stringify(rules));\n\n    var componentId = 'sc-global-' + hash;\n    if (StyleSheet.instance.hasInjectedComponent(componentId)) return;\n\n    StyleSheet.instance.inject(componentId, false, stringifyRules(rules));\n  };\n\n  return injectGlobal;\n});\n\n//      \n\n\nvar _constructWithOptions = (function (css) {\n  var constructWithOptions = function constructWithOptions(componentConstructor, tag) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    if (typeof tag !== 'string' && typeof tag !== 'function') {\n      // $FlowInvalidInputTest\n      throw new Error('Cannot create styled-component for component: ' + tag);\n    }\n\n    /* This is callable directly as a template function */\n    var templateFunction = function templateFunction(strings) {\n      for (var _len = arguments.length, interpolations = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        interpolations[_key - 1] = arguments[_key];\n      }\n\n      return componentConstructor(tag, options, css.apply(undefined, [strings].concat(interpolations)));\n    };\n\n    /* If config methods are called, wrap up a new template function and merge options */\n    templateFunction.withConfig = function (config) {\n      return constructWithOptions(componentConstructor, tag, _extends({}, options, config));\n    };\n    templateFunction.attrs = function (attrs) {\n      return constructWithOptions(componentConstructor, tag, _extends({}, options, {\n        attrs: _extends({}, options.attrs || {}, attrs) }));\n    };\n\n    return templateFunction;\n  };\n\n  return constructWithOptions;\n});\n\n//      \n/* globals ReactClass */\n\nvar wrapWithTheme = function wrapWithTheme(Component$$1) {\n  var _WithTheme$contextTyp;\n\n  var componentName = Component$$1.displayName || Component$$1.name || 'Component';\n\n  var isStyledComponent$$1 = isStyledComponent(Component$$1);\n\n  var WithTheme = function (_React$Component) {\n    inherits(WithTheme, _React$Component);\n\n    function WithTheme() {\n      var _temp, _this, _ret;\n\n      classCallCheck(this, WithTheme);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {}, _temp), possibleConstructorReturn(_this, _ret);\n    }\n\n    // NOTE: This is so that isStyledComponent passes for the innerRef unwrapping\n\n\n    WithTheme.prototype.componentWillMount = function componentWillMount() {\n      var _this2 = this;\n\n      if (!this.context[CHANNEL]) {\n        throw new Error('[withTheme] Please use ThemeProvider to be able to use withTheme');\n      }\n\n      var subscribe = this.context[CHANNEL];\n      this.unsubscribe = subscribe(function (theme) {\n        _this2.setState({ theme: theme });\n      });\n    };\n\n    WithTheme.prototype.componentWillUnmount = function componentWillUnmount() {\n      if (typeof this.unsubscribe === 'function') this.unsubscribe();\n    };\n\n    WithTheme.prototype.render = function render() {\n      // eslint-disable-next-line react/prop-types\n      var innerRef = this.props.innerRef;\n      var theme = this.state.theme;\n\n\n      return React.createElement(Component$$1, _extends({\n        theme: theme\n      }, this.props, {\n        innerRef: isStyledComponent$$1 ? innerRef : undefined,\n        ref: isStyledComponent$$1 ? undefined : innerRef\n      }));\n    };\n\n    return WithTheme;\n  }(React.Component);\n\n  WithTheme.displayName = 'WithTheme(' + componentName + ')';\n  WithTheme.styledComponentId = 'withTheme';\n  WithTheme.contextTypes = (_WithTheme$contextTyp = {}, _WithTheme$contextTyp[CHANNEL] = PropTypes.func, _WithTheme$contextTyp);\n\n\n  return hoistStatics(WithTheme, Component$$1);\n};\n\n//      \n\n/* Import singletons */\n/* Import singleton constructors */\n/* Import components */\n/* Import Higher Order Components */\n/* Instantiate singletons */\nvar ComponentStyle = _ComponentStyle(generateAlphabeticName, flatten, stringifyRules);\nvar constructWithOptions = _constructWithOptions(css);\nvar StyledComponent = _StyledComponent(ComponentStyle, constructWithOptions);\n\n/* Instantiate exported singletons */\nvar keyframes = _keyframes(generateAlphabeticName, stringifyRules, css);\nvar injectGlobal = _injectGlobal(stringifyRules, css);\nvar styled = _styled(StyledComponent, constructWithOptions);\n\nexport { css, keyframes, injectGlobal, ThemeProvider, wrapWithTheme as withTheme, ServerStyleSheet, StyleSheetManager };export default styled;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/styled-components/dist/styled-components.es.js\n// module id = 4\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/index.js\n// module id = 5\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar colors = exports.colors = {\n  close: '#F04351',\n  minimize: '#F8B532',\n  expand: '#31DB3E'\n};\n\nvar font = exports.font = {\n  family: \"'Fira Mono', 'monospace'\",\n  termSize: '1em'\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-if-terminal/dist/styles/index.js\n// module id = 6\n// module chunks = 0","\"use strict\";\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n * \n */\n\nfunction makeEmptyFunction(arg) {\n  return function () {\n    return arg;\n  };\n}\n\n/**\n * This function accepts and discards inputs; it has no side effects. This is\n * primarily useful idiomatically for overridable function endpoints which\n * always need to be callable, since JS lacks a null-call idiom ala Cocoa.\n */\nvar emptyFunction = function emptyFunction() {};\n\nemptyFunction.thatReturns = makeEmptyFunction;\nemptyFunction.thatReturnsFalse = makeEmptyFunction(false);\nemptyFunction.thatReturnsTrue = makeEmptyFunction(true);\nemptyFunction.thatReturnsNull = makeEmptyFunction(null);\nemptyFunction.thatReturnsThis = function () {\n  return this;\n};\nemptyFunction.thatReturnsArgument = function (arg) {\n  return arg;\n};\n\nmodule.exports = emptyFunction;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/emptyFunction.js\n// module id = 7\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar validateFormat = function validateFormat(format) {};\n\nif (process.env.NODE_ENV !== 'production') {\n  validateFormat = function validateFormat(format) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  };\n}\n\nfunction invariant(condition, format, a, b, c, d, e, f) {\n  validateFormat(format);\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n}\n\nmodule.exports = invariant;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/invariant.js\n// module id = 8\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/lib/ReactPropTypesSecret.js\n// module id = 9\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isFunction = isFunction;\nfunction isFunction(el) {\n  return typeof el === 'function';\n}\n\nvar KEYS = exports.KEYS = {\n  enter: 13\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-if-terminal/dist/utility/index.js\n// module id = 10\n// module chunks = 0","// import {Map} from 'immutable';\nimport {Direction, EdgeOperation, EdgeDirection, Face, RelativePosition, RendOperation} from './datatypes';\n\nimport {starts_with, tokenize, untokenize, normalize_whitespace} from './text_tools';\n\nexport type Token = string;\n\nexport type HorizPositionWord = 'left' | 'center' | 'right';\nexport let horiz_position_word_tokens: [HorizPositionWord][] = [['left'], ['center'], ['right']];\n\nexport type VertPositionWord = 'top' | 'middle' | 'bottom';\nexport let vert_position_word_tokens: [VertPositionWord][] = [['top'], ['middle'], ['bottom']];\n\nexport type PositionWord = HorizPositionWord | VertPositionWord;\nexport let word_2_relative_position = new Map<PositionWord, RelativePosition>([\n    ['left', RelativePosition.left],\n    ['center', RelativePosition.center],\n    ['right', RelativePosition.right],\n    ['top', RelativePosition.top],\n    ['middle', RelativePosition.middle],\n    ['bottom', RelativePosition.bottom]\n]);\nexport let position_word_tokens: [PositionWord][] = (<[PositionWord][]>horiz_position_word_tokens).concat(vert_position_word_tokens);\n\nexport type FaceWord = 'back' | 'front' | 'right' | 'left' | 'top' | 'bottom';\nexport let word_2_face = new Map<FaceWord, Face>([\n    ['back', Face.n],\n    ['front', Face.s],\n    ['right', Face.e],\n    ['left', Face.w],\n    ['top', Face.t],\n    ['bottom', Face.b]\n]);\nexport let face_word_tokens: [FaceWord][] = [['back'], ['front'], ['right'], ['left'], ['top'], ['bottom']];\n\nexport type RendOpWord = 'remove' | 'replace';\nexport let word_2_rend_op = new Map<RendOpWord, RendOperation>([\n    ['remove', RendOperation.open],\n    ['replace', RendOperation.close]\n]);\nexport let rend_op_word_tokens: [RendOpWord][] = [['remove'], ['replace']];\n\nexport type DangleOpWord = 'open' | 'close';\nexport let word_2_dangle_op = new Map<DangleOpWord, RendOperation>([\n    ['open', RendOperation.open],\n    ['close', RendOperation.close]\n]);\nexport let dangle_op_word_tokens: [DangleOpWord][] = [['open'], ['close']];\n\n\nexport type EdgeOpWord = 'cut' | 'tape';\nexport let word_2_edge_op = new Map<EdgeOpWord, EdgeOperation>([\n    ['cut', EdgeOperation.cut],\n    ['tape', EdgeOperation.tape]\n]);\nexport let edge_op_word_tokens: [EdgeOpWord][] = [['cut'], ['tape']];\n\nexport type EdgeDirWord = 'horizontally' | 'vertically';\nexport let word_2_edge_dir = new Map<EdgeDirWord, EdgeDirection>([\n    ['horizontally', EdgeDirection.horizontal],\n    ['vertically', EdgeDirection.vertical]\n]);\nexport let edge_dir_word_tokens: [EdgeDirWord][] = [['horizontally'], ['vertically']];\n\nexport type RotateYDirWord = \"left\" | \"right\";\nexport let word_2_degrees = new Map<RotateYDirWord, number>([\n    ['left', 270],\n    ['right', 90]\n]);\nexport let rotate_y_word_tokens: [RotateYDirWord][] = [['left'], ['right']];\n\nexport type RollDirWord = \"forward\" | \"backward\" | \"left\" | \"right\";\nexport let word_2_dir = new Map<RollDirWord, Direction>([\n    ['forward', Direction.n],\n    ['backward', Direction.s],\n    ['left', Direction.w],\n    ['right', Direction.e]\n]);\nexport let roll_dir_word_tokens: [RollDirWord][] = [['forward'], ['backward'], ['left'], ['right']];\n\nexport enum DisplayEltType {\n    keyword = 0,\n    option = 1,\n    filler = 2,\n    partial = 3,\n    error = 4\n}\n\nexport interface DisplayElt {\n    display: DisplayEltType, // the intended display style for this element\n    match: string, // the string that the parser matched for this element\n    offset: number, // the number of characters offset into the full string where this match starts\n    typeahead?: string[], // array of typeahead options\n    name?: string // internal name of this match (probably not useful for rendering purposes)\n}\n\nexport enum MatchValidity {\n    valid = 0,\n    partial = 1,\n    invalid = 2\n}\n\nexport class CommandParser {\n    command: string;\n    tokens: Token[];\n    token_positions: number[];\n    position: number = 0;\n    validity: MatchValidity = MatchValidity.valid;\n    match: DisplayElt[] = [];\n\n    constructor(command: string) {\n        this.command = command;\n        [this.tokens, this.token_positions] = tokenize(command);\n    }\n\n    consume_exact(spec_tokens: Token[], display: DisplayEltType=DisplayEltType.keyword, name?: string): boolean {\n        if (spec_tokens.length === 0) {\n            throw new Error(\"Can't consume an empty spec.\");\n        }\n        let offset = this.token_positions[this.position]\n        \n        let match_tokens: Token[] = [];\n        let match_token_positions: number[] = [];\n        let pos_offset = 0;\n        for (let spec_tok of spec_tokens) {\n            if (this.position + pos_offset === this.tokens.length) {\n                this.validity = MatchValidity.partial;\n                break; //partial validity\n            }\n            let next_tok = this.tokens[this.position + pos_offset];\n            let next_tok_pos = this.token_positions[this.position + pos_offset];\n\n            if (spec_tok === next_tok) {\n                match_tokens.push(next_tok);\n                match_token_positions.push(next_tok_pos);\n                pos_offset++;\n                continue;\n            }\n\n            if (starts_with(spec_tok, next_tok)) {\n                match_tokens.push(next_tok);\n                match_token_positions.push(next_tok_pos);\n                this.validity = MatchValidity.partial;\n                pos_offset++;\n                break;\n            }\n\n            this.validity = MatchValidity.invalid;\n            break;   \n        }\n\n        this.position += pos_offset;\n\n\n        if (this.validity === MatchValidity.valid) {\n            this.match.push({\n                display: display,\n                match: untokenize(match_tokens, match_token_positions),\n                offset: offset,\n                name: name});\n            return true;\n        }\n\n        if (this.validity === MatchValidity.partial) {\n            if (this.position === this.tokens.length) {\n                this.match.push({\n                    display: DisplayEltType.partial,\n                    match: untokenize(match_tokens, match_token_positions),\n                    offset: offset,\n                    typeahead: [untokenize(spec_tokens)],\n                    name: name});\n\n                return false;\n            } else {\n                this.validity = MatchValidity.invalid;\n            }\n        }\n\n        match_tokens.push(...this.tokens.slice(this.position));\n        match_token_positions.push(...this.token_positions.slice(this.position));\n        this.position = this.tokens.length;\n        this.match.push({\n            display: DisplayEltType.error,\n            match: untokenize(match_tokens, match_token_positions),\n            offset: offset,\n            name: name});\n        return false;\n    }\n\n    subparser() {\n        return new CommandParser(untokenize(this.tokens.slice(this.position)));\n    }\n\n    integrate(subparser: CommandParser) {\n        this.position += subparser.position;\n        this.match.push(...subparser.match);\n        this.validity = subparser.validity;\n    }\n\n    consume_option<S extends string>(option_spec_tokens: Token[][], name?: string, display: DisplayEltType=DisplayEltType.option): S | false{\n        let offset = this.token_positions[this.position];\n\n        let partial_matches: DisplayElt[] = []; \n        for (let spec_toks of option_spec_tokens) {\n            let subparser = this.subparser();\n            let exact_match = subparser.consume_exact(spec_toks, display, name);\n\n            if (exact_match) {\n                this.integrate(subparser);\n                // this.match.push(subparser.match[0]);\n                // this.position += subparser.position;\n                return <S>normalize_whitespace(subparser.match[0].match);\n            }\n\n            if (subparser.validity === MatchValidity.partial){\n                partial_matches.push(subparser.match[0]);\n            }\n        }\n\n        if (partial_matches.length > 0) {\n            this.validity = MatchValidity.partial;\n            this.position = this.tokens.length - 1;\n            let typeahead = partial_matches.map((de) => de.typeahead[0]);\n            this.match.push({\n                display: DisplayEltType.partial,\n                match: partial_matches[0].match,\n                offset: offset,\n                typeahead: typeahead,\n                name: name})\n            return false;\n        }\n\n        this.validity = MatchValidity.invalid;\n        let match_tokens = this.tokens.slice(this.position);\n        let match_token_positions = this.token_positions.slice(this.position);\n        this.match.push({\n            display: DisplayEltType.error,\n            match: untokenize(match_tokens, match_token_positions),\n            offset: offset,\n            name: name});\n        return false;\n    }\n\n    consume_filler(spec_tokens: Token[]){\n        return this.consume_exact(spec_tokens, DisplayEltType.filler);\n    }\n\n    is_done() {\n        if (this.position !== this.tokens.length) {\n            return false;\n        }\n\n        return this.validity === MatchValidity.valid;\n    }\n\n    done() {\n        if (this.position !== this.tokens.length) {\n            this.validity = MatchValidity.invalid;\n            this.match.push({\n                display: DisplayEltType.error,\n                match: untokenize(this.tokens.slice(this.position)),\n                offset: this.token_positions[this.position]\n            });\n            this.position = this.tokens.length;\n        }\n\n        return this.validity === MatchValidity.valid;\n    }\n\n    get_match(name: string){\n        for (let m of this.match) {\n            if (m.name === name) {\n                return m;\n            }\n        }\n        return null;\n    }\n}\n\nexport interface WorldType {\n    get_command_map(): Map<String, Command<this>>\n}\n\nexport type CommandResult<T extends WorldType> = {\n    world?: T;\n    message?: string;\n    parser?: CommandParser;\n} | undefined\n\nexport interface Command<T extends WorldType> {\n    command_name: Token[];\n    execute: (world: T, parser: CommandParser) => CommandResult<T>;\n}\n\nexport function apply_command<T extends WorldType> (world: T, cmd: string) {\n    let parser = new CommandParser(cmd);\n\n    let command_map = world.get_command_map();\n    let options: Token[][] = Array.from(command_map.values()).map((v) => v.command_name);\n\n    let cmd_name = parser.consume_option(options, 'command', DisplayEltType.keyword);\n    let result: CommandResult<T> = {parser: parser, world: world};\n\n    if (!cmd_name) {\n        return result;\n    }\n\n    let command = command_map.get(cmd_name)\n    let cmd_result = command.execute(world, parser);\n    \n    if (cmd_result !== undefined) {\n        if (cmd_result.world !== undefined) {\n            result.world = cmd_result.world;\n        }\n        if (cmd_result.message !== undefined) {\n            result.message = cmd_result.message;\n        }\n    }\n    return result;\n}\n\nexport class WorldDriver<T extends WorldType> {\n    history: CommandResult<T>[];\n    \n    current_state: CommandResult<T>;\n\n    constructor (initial_world: T) {\n        this.current_state = null;\n        this.history = [{world: initial_world}];\n    }\n\n    apply_command(cmd: string, commit: boolean = true) {\n        let prev_state = this.history[this.history.length - 1];\n        let result = apply_command(prev_state.world, cmd);\n        console.log(cmd);\n        console.log(result.message);\n        console.log(result);\n\n        this.current_state = result;\n        if (commit) {\n            this.commit();\n        }\n        return result;\n    }\n\n    commit() {\n        let result = this.current_state;\n        this.history.push(this.current_state);\n        this.current_state = null;\n        return result;\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/commands.ts","import {Item, Weight} from './datatypes'\n\nexport class Codex extends Item {\n    weight() {\n        return Weight.medium;\n    }\n\n    name() {\n        return 'codex';\n    }\n\n    pre_gestalt() {\n        return 'something thick and aged';\n    }\n\n    post_gestalt() {\n        return 'a thick, rotten codex with strange markings on the front';\n    }\n}\n\nexport class CityKey extends Item {\n    weight() {\n        return Weight.light;\n    }\n\n    name() {\n        return 'Key to the City';\n    }\n\n    pre_gestalt() {\n        return 'something glistening and golden';\n    }\n\n    post_gestalt() {\n        return 'a large, heavy golden key';\n    }\n\n    article() {\n        return 'the';\n    }\n}\n\nexport class Pinecone extends Item {\n    weight() {\n        return Weight.very_light;\n    }\n\n    name() {\n        return 'pinecone';\n    }\n\n    pre_gestalt() {\n        return 'something small, brown and flaky';\n    }\n\n    post_gestalt() {\n        return 'a small, brown pinecone that smells of the outdoors';\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/items.ts","import {Face} from './datatypes';\n\nexport function uncapitalize(msg: string) {\n    return msg[0].toLowerCase() + msg.slice(1);\n}\n\nexport function capitalize(msg: string) {\n    return msg[0].toUpperCase() + msg.slice(1);\n}\n\nexport function face_message(face_order: Face[], f_code_2_name?: Map<Face, string>){\n    if (f_code_2_name === undefined) {\n        f_code_2_name = new Map<Face, string>([\n            [Face.n, 'back'],\n            [Face.s, 'front'],\n            [Face.e, 'right'],\n            [Face.w, 'left'],\n            [Face.t, 'top'],\n            [Face.b, 'bottom']\n        ]);\n    }\n\n    if (face_order.length == 1) {\n        return f_code_2_name.get(face_order[0]) + ' face';\n    } else {\n        return face_order.slice(0, -1).map((x) => f_code_2_name.get(x)).join(', ') + ' and ' + f_code_2_name.get(face_order[face_order.length - 1]) + ' faces';\n    }\n}\n\nexport function starts_with(str: string, searchString: string, position?: number){\n    position = position || 0;\n    return str.substr(position, searchString.length) === searchString;\n}\n\nexport function tokens_equal(tks1: string[], tks2: string[]) {\n    if (tks1.length !== tks2.length) {\n        return false;\n    }\n\n    for (let i = 0; i < tks1.length; i++) {\n        if (tks1[i] !== tks2[i]) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nexport function tokenize(s: string): [string[], number[]] {\n    let pat = /[\\S\\0]+/g;\n    \n    let tokens: string[] = [];\n    let token_indexes: number[] = [];\n    \n    let match: RegExpExecArray;\n    while ((match = pat.exec(s)) !== null) {\n        tokens.push(match[0]);\n        token_indexes.push(match.index);\n    }\n\n    return [tokens, token_indexes];\n\n}\n\nexport function untokenize(tokens: string[], token_positions?: number[]){\n    if (token_positions === undefined) {\n        return tokens.join(' ');\n    }\n    \n    let result: string = '';\n\n    for (let i = 0; i < tokens.length; i++){\n        let cur_pos = result.length;\n        let target_pos = token_positions[i];\n        let padding = target_pos - cur_pos;\n        result += ' '.repeat(padding);\n        result += tokens[i];\n    }\n\n    return result;\n}\n\nexport function normalize_whitespace(s: string) {\n    return s.replace(/\\s+/g, ' ');\n}\n\nexport function last(x: any[] | string){\n    return x[x.length - 1];\n}\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/text_tools.ts","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n */\n\n'use strict';\n\nvar emptyFunction = require('./emptyFunction');\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = emptyFunction;\n\nif (process.env.NODE_ENV !== 'production') {\n  (function () {\n    var printWarning = function printWarning(format) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // --- Welcome to debugging React ---\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    };\n\n    warning = function warning(condition, format) {\n      if (format === undefined) {\n        throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n      }\n\n      if (format.indexOf('Failed Composite propType: ') === 0) {\n        return; // Ignore CompositeComponent proptype check.\n      }\n\n      if (!condition) {\n        for (var _len2 = arguments.length, args = Array(_len2 > 2 ? _len2 - 2 : 0), _key2 = 2; _key2 < _len2; _key2++) {\n          args[_key2 - 2] = arguments[_key2];\n        }\n\n        printWarning.apply(undefined, [format].concat(args));\n      }\n    };\n  })();\n}\n\nmodule.exports = warning;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/fbjs/lib/warning.js\n// module id = 14\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _templateObject = _taggedTemplateLiteral(['\\n  color: ivory;\\n  font-family: ', '\\n'], ['\\n  color: ivory;\\n  font-family: ', '\\n']);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reflexbox = require('reflexbox');\n\nvar _styledComponents = require('styled-components');\n\nvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\nvar _styles = require('../styles');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar Pwd = (0, _reflexbox.reflex)(_styledComponents2.default.div(_templateObject, _styles.font.family));\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    Pwd,\n    props,\n    '> '\n  );\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-if-terminal/dist/components/Pwd.js\n// module id = 15\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _templateObject = _taggedTemplateLiteral(['\\n  font-family: ', ';\\n  color: ivory;\\n  margin: 0;\\n  font-size: ', ';\\n'], ['\\n  font-family: ', ';\\n  color: ivory;\\n  margin: 0;\\n  font-size: ', ';\\n']);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _styledComponents = require('styled-components');\n\nvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\nvar _styles = require('../styles');\n\nvar _reflexbox = require('reflexbox');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar Text = (0, _reflexbox.reflex)(_styledComponents2.default.p(_templateObject, _styles.font.family, _styles.font.termSize));\n\nexports.default = Text;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-if-terminal/dist/components/Text.js\n// module id = 16\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _reflex = require('./reflex');\n\nvar _reflex2 = _interopRequireDefault(_reflex);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Box = (0, _reflex2.default)('div');\n\nexports.default = Box;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflexbox/dist/Box.js\n// module id = 17\n// module chunks = 0","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar breakpoints = exports.breakpoints = [40, 52, 64];\n\nvar space = exports.space = [0, 8, 16, 32, 64];\n\nexports.default = {\n  breakpoints: breakpoints,\n  space: space\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflexbox/dist/config.js\n// module id = 18\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _propTypes = require('prop-types');\n\nvar contextTypes = {\n  reflexbox: (0, _propTypes.shape)({\n    breakpoints: (0, _propTypes.arrayOf)(_propTypes.number),\n    space: (0, _propTypes.arrayOf)(_propTypes.number)\n  })\n};\n\nexports.default = contextTypes;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflexbox/dist/context-types.js\n// module id = 19\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _sheet = require('./sheet');\n\nvar _sheet2 = _interopRequireDefault(_sheet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar REG = /^([wmp][trblxy]?|flex|wrap|column|auto|align|justify|order)$/;\nvar cache = {};\n\nvar css = function css(config) {\n  return function (props) {\n    var next = {};\n    var classNames = [];\n\n    var breaks = [null].concat(_toConsumableArray(config.breakpoints));\n    var sx = stylers(config);\n\n    for (var key in props) {\n      var val = props[key];\n      if (!REG.test(key)) {\n        next[key] = val;\n        continue;\n      }\n      var cx = createRule(breaks, sx)(key, val);\n      cx.forEach(function (cn) {\n        return classNames.push(cn);\n      });\n    }\n\n    next.className = join.apply(undefined, [next.className].concat(classNames));\n\n    return next;\n  };\n};\n\ncss.reset = function () {\n  Object.keys(cache).forEach(function (key) {\n    delete cache[key];\n  });\n  while (_sheet2.default.cssRules.length) {\n    _sheet2.default.deleteRule(0);\n  }\n};\n\nvar createRule = function createRule(breaks, sx) {\n  return function (key, val) {\n    var classNames = [];\n    var id = '_Rfx' + _sheet2.default.cssRules.length.toString(36);\n    var k = key.charAt(0);\n    var style = sx[key] || sx[k];\n\n    var rules = toArr(val).map(function (v, i) {\n      var bp = breaks[i];\n      var decs = style(key, v);\n      var cn = id + '_' + (bp || '');\n      var body = '.' + cn + '{' + decs + '}';\n      var rule = media(bp, body);\n\n      var _key = decs + (bp || '');\n\n      if (cache[_key]) {\n        classNames.push(cache[_key]);\n        return null;\n      } else {\n        classNames.push(cn);\n        cache[_key] = cn;\n        return rule;\n      }\n    }).filter(function (r) {\n      return r !== null;\n    });\n\n    _sheet2.default.insert(rules);\n\n    return classNames;\n  };\n};\n\nvar toArr = function toArr(n) {\n  return Array.isArray(n) ? n : [n];\n};\nvar num = function num(n) {\n  return typeof n === 'number' && !isNaN(n);\n};\n\nvar join = function join() {\n  for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return args.filter(function (a) {\n    return !!a;\n  }).join(' ');\n};\n\nvar dec = function dec(args) {\n  return args.join(':');\n};\nvar rule = function rule(args) {\n  return args.join(';');\n};\nvar media = function media(bp, body) {\n  return bp ? '@media screen and (min-width:' + bp + 'em){' + body + '}' : body;\n};\n\nvar width = function width(key, n) {\n  return dec(['width', !num(n) || n > 1 ? px(n) : n * 100 + '%']);\n};\nvar px = function px(n) {\n  return num(n) ? n + 'px' : n;\n};\n\nvar space = function space(scale) {\n  return function (key, n) {\n    var _key$split = key.split(''),\n        _key$split2 = _slicedToArray(_key$split, 2),\n        a = _key$split2[0],\n        b = _key$split2[1];\n\n    var prop = a === 'm' ? 'margin' : 'padding';\n    var dirs = directions[b] || [''];\n    var neg = n < 0 ? -1 : 1;\n    var val = !num(n) ? n : px((scale[Math.abs(n)] || Math.abs(n)) * neg);\n    return rule(dirs.map(function (d) {\n      return dec([prop + d, val]);\n    }));\n  };\n};\n\nvar directions = {\n  t: ['-top'],\n  r: ['-right'],\n  b: ['-bottom'],\n  l: ['-left'],\n  x: ['-left', '-right'],\n  y: ['-top', '-bottom']\n};\n\nvar flex = function flex(key, n) {\n  return dec(['display', n ? 'flex' : 'block']);\n};\nvar wrap = function wrap(key, n) {\n  return dec(['flex-wrap', n ? 'wrap' : 'nowrap']);\n};\nvar auto = function auto(key, n) {\n  return dec(['flex', '1 1 auto']);\n};\nvar column = function column(key, n) {\n  return dec(['flex-direction', n ? 'column' : 'row']);\n};\nvar align = function align(key, n) {\n  return dec(['align-items', n]);\n};\nvar justify = function justify(key, n) {\n  return dec(['justify-content', n]);\n};\nvar order = function order(key, n) {\n  return dec(['order', n]);\n};\n\nvar stylers = function stylers(config) {\n  return {\n    w: width,\n    m: space(config.space),\n    p: space(config.space),\n    flex: flex,\n    wrap: wrap,\n    auto: auto,\n    column: column,\n    align: align,\n    justify: justify,\n    order: order\n  };\n};\n\nexports.default = css;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflexbox/dist/css.js\n// module id = 20\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _css = require('./css');\n\nvar _css2 = _interopRequireDefault(_css);\n\nvar _config = require('./config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _contextTypes = require('./context-types');\n\nvar _contextTypes2 = _interopRequireDefault(_contextTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar reflex = function reflex(Component) {\n  var Reflex = function Reflex(props, context) {\n    var config = Object.assign({}, _config2.default, context.reflexbox);\n    var next = (0, _css2.default)(config)(props);\n\n    return _react2.default.createElement(Component, next);\n  };\n\n  Reflex.contextTypes = _contextTypes2.default;\n\n  return Reflex;\n};\n\nexports.default = reflex;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflexbox/dist/reflex.js\n// module id = 21\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n// todo: make node version\nvar style = document.createElement('style');\nstyle.id = 'reflexbox';\nstyle.type = 'text/css';\ndocument.head.appendChild(style);\n\nvar sheet = style.sheet;\n\nsheet.insert = function (css) {\n  return css.map(function (rule) {\n    var l = sheet.cssRules.length;\n    sheet.insertRule(rule, l);\n  });\n};\n\nexports.default = sheet;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflexbox/dist/sheet.js\n// module id = 22\n// module chunks = 0","import * as React from \"react\";\nimport * as ReactDom from \"react-dom\";\n\nimport {Terminal} from \"react-if-terminal\";\n\nimport {Item} from \"../typescript/datatypes\";\nimport * as Items from \"../typescript/items\";\n\nimport * as World from \"../typescript/world\";\n\nimport {WorldDriver, MatchValidity} from \"../typescript/commands\";\n\n\nexport default class Game extends React.Component<any, any> {\n    world_driver: WorldDriver<World.SingleBoxWorld>;\n\n    componentWillMount () {\n        let contents: Item[] = [new Items.Codex(), new Items.Pinecone(), new Items.CityKey()];\n        let world = new World.SingleBoxWorld({box: new World.Box({contents: contents})});\n\n        this.world_driver = new WorldDriver(world);\n    }\n\n    handleCommandSubmit = (input: string) => {\n        console.log(input);\n        let result = this.world_driver.commit();\n        return result.message;\n    }\n\n    handlePromptChange = (input) => {\n        console.log(input);\n        let result = this.world_driver.apply_command(input, false);\n        let isValid = result.parser.validity === MatchValidity.valid;\n        let autocomplete = result.parser.match[result.parser.match.length - 1].typeahead;\n        return {isValid, autocomplete};\n    }\n\n    renderHeader = () => {\n        return (\n            <div style={{height: 20, color: 'white'}}>\n                {this.world_driver.history.length}\n            </div>\n        )\n    }\n\n    render () {\n        return (\n            <div style={{height: '100vh', width: '100vw', display: 'flex', justifyContent: 'center', alignItems: 'center'}}>\n                <Terminal \n                    width=\"100%\"\n                    height=\"100%\"\n                    header={this.renderHeader}\n                    onCommandSubmit={this.handleCommandSubmit}\n                    onPromptChange={this.handlePromptChange} \n                 />\n            </div>\n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/Game.tsx","module.exports = ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactDOM\"\n// module id = 24\n// module chunks = 0","import {\n    array_fuck_contains,\n    Dangle,\n    Direction,\n    Edge,\n    EdgeOperation,\n    Face,\n    faces,\n    FuckDict,\n    Matrix2,\n    make_matrix2,\n    Partition,\n    Point2,\n } from './datatypes';\n\n// import {is, List, Map, Set} from 'immutable';\n\nlet face_vertices = new Map<Face, Matrix2>([\n    [Face.t, make_matrix2([\n        [0,  1,  2 ],\n        [9,  25, 15],\n        [16, 24, 22]])],\n    [Face.b, make_matrix2([\n        [20, 19, 18],\n        [13, 12, 11],\n        [8,  7,  6 ]])],\n    [Face.n, make_matrix2([\n        [2,  1,  0 ],\n        [5,  4,  3 ],\n        [8,  7,  6 ]])],\n    [Face.e, make_matrix2([\n        [22, 15, 2 ],\n        [21, 14, 5 ],\n        [20, 13, 8 ]])],\n    [Face.s, make_matrix2([\n        [16, 24, 22],\n        [17, 23, 21],\n        [18, 19, 20]])],\n    [Face.w, make_matrix2([\n        [0,  9,  16],\n        [3,  10, 17],\n        [6,  11, 18]])]\n]);\n\nlet face_quadrants = new Map<Face, Matrix2>([\n    [Face.t, make_matrix2([\n        [0,  1 ],\n        [2,  3 ]])],\n    [Face.b, make_matrix2([\n        [4,  5 ],\n        [6,  7 ]])],\n    [Face.n, make_matrix2([\n        [8,  9 ],\n        [10, 11]])],\n    [Face.e, make_matrix2([\n        [12, 13],\n        [14, 15]])],\n    [Face.s, make_matrix2([\n        [16, 17],\n        [18, 19]])],\n    [Face.w, make_matrix2([\n        [20, 21],\n        [22, 23]])],\n]);\n\nfunction build_edge_quadrant_mappings(): [Map<number, Edge[]>, FuckDict<Edge, number[]>] {\n    let quadrant_2_edges = new Map<number, Edge[]>();\n    let edge_2_quadrants = new FuckDict<Edge, number[]>();\n\n    for (let f of faces){\n        let vs = face_vertices.get(f);\n        let qs = face_quadrants.get(f);\n        for (let [x, y] of [[0,0], [1,0], [0,1], [1,1]]){\n            let q_edges = get_quadrant_edges(vs, x, y);\n            quadrant_2_edges = quadrant_2_edges.set(qs.get(x, y), q_edges);\n            q_edges.forEach(function (qe) {\n                let q = qs.get(x, y);\n                if (edge_2_quadrants.has_key(qe)) {\n                    edge_2_quadrants.get(qe).push(q);\n                } else {\n                    edge_2_quadrants.set(qe, [q]);\n                }\n            });\n        }\n    }\n\n    return [quadrant_2_edges, edge_2_quadrants];\n}\n\nfunction get_quadrant_edges(m: Matrix2, x: number, y: number): Edge[] {\n    let offsets = [\n        [0,0,0,1],\n        [0,0,1,0],\n        [1,1,0,1],\n        [1,1,1,0]\n    ];\n    let edges: Edge[] = [];\n    for (let [x1, y1, x2, y2] of offsets){\n        let e1 = m.get(x+x1, y+y1);\n        let e2 = m.get(x+x2, y+y2);\n        if (e2 < e1){\n            edges.push(new Edge(e2, e1));\n        } else {\n            edges.push(new Edge(e1, e2));\n        }\n    }\n    return edges;\n}\n\nexport let [quadrant_2_edges, edge_2_quadrants] = build_edge_quadrant_mappings();\n\nfunction get_quadrant_partition(quadrant: number, cut_edges: Edge[]): Partition {\n    let current_partition = new FuckDict<number, undefined>([[quadrant, undefined]]);\n\n    let horizon: Edge[] = quadrant_2_edges.get(quadrant).slice();\n\n    while (horizon.length > 0){\n        let e = horizon.shift();\n        if (array_fuck_contains(cut_edges, e)){\n            continue;\n        }\n        let next_qs = edge_2_quadrants.get(e);\n        let new_qs = next_qs.filter((q) => !current_partition.has_key(q));\n        if (new_qs.length > 0) {\n            new_qs.forEach(function (q){\n                horizon.push(...quadrant_2_edges.get(q));\n                current_partition.set(q, undefined);\n            });\n        }\n    }\n    return current_partition;\n}\n\nfunction range(x: number){\n    let arr: number[] = [];\n    for (let i = 0; i < x; i++){\n         arr.push(i);\n    } \n    return arr;\n}\n\nfunction get_partitions(cut_edges: Edge[]){\n    let partitions: Partition[] = [];\n    let quadrants = range(24);\n    while (quadrants.length > 0){\n        let q = quadrants.shift();\n        let partition = get_quadrant_partition(q, cut_edges);\n        partitions.push(partition);\n        quadrants = quadrants.filter((q) => !partition.has_key(q));\n\n    }\n    return partitions;\n}\n\nexport class FaceMesh {\n    readonly vertices: Matrix2;\n    readonly quadrants: Matrix2;\n\n    constructor(vertices: Matrix2, quadrants: Matrix2){\n        this.vertices = vertices;\n        this.quadrants = quadrants;\n    }\n\n    rotate(degrees: number) {\n        return new FaceMesh(this.vertices.rotate(degrees), this.quadrants.rotate(degrees));\n    }\n}\n\ninterface BoxMeshParams {\n    dimensions?: [number, number, number],\n    face_meshes?: Map<Face, FaceMesh>,\n    cut_edges?: Edge[]\n}\n\nexport class BoxMesh{\n    readonly dimensions: [number, number, number];\n    readonly face_meshes: Map<Face, FaceMesh>;\n    readonly cut_edges: Edge[];\n\n    constructor({dimensions, face_meshes, cut_edges}: BoxMeshParams){\n        this.dimensions = dimensions;\n        \n        if (face_meshes === undefined) {\n            face_meshes = new Map<Face, FaceMesh>();\n            for (let f of faces){\n                face_meshes = face_meshes.set(f,\n                    new FaceMesh(face_vertices.get(f), face_quadrants.get(f)));\n            }\n        }\n        this.face_meshes = face_meshes;\n\n        if (cut_edges === undefined){\n            cut_edges = [];\n        }\n        this.cut_edges = cut_edges;\n    }\n\n    update({dimensions, face_meshes, cut_edges}: BoxMeshParams){\n        if (dimensions === undefined){\n            dimensions = this.dimensions;\n        }\n\n        if (face_meshes === undefined){\n            face_meshes = this.face_meshes;\n        }\n\n        if (cut_edges === undefined){\n            cut_edges = this.cut_edges;\n        }\n        return new BoxMesh({dimensions, face_meshes, cut_edges});\n    }\n\n    cut(face: Face, start: Point2, end: Point2){\n        return this.cut_or_tape(EdgeOperation.cut, face, start, end);\n    }\n\n    tape(face: Face, start: Point2, end: Point2){\n        return this.cut_or_tape(EdgeOperation.tape, face, start, end);\n    }\n\n    cut_or_tape(operation: EdgeOperation, face: Face, start: Point2, end: Point2): BoxMesh {\n        let [x1, y1] = start;\n        let [x2, y2] = end;\n\n        if (Math.abs(x2 - x1) + Math.abs(y2 - y1) != 1){\n            throw `start and end points of cut/tape are not adjacent: ${start} and ${end}`;\n        }\n\n        let f = this.face_meshes.get(face).vertices;\n        let fs = f.get(x1, y1);\n        let fe = f.get(x2, y2);\n\n        let new_edge = new Edge(fs, fe);\n\n        let new_cut_edges = this.cut_edges.slice();\n        if (operation == EdgeOperation.cut && !array_fuck_contains(new_cut_edges, new_edge)) {\n            new_cut_edges.push(new_edge);\n        }\n\n        if (operation == EdgeOperation.tape && array_fuck_contains(new_cut_edges, new_edge)) {\n            new_cut_edges.splice(new_cut_edges.indexOf(new_edge), 1);\n        }\n\n        return this.update({cut_edges: new_cut_edges});\n    }\n\n    get_rends() {\n        return get_partitions(this.cut_edges);\n    }\n\n    get_free_rends() {\n        return this.get_rends().filter(x => !this.is_partition_fixed(x));\n    }\n\n    is_partition_fixed(partition: Partition) {\n        let face_membership = this.get_partition_face_membership(partition);\n        return face_membership.get(Face.b) > 0;\n    }\n\n    get_partition_face_membership(partition: Partition): Map<Face, number> {\n        let face_membership = new Map<Face, number>();\n        for (let f of faces) {\n            let total = 0;\n            let quadrants = this.face_meshes.get(f).quadrants;\n            for (let q of partition.keys_array()){\n                if (quadrants.contains(q)){\n                    total += 1;\n                }\n            }\n            face_membership.set(f, total);\n        }\n        return face_membership;\n    }\n\n    get_quadrant_face(quadrant: number){\n        for (let f of faces){\n            if (this.face_meshes.get(f).quadrants.contains(quadrant)) {\n                return f;\n            }\n        }\n    }\n\n    get_dangles() {\n        let rends = this.get_rends();\n        let fixed_rends = rends.filter(x => this.is_partition_fixed(x));\n\n        let dangles: Dangle[] = [];\n        let inner_this = this;\n\n        this.get_box_edges().forEach(function ([e1, e2]) {\n            let e_2_q_2_f = new FuckDict<Edge, FuckDict<number, Face>>();\n            for (let e of [e1, e2]){ //initialize e_2_q_2_f\n                let inner_map = new FuckDict<number, Face>();\n                edge_2_quadrants.get(e).forEach(function (q) {\n                    inner_map.set(q, inner_this.get_quadrant_face(q));\n                });\n                e_2_q_2_f.set(e, inner_map);\n            }\n\n            let edge_dangles: Dangle[] = [];\n\n            for (let es of [[e1, e2], [e1], [e2]]) {\n\n                let new_cut_edges = inner_this.cut_edges.slice();\n                new_cut_edges.push(...es);\n\n                let new_partitions = get_partitions(new_cut_edges);\n\n                if (new_partitions.length != rends.length) {\n\n                    new_partitions.forEach(function (np) {\n                        if (array_fuck_contains(rends, np)){\n                            return;\n                        }\n\n                        if (inner_this.is_partition_fixed(np)) {\n                            return;\n                        }\n\n                        let any_intersections = false;\n                        fixed_rends.forEach(function (fixed_rend) {\n                            if (np.keys_intersect(fixed_rend).length > 0){\n                                any_intersections = true;\n                            }\n                        });\n                        if (!any_intersections) {\n                            return;\n                        }\n\n                        let any_dangle_matches = false;\n                        edge_dangles.forEach(function (ed) {\n                            if (np.keys_equal(ed.partition)){\n                                any_dangle_matches = true;\n                                return;\n                            }\n                        });\n                        if (any_dangle_matches){\n                            return;\n                        }\n\n                        let q_2_fs: FuckDict<number, Face>[] = [];\n                        for (let e of es) {\n                            q_2_fs.push(e_2_q_2_f.get(e));\n                        }\n\n                        let fixed_fs: Face[] = [];\n                        let dangle_fs: Face[] = [];\n\n                        q_2_fs.forEach(function (q_2_f) {\n                            q_2_f.entries_array().forEach(function ([q, f]) {\n                                if (np.has_key(q)) {\n                                    dangle_fs.push(f);\n                                } else {\n                                    fixed_fs.push(f);\n                                }\n                            });\n                        });\n\n                        if (new Set(fixed_fs).size != 1 || new Set(dangle_fs).size != 1) {\n                            return;\n                        }\n\n                        edge_dangles.push(new Dangle(\n                            np, es, fixed_fs[0], dangle_fs[0]));\n                    });\n                }\n            }\n            dangles.push(...edge_dangles);\n        });\n        dangles = dangles.sort((x, y) => x.partition.size - y.partition.size);\n\n        let final_dangles: Dangle[] = [];\n\n        for (let i = 0; i < dangles.length; i++) {\n            let p = dangles[i].partition;\n\n            let any_supersets = false;\n            dangles.slice(i+1).forEach(function (d) {\n                if (p.keys_subset(d.partition)) {\n                    any_supersets = true;\n                }\n            })\n            if (!any_supersets) {\n                final_dangles.push(dangles[i]);\n            }\n        }\n\n        return final_dangles;\n    }\n\n    get_box_edges(): [Edge, Edge][] {\n        let edges: [Edge, Edge][] = [];\n\n        let t_b_edge_coords: [number, number][][] = [\n            [[0,0], [0,1], [0,2]],\n            [[0,0], [1,0], [2,0]],\n            [[2,0], [2,1], [2,2]],\n            [[0,2], [1,2], [2,2]]\n        ];\n\n        for (let f of [Face.t, Face.b]) {\n            let m = this.face_meshes.get(f).vertices;\n\n            for (let [[p1x, p1y], [p2x, p2y], [p3x, p3y]] of t_b_edge_coords) {\n                let v1 = m.get(p1x, p1y);\n                let v2 = m.get(p2x, p2y);\n                let v3 = m.get(p3x, p3y);\n\n                let e1 = new Edge(v1, v2);\n\n                let e2 = new Edge(v2, v3);\n\n                edges.push([e1, e2]);\n            }\n        }\n\n        for (let f of [Face.n, Face.e, Face.s, Face.w]) {\n            let m = this.face_meshes.get(f).vertices;\n\n            let v1 = m.get(0,0);\n            let v2 = m.get(0,1);\n            let v3 = m.get(0,2);\n\n            let e1 = new Edge(v1, v2);\n\n            let e2 = new Edge(v2, v3);\n\n            edges.push([e1, e2]);\n\n        }\n        return edges;\n    }    \n\n    rotate_y(degrees: number) {\n        //validate degrees somehow\n\n        if (degrees == 0 || degrees == 360) {\n            return this;\n        }\n\n        let new_faces = rotate_y_faces(this.face_meshes, degrees);\n    \n        if (degrees = 180) {\n            return this.update({face_meshes: new_faces});\n        } else {\n            let [x, y, z] = this.dimensions;\n            return this.update({dimensions: [z, y, x], face_meshes: new_faces});\n        }\n    }\n\n    roll(direction: Direction){\n        let [x, y, z] = this.dimensions;\n        let new_x, new_y, new_z;\n        if (direction == Direction.n || direction == Direction.s) {\n            [new_x, new_y, new_z] = [x, y, z];\n        } else {\n            [new_x, new_y, new_z] = [y, x, z];\n        }\n\n        let new_faces = roll_faces(this.face_meshes, direction);\n\n        return this.update({dimensions: [new_x, new_y, new_z], face_meshes: new_faces});\n    }\n\n    description(){\n        let face_descr = new Map<Face, string>([\n            [Face.t, 'top'],\n            [Face.b, 'bottom'],\n            [Face.n, 'back'],\n            [Face.e, 'right'],\n            [Face.s, 'front'],\n            [Face.w, 'left']\n        ]);\n\n        let [x, y, z] = this.dimensions;\n\n        let result = `The box's dimensions measure ${x} by ${y} by ${z}`;\n\n        let rends = this.get_free_rends();\n        let inner_this = this;\n\n        rends.forEach(function (fr) {\n            let face_membership = inner_this.get_partition_face_membership(fr);\n            let faces_present: Face[] =[];\n            for (let f of faces){\n                if (face_membership.get(f) > 0) {\n                    faces_present.push(f);\n                }\n            }\n\n            let faces_text: string;\n            if (faces_present.length == 1) {\n                faces_text = face_descr.get(faces_present[0]) + ' face';\n            } else {\n                faces_text = faces_present.slice(0, -1).map(f => face_descr.get(f)).join(', ');\n                faces_text += ` and ${face_descr.get(faces_present[faces_present.length-1])} faces`;\n            }\n\n            result += `\\nA portion of the box's ${faces_text} has been rended free; it lies on the floor off to the side.`;\n        });\n\n        let dangles = this.get_dangles();\n\n        dangles.forEach(function (d) {\n            let face_membership = inner_this.get_partition_face_membership(d.partition);\n            let faces_present: Face[] = [];\n            for (let f of faces){\n                if (face_membership.get(f) > 0) {\n                    faces_present.push(f);\n                }\n            }\n\n            let faces_text: string;\n            if (faces_present.length == 1) {\n                faces_text = face_descr.get(faces_present[0]) + ' face';\n            } else {\n                faces_text = faces_present.slice(0, -1).map(f => face_descr.get(f)).join(', ');\n                faces_text += ` and ${face_descr.get(faces_present[faces_present.length-1])} faces`;\n            }\n\n            result += `\\nA portion of the box's ${faces_text} sits on a free hinge; from the ${face_descr.get(d.free_face)} face it can be swung to the ${face_descr.get(d.fixed_face)}.`;\n        });\n\n        return result;\n    }\n}\n\nfunction rotate_y_faces(fs: Map<Face, FaceMesh>, degrees: number) {\n    if (degrees == 0 || degrees == 360) {\n        return fs;\n    }\n\n    let shift = degrees / 90;\n    let face_cycle = [Face.n, Face.w, Face.s, Face.e, Face.n, Face.w, Face.s, Face.e];\n\n    let new_faces = new Map<Face, FaceMesh>();\n\n    for (let f of [Face.n, Face.e, Face.s, Face.w]){\n        let ind = face_cycle.indexOf(f);\n        new_faces.set(f, fs.get(face_cycle[ind + shift]));\n    }\n\n    for (let f of [Face.t, Face.b]){\n        new_faces.set(f, fs.get(f).rotate(degrees));\n    }\n\n    return new_faces;\n}\n\nfunction roll_faces(fs: Map<Face, FaceMesh>, direction: Direction){\n    let new_faces = new Map<Face, FaceMesh>()\n\n    if (direction == Direction.n) {\n        new_faces.set(\n            Face.n, fs.get(Face.t).rotate(180)).set(\n            Face.t, fs.get(Face.s)).set(\n            Face.s, fs.get(Face.b)).set(\n            Face.b, fs.get(Face.n).rotate(180)).set(\n            Face.e, fs.get(Face.e).rotate(90)).set(\n            Face.w, fs.get(Face.w).rotate(270));\n    } else if (direction == Direction.s) {\n        new_faces.set(\n            Face.s, fs.get(Face.t)).set(\n            Face.t, fs.get(Face.n).rotate(180)).set(\n            Face.n, fs.get(Face.b)).set(\n            Face.b, fs.get(Face.s).rotate(180)).set(\n            Face.e, fs.get(Face.e).rotate(270)).set(\n            Face.w, fs.get(Face.w).rotate(90));\n    } else if (direction == Direction.e) {\n        new_faces.set(\n            Face.e, fs.get(Face.t).rotate(90)).set(\n            Face.t, fs.get(Face.w).rotate(90)).set(\n            Face.w, fs.get(Face.b).rotate(270)).set(\n            Face.b, fs.get(Face.e).rotate(270)).set(\n            Face.n, fs.get(Face.n).rotate(270)).set(\n            Face.s, fs.get(Face.s).rotate(90));\n    } else if (direction == Direction.w) {\n        new_faces.set(\n            Face.w, fs.get(Face.t).rotate(270)).set(\n            Face.t, fs.get(Face.e).rotate(270)).set(\n            Face.e, fs.get(Face.b).rotate(90)).set(\n            Face.b, fs.get(Face.w).rotate(90)).set(\n            Face.n, fs.get(Face.n).rotate(90)).set(\n            Face.s, fs.get(Face.s).rotate(270));\n    }\n\n    return new_faces;\n}\n\n\nexport function test(){\n    let bm = new BoxMesh({dimensions: [2,3,4]});\n\n    let bm2 = bm.cut(Face.t, [0,0], [1,0]).cut(Face.t, [1,0], [1,1]).cut(Face.t, [1,1], [0,1]).cut(Face.t, [0,1], [0,0]);\n    let bm3 = bm2.cut(Face.t, [0,1], [0,2]).cut(Face.s, [0, 0], [0, 1]).cut(Face.s, [0,1], [1,1]).cut(Face.s, [1,1], [1,0]).cut(Face.t, [1, 2], [1,1])\n\n    let bm4 = bm.cut(Face.t, [0,0], [1,0]).roll(Direction.s).cut(Face.t, [0,2], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,2]);\n\n    let bm5 = bm.cut(Face.n, [0,0], [1,0]).cut(Face.n, [1,0], [2,0]).cut(Face.n, [2,0], [2,1]).cut(Face.n, [2,1], [1,1]).cut(Face.n, [1,1], [0,1]).cut(Face.n, [1,1], [1, 0]).cut(Face.n, [0,1], [0,0]);\n\n    let bm6 = bm.cut(Face.t, [0,0], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,0]);\n    let bm7 = bm2.cut(Face.t, [0,1], [0,2]).cut(Face.t, [1,1], [1,2]);\n\n    let bm8 = (bm.cut(Face.t, [0,0], [1,0]).cut(Face.t, [1,0], [2,0]).cut(Face.t, [2,0], [2,1]).cut(Face.t, [2,1], [2,2])\n             .cut(Face.t, [0,2], [0,1]).cut(Face.t, [0,1], [1,1]).cut(Face.t, [1,1], [1,2])\n             .cut(Face.s, [1,0], [1,1]).cut(Face.s, [1,1], [0,1])\n             .cut(Face.w, [0,0], [0,1]).cut(Face.w, [0,1], [1,1]).cut(Face.w, [1,1], [2,1]));\n\n    let bms: BoxMesh[] = [bm, bm2, bm3, bm4, bm5, bm6, bm7, bm8];\n    for (let i = 0; i < bms.length; i++) {\n        let b = bms[i];\n\n        console.log('Box #', i+1);\n        console.log();\n        console.log(b.description());\n        console.log();\n        console.log();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/box_geometry.ts","import * as React from \"react\";\nimport * as ReactDom from \"react-dom\";\n\nimport Game from \"../components/Game\";\n\nReactDom.render(<Game />, document.getElementById('game'));\n\n// import {List, Map} from 'immutable';\n// import {CityKey, Codex, Pinecone} from './items';\n// import {Item} from './datatypes';\n// import {Box, SingleBoxWorld} from './world';\n// import {MatchValidity, DisplayElt, DisplayEltType, WorldDriver, CommandParser, CommandResult} from './commands';\n// import {last, tokenize} from './text_tools';\n\n\n// declare var jQuery: any;\n\n// // previous command handler func (first arg to .terminal() )\n// // function(command: string) {\n// //         if (command !== '') {\n// //             try {\n// //                 //hold on to parser object\n// //                 //highlight matched bits of command\n// //                 //offer autocomplete solutions\n// //                 let result = world_driver.run(command);\n// //                 if (result !== undefined) {\n// //                     this.echo(new String(result));\n// //                 }\n// //             } catch(e) {\n// //                 this.error(new String(e));\n// //             }\n// //         } else {\n// //            this.echo('');\n// //         }\n// //     }\n\n// export let elt_color = Map<DisplayEltType, string>().asMutable();\n// elt_color.set(DisplayEltType.keyword, 'white');\n// elt_color.set(DisplayEltType.option, 'blue');\n// elt_color.set(DisplayEltType.filler, 'gray');\n// elt_color.set(DisplayEltType.partial, 'gray');\n// elt_color.set(DisplayEltType.error, 'red');\n\n// setTimeout(function () {\n//     jQuery(function($: any) {\n//         let contents = List<Item>([new Codex(), new Pinecone(), new CityKey()]);\n//         let world = new SingleBoxWorld({box: new Box({contents: contents})});\n//         let world_driver = new WorldDriver(world);\n//         let current_result = world_driver.current_state;\n//         var ul: any;\n//         function format_command(command: string) {\n//             // TODO: don't apply to non-command strings\n//             if ($.terminal.have_formatting(command)){\n//                 return command;\n//             }\n//             command = command.replace(/(\\s|&nbsp;)/g, ' ');\n//             let result = world_driver.run(command, false);\n//             let pos = 0;\n//             let parser = result.parser;\n//             let valid_fmt = '';\n//             if (parser.validity === MatchValidity.valid){\n//                 valid_fmt = 'b';\n//             }\n\n//             let formatted = '';\n//             for (let elt of parser.match) {\n//                 if (elt.match.length > 0){\n//                     formatted += `[[${valid_fmt};${elt_color.get(elt.display)};]${elt.match}]`;\n//                     pos += elt.match.length;\n//                 }\n//                 while (true){\n//                     //eat the spaces\n//                     let c = command.charAt(pos);\n//                     if (c.match(' ') !== null){\n//                         formatted += c;\n//                         pos += 1;\n//                     } else {\n//                         break;\n//                     }\n//                 }\n//             }\n//             return formatted;\n//         }\n//         // $.terminal.defaults.formatters.push(format_command)\n\n//         function format_command_with_prompt(command:string){\n//             let naked_command = command.slice(2);\n//             return '> ' + format_command(naked_command);\n//         }\n\n//         function update_typeahead(terminal: any) {\n//             // TODO: distinguish enabled & disabled typeahead\n//             let command = terminal.get_command();\n//             ul.empty();\n//             let result = world_driver.run(command, false);\n//             let parser = result.parser;\n\n//             if (parser.validity === MatchValidity.partial){\n//                 let m = last(parser.match);\n//                 ul.hide();\n//                 let com_end = last(command);\n\n//                 if (m.match.length === 0 && com_end !== undefined && com_end.match(/(\\s|&nbsp;)/) === null){\n//                     return;\n//                 }\n//                 for (let t of m.typeahead){\n//                     $('<li>' + t + '</li>').appendTo(ul);\n//                 }\n//                 ul.show();\n//             }\n//         }\n\n//         function exec_command(command: string, terminal: any) {\n//             let result = world_driver.run(command, true);\n//             let parser = result.parser;\n            \n//             $.terminal.defaults.formatters.pop()\n//             $.terminal.defaults.formatters.push(format_command_with_prompt);\n//             terminal.echo('> ' + command);\n//             $.terminal.defaults.formatters.pop();\n\n//             if (result.message !== undefined){\n//                 terminal.echo(result.message);\n//                 terminal.echo(' ');\n//             }\n//             $.terminal.defaults.formatters.push(format_command);\n//         }\n\n//         function handle_keydown(e: any, terminal: any) {\n//             setTimeout(function () {\n//                 let command = terminal.get_command();\n                \n//             })\n//         }\n\n//         $('#term').terminal(exec_command, {\n//             greetings: '[[;white;]Demo Parser Interface for The Wreck]',\n//             name: 'wreck_demo',\n//             height: 500,\n//             //prompt: '> ',\n//             onInit: function(term: any) {\n//                 var wrapper = term.cmd().find('.cursor').wrap('<span/>').parent()\n//                     .addClass('cmd-wrapper');\n//                 ul = $('<ul></ul>').appendTo(wrapper);\n//                 ul.on('click', 'li', function() {\n//                     let txt = $(this).text();\n//                     let cur_word = term.before_cursor(true);\n//                     term.insert(txt.replace(cur_word, '') + ' ');\n//                     ul.empty();\n//                     setTimeout(function () {update_typeahead(term);}, 0);\n//                 });\n//                 setTimeout(function () {update_typeahead(term);}, 0);\n//             },\n//             keydown: function(e: any, terminal: any) {\n//                 // setTimeout because terminal is adding characters in keypress\n//                 // we use keydown because we need to prevent default action for\n//                 // tab and still execute custom code\n//                 setTimeout(function() {\n//                     update_typeahead(terminal);\n//                 }, 0);\n//             },\n//             onBlur: function() {\n//                 return false;\n//             },\n//             memory: true,\n//             echoCommand: false,\n//             wordAutocomplete: true\n//         });\n//     });\n// }, 0);\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/main.tsx","import {BoxMesh, edge_2_quadrants, FaceMesh} from './box_geometry';\n\nimport {\n    array_fuck_contains,\n    CardboardEdge,\n    CommandError,\n    Counter,\n    counter_order,\n    counter_update,\n    Dangle,\n    Direction,\n    directions,\n    direction_2_face,\n    Edge,\n    EdgeDirection,\n    EdgeOperation,\n    EdgeState,\n    Face,\n    FuckDict,\n    Item,\n    Partition,\n    Point2,\n    RelativePosition,\n    RendOperation,\n    RendState,\n    SpillageLevel,\n    TapeEdge,\n    Weight,\n    WorldUpdateError\n} from './datatypes';\n\nimport {\n    DangleOpWord, dangle_op_word_tokens,\n    EdgeDirWord, edge_dir_word_tokens,\n    EdgeOpWord, edge_op_word_tokens,\n    FaceWord, face_word_tokens,\n    PositionWord, position_word_tokens,\n    RendOpWord, rend_op_word_tokens,\n    RollDirWord, roll_dir_word_tokens,\n    RotateYDirWord, rotate_y_word_tokens,\n    Token,\n    word_2_degrees,\n    word_2_dir,\n    word_2_edge_dir,\n    word_2_edge_op,\n    word_2_face,\n    word_2_relative_position,\n    word_2_rend_op,\n    word_2_dangle_op,\n    CommandResult,\n    CommandParser,\n    Command,\n    DisplayElt,\n    DisplayEltType,\n    MatchValidity,\n    WorldType,\n    WorldDriver\n} from './commands'\n\nimport {WorldUpdateEffects, with_world_update, world_update} from './world_update_effects';\n\nimport {CityKey, Codex, Pinecone} from './items';\n\nimport {capitalize, face_message, uncapitalize, tokens_equal, tokenize, untokenize} from './text_tools';\n\n//import {List, Map, Set} from 'immutable';\n\nexport interface BoxParams {\n    box_mesh?: BoxMesh,\n    rend_state?: FuckDict<Partition, RendState>,\n    dangle_state?: FuckDict<Dangle, RendState>,\n    edge_state?: FuckDict<Edge, EdgeState>,\n    contents?: Item[]\n}\n\nexport class Box {\n    readonly box_mesh: BoxMesh;\n    readonly rend_state: FuckDict<Partition, RendState>;\n    readonly dangle_state: FuckDict<Dangle, RendState>;\n    readonly edge_state: FuckDict<Edge, EdgeState>;\n    readonly contents: Item[];\n\n    constructor({box_mesh, rend_state, dangle_state, edge_state, contents}: BoxParams){\n        if (box_mesh === undefined) {\n            box_mesh = new BoxMesh({dimensions: [2, 2, 2]});\n        }\n        this.box_mesh = box_mesh;\n\n        if (rend_state === undefined) {\n            rend_state = this.default_rend_state(this.box_mesh);\n        }\n        this.rend_state = rend_state;\n\n        if (dangle_state === undefined) {\n            dangle_state = this.default_dangle_state(this.box_mesh);\n        }\n        this.dangle_state = dangle_state;\n\n        if (edge_state === undefined) {\n            edge_state = new FuckDict<Edge, EdgeState>();\n        }\n        this.edge_state = edge_state;\n\n        if (contents === undefined) {\n            contents = [];\n        }\n        this.contents = contents;\n    }\n\n    update({box_mesh, rend_state, dangle_state, edge_state, contents}: BoxParams){\n        if (box_mesh === undefined) {\n            box_mesh = this.box_mesh;\n        }\n\n        if (rend_state === undefined) {\n            rend_state = this.rend_state;\n        }\n\n        if (dangle_state === undefined) {\n            dangle_state = this.dangle_state;\n        }\n\n        if (edge_state === undefined) {\n            edge_state = this.edge_state;\n        }\n        \n        if (contents === undefined) {\n            contents = this.contents;\n        }\n\n        return new Box({box_mesh, rend_state, dangle_state, edge_state, contents});\n    }\n\n    default_rend_state(box_mesh: BoxMesh) {\n        let rends = box_mesh.get_free_rends();\n        let result = new FuckDict<Partition, RendState>();\n        rends.forEach(function (r) {\n            result.set(r, RendState.closed);\n        });\n        return result;\n    }\n\n    default_dangle_state(box_mesh: BoxMesh) {\n        let dangles = box_mesh.get_dangles();\n        let result = new FuckDict<Dangle, RendState>();\n        dangles.forEach(function (d) {\n            result.set(d, RendState.closed);\n        });\n        return result;\n    }\n\n    open_or_close_rend(operation: RendOperation, rend: Partition) {\n        let box_rends = this.box_mesh.get_rends();\n\n        if (!array_fuck_contains(box_rends, rend)){\n            throw new CommandError('rend does not exist on the box');\n        }\n\n        if (this.box_mesh.is_partition_fixed(rend)) {\n            throw new WorldUpdateError('cannot open or close a fixed rend');\n        }\n\n        let new_rend_state = this.rend_state.copy();\n        let intended_new_state = operation == RendOperation.close ? RendState.closed : RendState.open;\n        if (intended_new_state == new_rend_state.get(rend)) {\n            throw new WorldUpdateError(`cannot ${RendOperation[operation]} a rend that is already ${RendState[intended_new_state]}`);\n        }\n\n        new_rend_state.set(rend, intended_new_state);\n\n        let new_box = this.update({rend_state: new_rend_state});\n\n        if (new_box.is_collapsed()) {\n            let effects = world_update.effects;\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items.push(...new_box.contents);\n            let new_contents: Item[] = [];\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    open_or_close_dangle(operation: RendOperation, dangle: Dangle) {\n        if (this.box_mesh.is_partition_fixed(dangle.partition)) {\n            throw new WorldUpdateError('cannot open or close a fixed dangle');\n        }\n\n        let box_dangles = this.box_mesh.get_dangles();\n\n        if (box_dangles.some((d) => dangle == d)){\n            throw new CommandError('dangle does not exist on the box');\n        }\n\n        let intended_new_state = operation == RendOperation.close ? RendState.closed : RendState.open;\n        if (this.dangle_state.get(dangle) == intended_new_state) {\n            throw new WorldUpdateError(`cannot ${RendOperation[operation]} a dangle that is already ${RendState[intended_new_state]}`);\n        }\n\n        let new_dangle_state = this.dangle_state.copy();\n        new_dangle_state.set(dangle, intended_new_state);\n\n        let new_box = this.update({dangle_state: new_dangle_state});\n        if (new_box.is_collapsed()) {\n            let effects = world_update.effects;\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items.push(...new_box.contents);\n            let new_contents: Item[] = [];\n            new_box = new_box.update({contents: new_contents});\n        }\n        return new_box;\n    }\n\n    rotate_y(degrees: number) {\n        let new_box_mesh = this.box_mesh.rotate_y(degrees);\n        return this.update({box_mesh: new_box_mesh});\n    }\n\n    roll(direction: Direction) {\n        if (this.dangle_state.values_array().some((state) => state == RendState.open)) {\n            throw new WorldUpdateError('cannot roll a box with open dangles');\n        }\n\n        let new_box_mesh = this.box_mesh.roll(direction);\n        let dir_face: Face = direction_2_face.get(direction);\n\n        let new_contents = this.contents.slice();\n        let rend_state_updates = this.rend_state.copy();\n        let dangle_state_updates = this.dangle_state.copy();\n\n        let inner_this = this;\n        let effects = world_update.effects;\n\n        if (new_contents.length > 0){\n            let dir_2_opposite = new Map<Face, Face>([\n                [Face.n, Face.s],\n                [Face.s, Face.n],\n                [Face.e, Face.w],\n                [Face.w, Face.e]]);\n \n            let heavy_spill_faces: [Face, Face][] = [\n                [dir_face, Face.b],\n                [Face.t, dir_face],\n                [Face.b, dir_2_opposite.get(dir_face)]];\n            let light_spill_faces = ([Face.n, Face.s, Face.e, Face.w]\n                .filter((d) => d !== dir_face && d !== dir_2_opposite.get(dir_face))\n            );\n                \n            this.rend_state.entries_array().forEach(function ([r, state]) {\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                        \n                for (let [test_face, spill_face] of heavy_spill_faces) {\n                    if (face_membership.get(test_face) > 0) {\n                        effects.spill_faces.push(spill_face);\n                        effects.spillage_level = SpillageLevel.heavy;\n                        effects.spilled_items.push(...new_contents);\n                        new_contents = [];\n\n                        if (state == RendState.closed) {\n                            effects.spilled_rends == effects.spilled_rends.set(r, undefined);\n                            rend_state_updates.set(r, RendState.open);\n                        }\n\n                    }\n                }\n\n                for (let spill_face of light_spill_faces) {\n                    if (face_membership.get(spill_face) > 0) {\n                        effects.spill_faces.push(spill_face);\n                        if (effects.spillage_level < SpillageLevel.light) {\n                            effects.spillage_level = SpillageLevel.light;\n                        }\n                        if (new_contents.length > 0) {\n                            effects.spilled_items.push(new_contents.shift());\n                        }\n                    }\n                }\n            });\n\n            this.box_mesh.get_dangles().forEach(function (d) {\n                let spillage_level = SpillageLevel.none;\n                let spill_face: Face;\n                if (d.free_face == Face.t) {\n                    spillage_level = SpillageLevel.heavy;\n                    spill_face = dir_face;\n                } else if (d.free_face == dir_face) {\n                    spillage_level = SpillageLevel.heavy;\n                    spill_face = Face.b;\n                } else if (light_spill_faces.indexOf(d.free_face) !== -1) {\n                    spillage_level = SpillageLevel.light;\n                    spill_face = d.free_face;\n                }\n\n                if (spillage_level !== SpillageLevel.none) {\n                    if (spillage_level > effects.spillage_level) {\n                        effects.spillage_level = spillage_level;\n                    }\n                    effects.spill_faces.push(spill_face);\n\n                    if (spillage_level == SpillageLevel.light) {\n                        if (new_contents.length > 0) {\n                            effects.spilled_items.push(new_contents.shift());\n                        }\n                    } else if (spillage_level == SpillageLevel.heavy) {\n                        effects.spilled_items.push(...new_contents);\n                        new_contents = [];\n                    }\n\n                    effects.spilled_dangles.set(d, undefined);\n                    dangle_state_updates.set(d, RendState.open);\n                }\n            });\n            \n            new_box_mesh.get_dangles().forEach(function (d) {\n                if (d.free_face == dir_2_opposite.get(dir_face)) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces.push(dir_2_opposite.get(dir_face));\n\n                    effects.spilled_items.push(...new_contents);\n                    new_contents = [];\n\n                    effects.spilled_dangles.set(d, undefined);\n                    dangle_state_updates.set(d, RendState.open);\n                }\n            });\n        }\n        let new_box = this.update({\n            box_mesh: new_box_mesh,\n            rend_state: rend_state_updates,\n            dangle_state: dangle_state_updates,\n            contents: new_contents\n        });\n\n        if (new_box.is_collapsed()) {\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items.push(...new_contents);\n            new_contents = [];\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    lift() {\n        let effects = world_update.effects;\n        let inner_this = this;\n\n        let new_contents = this.contents.slice();\n        let new_rend_state = this.rend_state.copy();\n        let new_dangle_state = this.dangle_state.copy();\n\n        if (new_contents.length > 0) {\n            let test_box_mesh = this.box_mesh.roll(Direction.s).roll(Direction.s);\n\n            test_box_mesh.get_free_rends().forEach(function (r) {\n                let face_membership = test_box_mesh.get_partition_face_membership(r);\n                let test_faces = [Face.b, Face.n, Face.s, Face.e, Face.w];\n                let count = test_faces.map((x) => face_membership.get(x)).reduce((x, y) => x + y);\n                if (face_membership.get(Face.t) > count) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces.push(Face.b);\n\n                    effects.spilled_items.push(...new_contents);\n                    new_contents = [];\n\n                    if (!new_rend_state.has_key(r) || new_rend_state.get(r) === RendState.closed) {\n                        effects.spilled_rends.set(r, undefined);\n                        new_rend_state.set(r, RendState.open);\n                    }\n                }\n            });\n\n            test_box_mesh.get_dangles().forEach(function (d) {\n                if (d.free_face == Face.t) {\n                    effects.spillage_level = SpillageLevel.heavy;\n                    effects.spill_faces.push(Face.b);\n\n                    effects.spilled_items.push(...new_contents);\n                    new_contents = [];\n\n                    effects.spilled_dangles.set(d, undefined);\n                    new_dangle_state.set(d, RendState.open);\n                }\n            });\n\n            this.rend_state.entries_array().forEach(function ([r, state]) {\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                let light_spill_faces = [Face.n, Face.s, Face.e, Face.w].filter((f) => face_membership.get(f) > 0);\n                if (light_spill_faces.length > 0) {\n                    if (effects.spillage_level < SpillageLevel.light) {\n                        effects.spillage_level = SpillageLevel.light;\n                    }\n                    effects.spill_faces.push(...light_spill_faces);\n\n                    if (new_contents.length > 0) {\n                        effects.spilled_items.push(new_contents.shift());\n                    }\n                    if (state == RendState.closed) {\n                        effects.spilled_rends.set(r, undefined);\n                        new_rend_state.set(r, RendState.open);\n                    }\n                }\n            });\n\n            this.dangle_state.entries_array().forEach(function ([d, state]) {\n                if ([Face.n, Face.s, Face.e, Face.w].indexOf(d.free_face) !== -1) {\n                    if (effects.spillage_level < SpillageLevel.light) {\n                        effects.spillage_level = SpillageLevel.light;\n                    }\n                    effects.spill_faces.push(d.free_face);\n\n                    if (new_contents.length > 0) {\n                        effects.spilled_items.push(new_contents.shift());\n                    }\n                }\n            });\n        }\n\n        let new_box = this.update({rend_state: new_rend_state, dangle_state: new_dangle_state, contents: new_contents});\n\n        if (new_box.is_collapsed()) {\n            effects.box_collapsed = true;\n            effects.collapse_spilled_items.push(...new_contents);\n            new_contents = [];\n            new_box = new_box.update({contents: new_contents});\n        }\n\n        return new_box;\n    }\n\n    cut(face: Face, start: Point2, end: Point2) {\n        return this.cut_or_tape(EdgeOperation.cut, face, start, end);\n    }\n\n    tape(face: Face, start: Point2, end: Point2) {\n        return this.cut_or_tape(EdgeOperation.tape, face, start, end);\n    }\n\n    cut_or_tape(operation: EdgeOperation, face: Face, start: Point2, end: Point2) {\n        let effects = world_update.effects;\n        let inner_this = this;\n\n        if (face !== Face.s && face !== Face.t) {\n            throw new WorldUpdateError('cannot cut or tape sides other than top or front');\n        }\n\n        let [x1, y1] = start;\n        let [x2, y2] = end;\n        let v1 = this.box_mesh.face_meshes.get(face).vertices.get(x1, y1);\n        let v2 = this.box_mesh.face_meshes.get(face).vertices.get(x2, y2);\n\n        let edge = new Edge(v1, v2);\n\n        let quadrants = edge_2_quadrants.get(edge);\n\n        this.rend_state.entries_array().forEach(function ([r, state]) {\n            if (state == RendState.open && quadrants.every(r.has_key)) {\n                throw new WorldUpdateError('cannot cut or tape on an open rend');\n            }\n        });\n\n        this.dangle_state.entries_array().forEach(function ([d, state]) {\n            if (state == RendState.open && quadrants.every(d.partition.has_key)) {\n                throw new WorldUpdateError('cannot cut or tape on an open dangle');\n            }\n        });\n\n        let new_box_mesh: BoxMesh;\n        if (operation == EdgeOperation.cut) {\n            new_box_mesh = this.box_mesh.cut(face, start, end);\n        } else {\n            new_box_mesh = this.box_mesh.tape(face, start, end);\n        }\n\n        let new_rend_state = this.default_rend_state(new_box_mesh);\n        this.rend_state.entries_array().forEach(function ([r, state]) {\n            if (new_rend_state.has_key(r)) {\n                new_rend_state.set(r, state);\n            } else {\n                effects.repaired_rends.push(r);\n            }\n        });\n\n        new_rend_state.entries_array().forEach(function ([new_r, state]) {\n            if (!inner_this.rend_state.has_key(new_r)) {\n                effects.new_rends.push(new_r);\n            }\n        });\n\n        let new_dangle_state = this.default_dangle_state(new_box_mesh);\n        this.dangle_state.entries_array().forEach(function ([d, state]) {\n            if (new_dangle_state.has_key(d)) {\n                new_dangle_state.set(d, state);\n            } else {\n                effects.repaired_dangles.push(d);\n            }\n        });\n\n        new_dangle_state.entries_array().forEach(function ([new_d, state]) {\n            if (!inner_this.dangle_state.has_key(new_d)) {\n                effects.new_dangles.push(new_d);\n            }\n        });\n\n        let new_edge_state = this.edge_state.copy();\n        \n        let new_state: EdgeState;\n        if (new_edge_state.has_key(edge)) {\n            new_state = new_edge_state.get(edge);\n        } else {\n            new_state = new EdgeState()\n        }\n\n        if (operation == EdgeOperation.cut) {   \n            new_edge_state.set(edge, new_state.cut());\n        } else {\n\n            new_edge_state.set(edge, new_state.apply_tape());\n        }\n\n        return this.update({box_mesh: new_box_mesh, rend_state: new_rend_state, dangle_state: new_dangle_state, edge_state: new_edge_state});\n    }\n\n    take_next_item() {\n        let effects = world_update.effects;\n\n        if (this.contents.length == 0) {\n            throw new WorldUpdateError('cannot take an item from an empty box');\n        }\n\n        if (!this.appears_open()) {\n            throw new WorldUpdateError('cannot take an item from a box with no visible openings');\n        }\n\n        let new_contents = this.contents.slice();\n        effects.taken_items.push(new_contents.shift());\n\n        return this.update({contents: new_contents});\n    }\n\n    next_item() {\n        if (this.contents.length == 0) {\n            return null;\n        }\n        return this.contents[0];\n    }\n\n    appears_open() {\n        if (this.rend_state.values_array().some((state) => state == RendState.open)) {\n            return true;\n        }\n        if (this.dangle_state.values_array().some((state) => state == RendState.open)) {\n            return true;\n        }\n        return false;\n    }\n\n    appears_empty() {\n        return this.appears_open() && this.contents.length == 0;\n    }\n\n    is_collapsed(){\n        let open_faces = new Map<Face, number>();\n        let inner_this = this;\n        \n        this.rend_state.entries_array().forEach(function ([r, state]) {\n            if (state == RendState.open){\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(r);\n                counter_update(open_faces, face_membership);\n            }\n        });\n\n        this.dangle_state.entries_array().forEach(function ([d, state]) {\n            if (state == RendState.open){\n                let face_membership = inner_this.box_mesh.get_partition_face_membership(d.partition);\n                counter_update(open_faces, face_membership);\n            }\n        });\n\n        let total_open_sides = 0;\n        open_faces.forEach(function (count, face) {\n            if (count > 0) {\n                total_open_sides += 1;\n            }\n        });\n\n        return total_open_sides >= 3;\n    }\n}\n\nexport interface SingleBoxWorldParams {\n    box?: Box,\n    taken_items?: Item[],\n    spilled_items?: Item[]\n}\n\nexport class SingleBoxWorld implements WorldType{\n    readonly box: Box;\n    readonly taken_items: Item[];\n    readonly spilled_items: Item[];\n\n    constructor({box, taken_items, spilled_items}: SingleBoxWorldParams) {\n        if (box === undefined) {\n            box = new Box({});\n        }\n        this.box = box;\n\n        if (taken_items === undefined) {\n            taken_items = [];\n        }\n        this.taken_items = taken_items;\n\n        if (spilled_items === undefined) {\n            spilled_items = [];\n        }\n        this.spilled_items = spilled_items;\n    }\n\n    update({box, taken_items, spilled_items}: SingleBoxWorldParams) {\n        if (box === undefined) {\n            box = this.box;\n        }\n\n        if (taken_items === undefined) {\n            taken_items = this.taken_items;\n        }\n\n        if (spilled_items === undefined) {\n            spilled_items = this.spilled_items;\n        }\n\n        return new SingleBoxWorld({box, taken_items, spilled_items});\n    }\n\n    get_command_map(): Map<string, Command<this>> {\n        let commands: Command<SingleBoxWorld>[] = [];\n        commands.push(rotate_y_box);\n        commands.push(roll_box);\n        commands.push(lift_box);\n        commands.push(cut_box);\n        commands.push(tape_box);\n        commands.push(open_dangle);\n        commands.push(close_dangle);\n        commands.push(remove_rend);\n        commands.push(replace_rend);\n        commands.push(take_item);\n\n        let command_map = new Map<string, Command<this>>();\n        let options: Token[][] = [];\n\n        for (let command of commands) {\n            options.push(command.command_name);\n            command_map.set(untokenize(command.command_name), <Command<this>>command);\n        }\n        \n        return command_map;\n    }\n\n    cut_message(new_box: Box, cut_edge_states: EdgeState[], effects: WorldUpdateEffects) {\n        let cut_message: string;\n        if (cut_edge_states[0].cardboard == CardboardEdge.intact) {\n            cut_message = 'You slide your blade along the cardboard';\n            if (cut_edge_states[0].tape == TapeEdge.taped) {\n                cut_message += ' and tape';\n            }\n            cut_message += '.';\n        } else {\n            if (cut_edge_states[0].tape == TapeEdge.taped) {\n                cut_message = 'You draw your blade easily along the line. It slits open the thin layer of tape covering the gap in the cardboard.';\n            } else {\n                cut_message = 'You slide your blade along the line, but nothing is there to resist it.';\n            }\n        }\n\n        if (cut_edge_states.length > 1) {\n            if (cut_edge_states[1].cardboard != cut_edge_states[0].cardboard) {\n                if (cut_edge_states[1].cardboard == CardboardEdge.intact) {\n                    cut_message += ' Halfway across, it catches on solid cardboard, and you pull it along the rest of the way.';\n                } else {\n                    if (cut_edge_states[1].tape == TapeEdge.taped) {\n                        cut_message += ' Halfway across, you reach a gap in the cardboard, and your blade slides easily along the thin layer of tape.';\n                    } else {\n                        cut_message += ' Halfway across, you reach a gap in the cardboard, and your blade is met with no further resistance.';\n                    }\n                }\n            }\n        }\n\n        let message = cut_message;\n        if (effects.new_rends.length > 0) {\n            let total_face_membership = new Map<Face, number>();\n            effects.new_rends.forEach(function (r) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(r);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let new_rends_message: string;\n            if (effects.new_rends.length == 1) {\n                new_rends_message = `A new section of cardboard comes free on the ${face_msg}.`;\n            } else {\n                new_rends_message = `${effects.new_rends.length} new sections of cardboard come free on the ${face_msg}.`;\n            }\n            message += '\\n' + new_rends_message;\n        }\n\n        if (effects.new_dangles.length > 0) {\n            let total_face_membership = new Map<Face, number>();\n            effects.new_dangles.forEach(function (d) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(d.partition);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let new_rends_message: string;\n            if (effects.new_dangles.length == 1) {\n                new_rends_message = `A new section of cardboard on the ${face_msg} can be swung freely on a hinge.`;\n            } else {\n                new_rends_message = `${effects.new_dangles.length} new sections of cardboard on the ${face_msg} can be swung freely on a hinge.`;\n            }\n            message += '\\n' + new_rends_message;\n        }\n        return message;\n    }\n\n    tape_message(new_box: Box, cut_edge_states: EdgeState[], effects: WorldUpdateEffects) {\n        let tape_message: string;\n        if (cut_edge_states.some((ces) => ces.cardboard == CardboardEdge.intact)) {\n            tape_message = 'You draw out a length of tape and fasten it to the cardboard.';\n        } else {\n            if (cut_edge_states.some((ces) => ces.tape == TapeEdge.taped)) {\n                tape_message = 'You lay another length of tape over the cut edge.';\n            } else {\n                tape_message = 'You seal the gap in the cardboard with a length of tape.';\n            }\n        }\n\n        let message = tape_message;\n        if (effects.repaired_dangles.length > 0) {\n            let total_face_membership = new Map<Face, number>();\n            effects.repaired_dangles.forEach(function (d) {\n                let face_membership = new_box.box_mesh.get_partition_face_membership(d.partition);\n                total_face_membership = counter_update(total_face_membership, face_membership);\n            })\n            let face_order = counter_order(total_face_membership);\n            let face_msg = face_message(face_order);\n\n            let repaired_dangles_message: string;\n            if (effects.new_rends.length == 1) {\n                repaired_dangles_message = `A formerly freely-swinging section of cardboard on the ${face_msg} can no longer swing on its hinge.`;\n            } else {\n                repaired_dangles_message = `${face_order.length} formerly freely-swinging sections of cardboard on the ${face_msg} can no longer swing on their hinges.`;\n            }\n            message += '\\n' + repaired_dangles_message;\n        }\n        return message;\n    }\n\n    item_spill_message(spilled_items: Item[]){\n        let si = spilled_items;\n        let during_spill_msg: string;\n        let after_spill_msg: string;\n\n        if (si.length == 1) {\n            let item_msg = si[0].pre_gestalt();\n            during_spill_msg = `${capitalize(item_msg)} spills out before you.`;\n            after_spill_msg = `It's ${si[0].article()} ${si[0].name()} - ${si[0].post_gestalt()}.`;\n        } else {\n            let item_msg = si.slice(0, si.length - 1).map((i) => i.pre_gestalt()).join(', ') + ' and ' + si[si.length - 1].pre_gestalt();\n            during_spill_msg = capitalize(`${item_msg} spill out before you.`);\n\n            let after_msgs = si.map((i) => `${i.article()} ${i.name()} - ${i.post_gestalt()}`);\n            after_spill_msg = \"It's \" + after_msgs.slice(0, after_msgs.length - 1).join(', ') + ' and ' + after_msgs[after_msgs.length - 1] + '.';\n        }\n\n        let spill_msg = during_spill_msg + ' ' + after_spill_msg;\n        return spill_msg;\n    }\n\n    spill_message(new_box: Box) {\n        let effects = world_update.effects;\n\n        let structural_dmg_msgs: string[] = [];\n\n        if (effects.spilled_rends.size > 0) {\n            let total_face_membership = new Map<Face, number>();\n            effects.spilled_rends.keys_array().forEach(function (sr) {\n                let sr_mem = new_box.box_mesh.get_partition_face_membership(sr);\n                total_face_membership = counter_update(total_face_membership, sr_mem);\n            });\n            let sr_faces = counter_order(total_face_membership);\n            let f_msg = face_message(sr_faces);\n            let spilled_rends_msg = `free cardboard on the ${f_msg} falls away`;\n            structural_dmg_msgs.push(spilled_rends_msg);\n        }\n\n        if (effects.spilled_dangles.size > 0) {\n            let total_face_membership = new Map<Face, number>();\n            effects.spilled_dangles.keys_array().forEach(function (sd) {\n                let sd_mem = new_box.box_mesh.get_partition_face_membership(sd.partition);\n                total_face_membership = counter_update(total_face_membership, sd_mem);\n            });\n            let sd_faces = counter_order(total_face_membership);\n            let f_msg = face_message(sd_faces);\n            let spilled_dangles_msg = `dangling cardboard on the ${f_msg} swings open`;\n            structural_dmg_msgs.push(spilled_dangles_msg);\n        }\n\n        let spill_msg = this.item_spill_message(effects.spilled_items);\n        let result: string;\n\n        if (structural_dmg_msgs.length > 0) {\n            let structure_dmg_msg = structural_dmg_msgs.join(' and ');\n            result = `${structure_dmg_msg}. ${spill_msg}`;\n        } else {\n            result = spill_msg;\n        }\n        return result;\n    }\n}\n\nlet rotate_y_box: Command<SingleBoxWorld> = {\n    command_name: ['rotate'],\n    \n    execute: function(world:SingleBoxWorld, parser: CommandParser): CommandResult<SingleBoxWorld> {\n        let dir_word = parser.consume_option<RotateYDirWord>(rotate_y_word_tokens);\n        if (!dir_word) {\n            return;\n        }\n        if (!parser.done()){\n            return;\n        }\n\n        let degrees = dir_word == 'right' ? 90 : 270;\n        let new_box = world.box.rotate_y(degrees);\n        let new_world = world.update({box: new_box});\n\n        let message = `You turn the box 90 degrees to the ${dir_word}`;\n\n        return {\n            world: new_world,\n            message: message\n        };\n    }\n}\n\nlet roll_box: Command<SingleBoxWorld> = {\n    command_name: [\"roll\"],\n\n    execute: function(world: SingleBoxWorld, parser: CommandParser): CommandResult<SingleBoxWorld> {\n        return with_world_update(function (effects) {\n            let dir_word = parser.consume_option<RollDirWord>(roll_dir_word_tokens);\n            if (!dir_word) {\n                return;\n            }\n            if (!parser.done()) {\n                return;\n            }\n            let direction = word_2_dir.get(dir_word);\n            let new_box = world.box.roll(direction);\n\n            let dir_msg = (dir_word == 'left' || dir_word == 'right') ? `over to the ${dir_word}` : dir_word;\n\n            let message: string;\n            let new_world: SingleBoxWorld;\n            if (effects.spillage_level == SpillageLevel.none) {\n                message = `You roll the box ${dir_msg}.`;\n                new_world = world.update({box: new_box});\n            } else {\n                let spill_msg = uncapitalize(world.spill_message(new_box));\n                message = `As you roll the box ${dir_msg}, ${spill_msg}`;\n\n                new_world = world.update({box: new_box, spilled_items: effects.spilled_items});\n            }\n\n            if (effects.box_collapsed) {\n                message += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.length > 0) {\n                    message += ' ';\n                    message += world.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n\n            return {\n                world: new_world,\n                message: message\n            };\n        });\n    }\n}\n\nlet lift_box: Command<SingleBoxWorld> = {\n    command_name: ['lift'],\n    execute: function(world: SingleBoxWorld, parser: CommandParser): CommandResult<SingleBoxWorld> {\n        //let inner_this = this;\n        return with_world_update(function (effects) {\n            if (!parser.done()){\n                return;\n            }\n            let new_box = world.box.lift();\n\n            let msg: string;\n            let new_world: SingleBoxWorld;\n            if (effects.spillage_level == SpillageLevel.none) {\n                msg = 'You lift up the box in place.';\n                new_world = world.update({box: new_box});\n            } else {\n                let spill_msg = uncapitalize(world.spill_message(new_box));\n                msg = 'As you start to lift up the box, ' + spill_msg;\n                new_world = world.update({box: new_box, spilled_items: effects.spilled_items});\n            }\n\n            if (effects.spillage_level <= SpillageLevel.heavy && !effects.box_collapsed) {\n                let total_weight = new_box.contents.reduce((x, i) => x + i.weight(), 0);\n                total_weight = Math.floor(total_weight / 2.9); //rule of thumb for translating \"normal item weights\" to \"normal box weights\"\n\n                if (total_weight > Weight.very_heavy) {\n                    total_weight = Weight.very_heavy;\n                }\n                let weight_2_msg = new Map<Weight, string>([\n                    [Weight.empty, 'so light as to be empty'],\n                    [Weight.very_light, 'quite light'],\n                    [Weight.light, 'light'],\n                    [Weight.medium, 'neither light nor heavy'],\n                    [Weight.heavy, 'somewhat heavy'],\n                    [Weight.very_heavy, 'very heavy']\n                ]);\n                let weight_msg = weight_2_msg.get(total_weight);\n                let subject = effects.spillage_level == SpillageLevel.none ? 'It' : 'The box';\n                msg += `\\n${subject} feels ${weight_msg}. You set it back down.`;\n            }\n\n            if (effects.box_collapsed) {\n                msg += '\\nThe added stress on the box causes it to collapse in on itself.';\n                if (effects.collapse_spilled_items.length > 0) {\n                    msg += ' ' + world.item_spill_message(effects.collapse_spilled_items);\n                }\n            }\n\n            return {world:new_world, message: msg};\n        });\n    }\n}\n\nlet cut_box: Command<SingleBoxWorld> = {\n    command_name: ['cut'],\n    execute: cut_or_tape_box\n}\n\nlet tape_box: Command<SingleBoxWorld> = {\n    command_name: ['tape'],\n    execute: cut_or_tape_box\n}\n\ntype cut_or_tape_bindings = {cut_points?: [Point2, Point2][]} & {message?: string};\n\nconst dim_2_pos = [\n    ['left', 'center', 'right'],\n    ['top','middle', 'bottom']\n];\n\nfunction parser_cut_or_tape_box(parser: CommandParser): cut_or_tape_bindings {\n    let operation: EdgeOpWord = <EdgeOpWord>parser.get_match('command').match;\n\n    let dir: Token | false;\n    if (parser.is_done()) {\n        dir = 'horizontally';\n    } else {\n        dir = parser.consume_option(edge_dir_word_tokens);\n\n        if (!dir){\n            return;\n        }\n    }\n\n    let dim_a: number;\n    let dim_b: number;\n\n    if (dir === 'vertically') {\n        dim_a = 0;\n        dim_b = 1;\n    } else {\n        dim_a = 1;\n        dim_b = 0;\n    }\n\n    let start_pos_a: Token | false;\n    if (parser.is_done()){\n        if (dim_a === 0) { //default for vertical\n            start_pos_a = 'center';\n        } else { // default for horizontal\n            start_pos_a = 'middle';\n        }\n    } else {\n        if (!parser.consume_filler(['along'])){\n            return;\n        }\n        start_pos_a = parser.consume_option(position_word_tokens, 'start_pos_a');\n        if (!start_pos_a) {\n            return;\n        }\n        if (dim_2_pos[dim_a].indexOf(start_pos_a) === -1) {\n            parser.get_match('start_pos_a').display = DisplayEltType.error;\n            parser.validity = MatchValidity.invalid;\n            return {message: `invalid start_pos_a for ${dir} ${operation}: ${start_pos_a}`};\n        }\n    }\n    \n    let start_pos_b: Token | false;\n    let end_pos_b: Token | false;\n    if (parser.is_done()) {\n        if (dim_a === 0) { //default for vertical\n            start_pos_b = 'top';\n            end_pos_b = 'bottom';\n        } else { // default for horizontal\n            start_pos_b = 'left';\n            end_pos_b = 'right';\n        }\n    } else {\n        if (!parser.consume_filler(['from'])){\n            return;\n        }\n\n        start_pos_b = parser.consume_option(position_word_tokens, 'start_pos_b');\n        if (!start_pos_b) {\n            return;\n        }\n        if (dim_2_pos[dim_b].indexOf(start_pos_b) === -1) {\n            parser.get_match('start_pos_b').display = DisplayEltType.error;\n            parser.validity = MatchValidity.invalid;\n            return {message: `invalid start_pos_b for ${dir} ${operation}: ${start_pos_b}`};\n        }\n\n        if (!parser.consume_filler(['to'])){\n            return;\n        }\n        end_pos_b = parser.consume_option(position_word_tokens, 'end_pos_b');\n        if (!end_pos_b) {\n            return;\n        }\n        if (dim_2_pos[dim_b].indexOf(end_pos_b) === -1) {\n            parser.get_match('end_pos_b').display = DisplayEltType.error;\n            parser.validity = MatchValidity.invalid;\n            return {message: `invalid end_pos_b for ${dir} ${operation}: ${end_pos_b}`};\n        }\n\n    }\n    \n    let pt1: Point2 = [null, null];\n    let pt2: Point2 = [null, null];\n\n    pt1[dim_a] = pt2[dim_a] = dim_2_pos[dim_a].indexOf(start_pos_a);\n\n    pt1[dim_b] = dim_2_pos[dim_b].indexOf(start_pos_b);\n    pt2[dim_b] = dim_2_pos[dim_b].indexOf(end_pos_b);\n\n    if (Math.abs(pt1[dim_b] - pt2[dim_b]) == 0) {\n        parser.get_match('end_pos_b').display = DisplayEltType.error;\n        return {message: 'no change between start_pos_b and end_pos_b.'};\n    }\n\n    if (!parser.done()){\n        return;\n    }\n\n    let cut_points: [Point2, Point2][];\n    if (Math.abs(pt1[dim_b] - pt2[dim_b]) === 2) {\n        let pt3: Point2 = [null, null];\n        pt3[dim_a] = dim_2_pos[dim_a].indexOf(start_pos_a);\n        pt3[dim_b] = 1;\n\n        cut_points = [[pt1, pt3], [pt3, pt2]];\n    } else {\n        cut_points = [[pt1, pt2]];\n    }\n\n    return {cut_points};\n}\n\nfunction cut_or_tape_box(world: SingleBoxWorld, parser: CommandParser): CommandResult<SingleBoxWorld> {\n    //operation: EdgeOpWord, face_w: FaceWord, dir: EdgeDirWord, start_pos_a: PositionWord, start_pos_b: PositionWord, end_pos_b: PositionWord): CommandResult {\n    //let inner_this = this;\n    return with_world_update(function (effects) {\n        let operation: EdgeOpWord = <EdgeOpWord>parser.get_match('command').match;\n        \n        let parse_result = parser_cut_or_tape_box(parser);\n        if (parse_result === undefined || parse_result.message !== undefined) {\n            return parse_result;\n        }\n\n        let {cut_points} = parse_result;\n\n        let cut_edge_states: EdgeState[] = [];\n\n        let new_box = world.box;\n        let face = Face.t;\n        cut_points.forEach(function ([p1, p2]) {\n            let vertices = new_box.box_mesh.face_meshes.get(face).vertices;\n            let v1 = vertices.get(p1[0], p1[1]);\n            let v2 = vertices.get(p2[0], p2[1]);\n            let edge = new Edge(v1, v2);\n\n            let new_state: EdgeState;\n            if (new_box.edge_state.has_key(edge)) {\n                new_state = new_box.edge_state.get(edge);\n            } else {\n                new_state = new EdgeState();\n            }\n\n            cut_edge_states.push(new_state);\n            new_box = new_box.cut_or_tape(word_2_edge_op.get(operation), face, p1, p2);\n        });\n\n        effects.new_dangles.forEach(function (nd) {\n            if (array_fuck_contains(effects.new_rends, nd.partition)) {\n                effects.new_dangles.splice(effects.new_dangles.indexOf(nd), 1);\n            }\n        });\n\n        effects.repaired_dangles.forEach(function (rd) {\n            if (array_fuck_contains(effects.new_rends, rd.partition)) {\n                effects.repaired_dangles.splice(effects.repaired_dangles.indexOf(rd), 1);\n            }\n        });\n\n        let message: string;\n        if (operation == 'cut') {\n            message = world.cut_message(new_box, cut_edge_states, effects);\n        } else {\n            message = world.tape_message(new_box, cut_edge_states, effects);\n        }\n\n        return {world: world.update({box: new_box}), message: message};\n    });\n}\n\nlet open_dangle: Command<SingleBoxWorld> = {\n    command_name: ['open'],\n    execute: open_or_close_dangle\n}\n\n\nlet close_dangle: Command<SingleBoxWorld> = {\n    command_name: ['close'],\n    execute: open_or_close_dangle\n}\n\nfunction open_or_close_dangle(world: SingleBoxWorld, parser: CommandParser): CommandResult<SingleBoxWorld> {\n    // operation: DangleOpWord, face_w: FaceWord)\n    return with_world_update(function (effects) {\n        let operation = <DangleOpWord>parser.get_match('command').match;\n        let face_w = parser.consume_option<FaceWord>(face_word_tokens, 'face');\n        if (!face_w || !parser.done()) {\n            return;\n        }\n\n        let face = word_2_face.get(face_w)\n        let applicable_dangles = world.box.dangle_state.keys_array().filter((d) => d.free_face == face);\n        let new_box = world.box;\n        let updated: Dangle[] = [];\n        applicable_dangles.forEach(function (d){\n            let err = false;\n            try {\n                new_box = new_box.open_or_close_dangle(word_2_dangle_op.get(operation), d);\n            } catch (e) {\n                err = true;\n                if (!(e instanceof WorldUpdateError)) {\n                    throw e;\n                }\n            }\n            if (!err) {\n                updated.push(d);\n            }\n        });\n        if (updated.length === 0) {\n            parser.get_match('face').display = DisplayEltType.error;\n            parser.validity = MatchValidity.invalid;\n            return {message: `No dangles to ${operation} on ${face_w} face`};\n        }\n\n        let swing_dir_msg = operation === 'close' ? 'in' : 'out';\n        let num_hinges = new Set(updated.map((d) => d.fixed_face)).size;\n        let hinge_msg: string;\n        if (num_hinges == 1) {\n            hinge_msg = 'hinge';\n        } else {\n            hinge_msg = 'hinges';\n        }\n\n        let message = `You swing the cardboard on the ${face_w} of the box ${swing_dir_msg} on its ${hinge_msg}`;\n        if (!world.box.appears_open() && new_box.appears_open()) {\n            message += '\\nYou get a glimpse inside the box through the opening.';\n\n            if (new_box.appears_empty()) {\n                message += \" It's empty.\";\n            } else {\n                message += ` You can see ${new_box.next_item().pre_gestalt()} inside.`;\n            }\n        }\n        if (effects.box_collapsed) {\n            message += '\\nThe added stress on the box causes it to collapse in on itself.';\n            if (effects.collapse_spilled_items.length > 0) {\n                message += ' ' + world.item_spill_message(effects.collapse_spilled_items);\n            }\n        }\n        return {world: world.update({box: new_box}), message: message};\n    });\n}\n\nlet remove_rend: Command<SingleBoxWorld> = {\n    command_name: ['remove'],\n    execute: remove_or_replace_rend\n}\n\nlet replace_rend: Command<SingleBoxWorld> = {\n    command_name: ['replace'],\n    execute: remove_or_replace_rend\n}\n\nfunction remove_or_replace_rend(world: SingleBoxWorld, parser: CommandParser): CommandResult<SingleBoxWorld> {\n    //operation: RendOpWord, face_w: FaceWord): CommandResult {\n    return with_world_update(function (effects) {\n        let operation = <RendOpWord>parser.get_match('command').match;\n        let face_w = parser.consume_option<FaceWord>(face_word_tokens, 'face');\n        if (!face_w || !parser.done()) {\n            return;\n        }\n\n        let face = word_2_face.get(face_w);\n        let applicable_rends: Partition[] = [];\n        world.box.rend_state.entries_array().forEach(function ([r, s]) {\n            let face_membership = world.box.box_mesh.get_partition_face_membership(r);\n            if (face_membership.get(face) > 0) {\n                applicable_rends.push(r);\n            }\n        });\n\n        let new_box = world.box;\n        let updated: Partition[] = [];\n        applicable_rends.forEach(function (r){\n            let err = false;\n            try {\n                new_box = new_box.open_or_close_rend(word_2_rend_op.get(operation), r);\n            } catch (e) {\n                err = true;\n                if (!(e instanceof WorldUpdateError)) {\n                    throw e;\n                }\n            }\n            if (!err) {\n                updated.push(r);\n            }\n        });\n        if (updated.length == 0) {\n            parser.get_match('face').display = DisplayEltType.error;\n            parser.validity = MatchValidity.invalid;\n            return {message: `No rends to ${operation} on ${face_w} face`};\n        }\n\n        let total_face_membership = new Map<Face, number>();\n        total_face_membership = updated.reduce(\n            (total, r) => counter_update(\n                total,\n                world.box.box_mesh.get_partition_face_membership(r)),\n            total_face_membership);\n\n        let face_msg = face_message(counter_order(total_face_membership));\n\n        let message: string;\n        if (operation === 'remove') {\n            message = `You remove the free cardboard from the ${face_msg} and place it to the side.`;\n        } else {\n            `You replace the missing cardboard from the ${face_msg}.`;\n        }\n\n        if (!world.box.appears_open() && new_box.appears_open()) {\n            message += '\\nYou get a glimpse inside the box through the opening.';\n\n            if (new_box.appears_empty()) {\n                message += \" It's empty.\";\n            } else {\n                message += ` You can see ${new_box.next_item().pre_gestalt()} inside.`;\n            }\n        }\n        if (effects.box_collapsed) {\n            message += '\\nThe added stress on the box causes it to collapse in on itself.';\n            if (effects.collapse_spilled_items.length > 0) {\n                message += ' ' + world.item_spill_message(effects.collapse_spilled_items);\n            }\n        }\n        return {world: world.update({box: new_box}), message:message};\n    });\n}\n\nlet take_item: Command<SingleBoxWorld> = {\n    command_name: ['take', 'item'],\n    execute: function(world: SingleBoxWorld, parser: CommandParser): CommandResult<SingleBoxWorld> {\n        return with_world_update(function (effects) {\n            if (!parser.done()) {\n                return;\n            }\n\n            let new_box = world.box.take_next_item();\n\n            let new_taken_items = world.taken_items;\n            new_taken_items.push(...effects.taken_items);\n\n            let item = effects.taken_items[0];\n            let message = `You reach in and take ${item.pre_gestalt()}. It's ${item.post_gestalt()}; ${item.article()} ${item.name()}.`;\n        \n            if (new_box.appears_empty()) {\n                message += '\\nThe box is empty now.';\n            } else {\n                message += `\\nYou can now see ${new_box.next_item().pre_gestalt()} inside the box.`;\n            }\n\n            return {world: world.update({box: new_box, taken_items: new_taken_items}), message: message};\n        });\n    }\n}\n\nexport function test() {\n    let contents: Item[] = [new Codex(), new Pinecone(), new CityKey()];\n    let world = new SingleBoxWorld({box: new Box({contents: contents})});\n\n    console.log('NEW WORLD: test heavy spillage when rolling\\n\\n\\n');\n\n    let d = new WorldDriver(world);\n    d.apply_command('lift');\n    d.apply_command('roll forward');\n    d.apply_command('rotate left');\n\n    d.apply_command('rotate le', false);\n\n    // cut the top face vertically along the center from top to bottom\n    d.apply_command('cut on top vertically along center from top to bottom');\n\n    // cut the top face vertically along the right edge from top to bottom\n    d.apply_command('cut on top vertically along right from top to bottom');\n\n    // should result in a dangle\n    // cut the top face horizontally along the top edge from center to right\n    d.apply_command('cut on top horizontally along top from center to right');\n\n    // should result in a rend\n    // cut the top face horizontally along the bottom edge from center to right\n    d.apply_command('cut on top horizontally along bottom from center to right');\n\n    d.apply_command('roll forward');\n\n    // should result in the rend facing straight down, maybe spilling\n    d.apply_command('roll forward');\n\n    d.apply_command('lift');\n\n    console.log('\\n\\n\\nNEW WORLD: test heavy spillage and collapse from bottom when lifting\\n\\n\\n');\n    let d2 = new WorldDriver(world);\n\n    d2.apply_command('cut on front horizontally along bottom from left to right');\n    d2.apply_command('rotate left');\n    d2.apply_command('cut on front horizontally along bottom from left to right');\n    d2.apply_command('rotate left');\n    d2.apply_command('cut on front horizontally along bottom from left to right');\n    d2.apply_command('rotate left');\n    d2.apply_command('cut on front horizontally along bottom from left to right');\n    d2.apply_command('lift');\n    \n    console.log('\\n\\n\\nNEW WORLD: test taping\\n\\n\\n');\n    let d3 = new WorldDriver(world);\n\n    d3.apply_command('cut on top horizontally along top from left to right');\n    d3.apply_command('cut on top horizontally along bottom from left to right');\n    d3.apply_command('cut on top vertically along left from top to bottom');\n\n    d3.apply_command('open top');\n    d3.apply_command('take item');\n\n    d3.apply_command('close top');\n\n    d3.apply_command('cut on top vertically along right from top to bottom');\n    d3.apply_command('remove top');\n    d3.apply_command('take item');\n    d3.apply_command('take item');\n    d3.apply_command('replace top');\n\n    d3.apply_command('tape on top vertically along right from top to bottom');\n    d3.apply_command('tape on top vertically along left from top to middle');\n\n    console.log('\\n\\n\\nNEW WORLD: test light spillage when rolling and lifting\\n\\n\\n');\n    let d4 = new WorldDriver(world);\n\n    d4.apply_command('cut on front horizontally along top from left to right');\n    d4.apply_command('cut on front horizontally along bottom from left to right');\n    d4.apply_command('cut on front vertically along left from top to bottom');\n\n    d4.apply_command('lift');\n\n    d4.apply_command('cut on front vertically along right from top to bottom');\n\n    d4.apply_command('roll right');\n}\n\n//test();\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/world.ts","import * as Datatypes from './datatypes';\n\n// import {Map, List, Set, OrderedSet, is} from 'immutable';\n\nexport class WorldUpdateEffects {\n    spill_faces: Datatypes.Face[] = [];\n    spilled_items: Datatypes.Item[] = [];\n    spilled_rends: Datatypes.FuckSet<Datatypes.Partition> = new Datatypes.FuckDict<Datatypes.Partition, undefined>();\n    spilled_dangles: Datatypes.FuckSet<Datatypes.Dangle> = new Datatypes.FuckDict<Datatypes.Dangle, undefined>();\n    spillage_level = Datatypes.SpillageLevel.none;\n    taken_items: Datatypes.Item[] = [];\n    new_rends: Datatypes.Partition[] = [];\n    new_dangles: Datatypes.Dangle[] = [];\n    repaired_rends: Datatypes.Partition[] = [];\n    repaired_dangles: Datatypes.Dangle[] = [];\n    box_collapsed = false;\n    collapse_spilled_items: Datatypes.Item[] = [];\n}\n\ninterface WorldUpdateEffectsRef {\n    effects?: WorldUpdateEffects\n}\n\nexport let world_update: WorldUpdateEffectsRef = {};\n\nexport function with_world_update<T>(f: (effects: WorldUpdateEffects) => T) {\n    //TODO validate: error if world_update.effects isn't null/undefined\n    world_update.effects = new WorldUpdateEffects();\n    let result = f(world_update.effects);\n    world_update.effects = undefined;\n    return result;\n}\n\n//TODO define world update exceptions\n\n\n// WEBPACK FOOTER //\n// ./src/typescript/world_update_effects.ts","/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n    name: true,\n    length: true,\n    prototype: true,\n    caller: true,\n    arguments: true,\n    arity: true\n};\n\nvar isGetOwnPropertySymbolsAvailable = typeof Object.getOwnPropertySymbols === 'function';\n\nmodule.exports = function hoistNonReactStatics(targetComponent, sourceComponent, customStatics) {\n    if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components\n        var keys = Object.getOwnPropertyNames(sourceComponent);\n\n        /* istanbul ignore else */\n        if (isGetOwnPropertySymbolsAvailable) {\n            keys = keys.concat(Object.getOwnPropertySymbols(sourceComponent));\n        }\n\n        for (var i = 0; i < keys.length; ++i) {\n            if (!REACT_STATICS[keys[i]] && !KNOWN_STATICS[keys[i]] && (!customStatics || !customStatics[keys[i]])) {\n                try {\n                    targetComponent[keys[i]] = sourceComponent[keys[i]];\n                } catch (error) {\n\n                }\n            }\n        }\n    }\n\n    return targetComponent;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/hoist-non-react-statics/index.js\n// module id = 29\n// module chunks = 0","module.exports = isFunction\n\nvar toString = Object.prototype.toString\n\nfunction isFunction (fn) {\n  var string = toString.call(fn)\n  return string === '[object Function]' ||\n    (typeof fn === 'function' && string !== '[object RegExp]') ||\n    (typeof window !== 'undefined' &&\n     // IE8 and below\n     (fn === window.setTimeout ||\n      fn === window.alert ||\n      fn === window.confirm ||\n      fn === window.prompt))\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/is-function/index.js\n// module id = 30\n// module chunks = 0","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nvar isObject = require('isobject');\n\nfunction isObjectObject(o) {\n  return isObject(o) === true\n    && Object.prototype.toString.call(o) === '[object Object]';\n}\n\nmodule.exports = function isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObjectObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (typeof ctor !== 'function') return false;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObjectObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/is-plain-object/index.js\n// module id = 31\n// module chunks = 0","/*!\n * isobject <https://github.com/jonschlinkert/isobject>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function isObject(val) {\n  return val != null && typeof val === 'object' && Array.isArray(val) === false;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/isobject/index.js\n// module id = 32\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== 'production') {\n  var invariant = require('fbjs/lib/invariant');\n  var warning = require('fbjs/lib/warning');\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (typeSpecs.hasOwnProperty(typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          invariant(typeof typeSpecs[typeSpecName] === 'function', '%s: %s type `%s` is invalid; it must be a function, usually from ' + 'React.PropTypes.', componentName || 'React class', location, typeSpecName);\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        warning(!error || error instanceof Error, '%s: type specification of %s `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error);\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          warning(false, 'Failed %s type: %s%s', location, error.message, stack != null ? stack : '');\n        }\n      }\n    }\n  }\n}\n\nmodule.exports = checkPropTypes;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/checkPropTypes.js\n// module id = 33\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    invariant(\n      false,\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/factoryWithThrowingShims.js\n// module id = 34\n// module chunks = 0","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\nvar emptyFunction = require('fbjs/lib/emptyFunction');\nvar invariant = require('fbjs/lib/invariant');\nvar warning = require('fbjs/lib/warning');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar checkPropTypes = require('./checkPropTypes');\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message) {\n    this.message = message;\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          invariant(\n            false,\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            warning(\n              false,\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `%s` prop on `%s`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.',\n              propFullName,\n              componentName\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunction.thatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOf, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues);\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + propValue + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (propValue.hasOwnProperty(key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? warning(false, 'Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunction.thatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        warning(\n          false,\n          'Invalid argument supplid to oneOfType. Expected an array of check functions, but ' +\n          'received %s at index %s.',\n          getPostfixForTypeWarning(checker),\n          i\n        );\n        return emptyFunction.thatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        if (checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret) == null) {\n          return null;\n        }\n      }\n\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (!checker) {\n          continue;\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/prop-types/factoryWithTypeCheckers.js\n// module id = 35\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _templateObject = _taggedTemplateLiteral(['\\n  border-radius: 50%;\\n  background: ', ';\\n  width: 10px;\\n  height: 10px;\\n'], ['\\n  border-radius: 50%;\\n  background: ', ';\\n  width: 10px;\\n  height: 10px;\\n']),\n    _templateObject2 = _taggedTemplateLiteral(['\\n  position: absolute;\\n  left: 10px;\\n  top: 12px;\\n  display: flex;\\n'], ['\\n  position: absolute;\\n  left: 10px;\\n  top: 12px;\\n  display: flex;\\n']),\n    _templateObject3 = _taggedTemplateLiteral(['\\n  color: ivory;\\n  font-family: ', ';\\n'], ['\\n  color: ivory;\\n  font-family: ', ';\\n']);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reflexbox = require('reflexbox');\n\nvar _styledComponents = require('styled-components');\n\nvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\nvar _styles = require('../styles');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar Circle = (0, _reflexbox.reflex)(_styledComponents2.default.div(_templateObject, function (props) {\n  return props.color;\n}));\n\nvar CircleContainer = _styledComponents2.default.div(_templateObject2);\n\nvar Title = _styledComponents2.default.div(_templateObject3, _styles.font.family);\n\nexports.default = function () {\n  return _react2.default.createElement(\n    _reflexbox.Flex,\n    { my: 1, justify: 'center', align: 'center' },\n    _react2.default.createElement(\n      Title,\n      null,\n      'bash'\n    ),\n    _react2.default.createElement(\n      CircleContainer,\n      { p: 2 },\n      _react2.default.createElement(Circle, { mr: 1, color: _styles.colors.close }),\n      _react2.default.createElement(Circle, { mr: 1, color: _styles.colors.minimize }),\n      _react2.default.createElement(Circle, { mr: 1, color: _styles.colors.expand })\n    )\n  );\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-if-terminal/dist/components/DefaultHeader.js\n// module id = 36\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _styledComponents = require('styled-components');\n\nvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\nvar _Pwd = require('./Pwd.js');\n\nvar _Pwd2 = _interopRequireDefault(_Pwd);\n\nvar _Text = require('./Text.js');\n\nvar _Text2 = _interopRequireDefault(_Text);\n\nvar _utility = require('../utility');\n\nvar _styles = require('../styles');\n\nvar _reflexbox = require('reflexbox');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar HistoryLine = function (_Component) {\n  _inherits(HistoryLine, _Component);\n\n  function HistoryLine() {\n    _classCallCheck(this, HistoryLine);\n\n    return _possibleConstructorReturn(this, (HistoryLine.__proto__ || Object.getPrototypeOf(HistoryLine)).apply(this, arguments));\n  }\n\n  _createClass(HistoryLine, [{\n    key: 'render',\n    value: function render() {\n      var children = this.props.children;\n\n\n      return _react2.default.createElement(\n        _reflexbox.Flex,\n        null,\n        _react2.default.createElement(_Pwd2.default, { mx: 1 }),\n        (0, _utility.isFunction)(children) ? children() : _react2.default.createElement(\n          _Text2.default,\n          null,\n          children\n        )\n      );\n    }\n  }]);\n\n  return HistoryLine;\n}(_react.Component);\n\nHistoryLine.propTypes = {\n  children: _propTypes2.default.node.isRequired\n};\nexports.default = HistoryLine;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-if-terminal/dist/components/HistoryLine.js\n// module id = 37\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _templateObject = _taggedTemplateLiteral(['\\n  background: none;\\n  border: none;\\n  color: ivory;\\n  font-size: ', ';\\n  font-family: ', ';\\n  flex: 1;\\n  &:focus { outline: none; }\\n'], ['\\n  background: none;\\n  border: none;\\n  color: ivory;\\n  font-size: ', ';\\n  font-family: ', ';\\n  flex: 1;\\n  &:focus { outline: none; }\\n']);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reflexbox = require('reflexbox');\n\nvar _styledComponents = require('styled-components');\n\nvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\nvar _Pwd = require('./Pwd.js');\n\nvar _Pwd2 = _interopRequireDefault(_Pwd);\n\nvar _styles = require('../styles');\n\nvar _utility = require('../utility');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\n// TODO: allow users to pass in custom prompt strings\nvar InputText = _styledComponents2.default.input(_templateObject, _styles.font.termSize, _styles.font.family);\n\nvar Prompt = function (_Component) {\n  _inherits(Prompt, _Component);\n\n  function Prompt() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Prompt);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Prompt.__proto__ || Object.getPrototypeOf(Prompt)).call.apply(_ref, [this].concat(args))), _this), _this.state = { value: '', meta: {} }, _this.handleKeys = function (_ref2) {\n      var keyCode = _ref2.keyCode;\n\n      if (keyCode === _utility.KEYS.enter && _this.state.meta.isValid) {\n        _this.props.onSubmit(_this.state.value);\n        _this.setState({ value: '' });\n      }\n    }, _this.handleChange = function (_ref3) {\n      var value = _ref3.target.value;\n\n      var meta = _this.props.onChange(value);\n      _this.setState({ value: value, meta: meta });\n    }, _this.focus = function () {\n      _this.input.focus();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Prompt, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.addEventListener('keydown', this.handleKeys);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.removeEventListener('keydown', this.handleKeys);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement(\n        _reflexbox.Flex,\n        null,\n        _react2.default.createElement(_Pwd2.default, { mx: 1 }),\n        _react2.default.createElement(InputText, {\n          onChange: this.handleChange,\n          type: 'text',\n          value: this.state.value,\n          innerRef: function innerRef(i) {\n            return _this2.input = i;\n          }\n        })\n      );\n    }\n  }]);\n\n  return Prompt;\n}(_react.Component);\n\nexports.default = Prompt;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-if-terminal/dist/components/Prompt.js\n// module id = 38\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _templateObject = _taggedTemplateLiteral(['\\n  height: 100%;\\n  width: 100%;\\n  overflow-y: scroll;\\n'], ['\\n  height: 100%;\\n  width: 100%;\\n  overflow-y: scroll;\\n']);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Prompt = require('./Prompt.js');\n\nvar _Prompt2 = _interopRequireDefault(_Prompt);\n\nvar _Text = require('./Text.js');\n\nvar _Text2 = _interopRequireDefault(_Text);\n\nvar _HistoryLine = require('./HistoryLine.js');\n\nvar _HistoryLine2 = _interopRequireDefault(_HistoryLine);\n\nvar _reflexbox = require('reflexbox');\n\nvar _styledComponents = require('styled-components');\n\nvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\nvar _utility = require('../utility');\n\nvar _DefaultHeader = require('./DefaultHeader.js');\n\nvar _DefaultHeader2 = _interopRequireDefault(_DefaultHeader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _taggedTemplateLiteral(strings, raw) { return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nvar ContentContainer = _styledComponents2.default.div(_templateObject);\n\nvar Terminal = function (_Component) {\n  _inherits(Terminal, _Component);\n\n  function Terminal() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Terminal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Terminal.__proto__ || Object.getPrototypeOf(Terminal)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      history: []\n    }, _this.handleSubmit = function (value) {\n      _this.setState({\n        history: [].concat(_toConsumableArray(_this.state.history), [{ value: value, result: _this.props.onCommandSubmit(value) }])\n      });\n      _this.scrollToPrompt();\n    }, _this.handlePromptChange = function (value) {\n      // { isValid: true, autcomplete: [] }\n      return _this.props.onPromptChange(value);\n    }, _this.focusPrompt = function () {\n      _this.prompt.focus();\n    }, _this.scrollToPrompt = function () {\n      _this.contentContainer.scrollTop = _this.contentContainer.scrollHeight;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Terminal, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      return _react2.default.createElement(\n        _reflexbox.Flex,\n        { onClick: this.focusPrompt, column: true, style: this.styles },\n        this.props.header(),\n        _react2.default.createElement(\n          ContentContainer,\n          { innerRef: function innerRef(cc) {\n              return _this2.contentContainer = cc;\n            } },\n          this.state.history.map(function (_ref2) {\n            var value = _ref2.value,\n                result = _ref2.result;\n            return _react2.default.createElement(\n              'div',\n              null,\n              _react2.default.createElement(\n                _HistoryLine2.default,\n                null,\n                value\n              ),\n              (0, _utility.isFunction)(result) ? result() : _react2.default.createElement(\n                _Text2.default,\n                { pl: 2 },\n                result\n              )\n            );\n          }),\n          _react2.default.createElement(_Prompt2.default, {\n            onSubmit: this.handleSubmit,\n            onChange: this.handlePromptChange,\n            ref: function ref(p) {\n              return _this2.prompt = p;\n            }\n          })\n        )\n      );\n    }\n  }, {\n    key: 'styles',\n    get: function get() {\n      return {\n        height: this.props.height,\n        width: this.props.width,\n        background: 'black',\n        borderRadius: '3px',\n        position: 'relative'\n      };\n    }\n  }]);\n\n  return Terminal;\n}(_react.Component);\n\nTerminal.propTypes = {\n  width: _propTypes2.default.string,\n  height: _propTypes2.default.string,\n  header: _propTypes2.default.node,\n\n  // onPromptChange gets called when user enters new keys.  It should return\n  // an object with the signature: { isValid: Bool, autocomplete: Array }\n  onPromptChange: _propTypes2.default.func,\n  onCommandSubmit: _propTypes2.default.func\n};\nTerminal.defaultProps = {\n  width: '80%',\n  height: '80%',\n  header: _DefaultHeader2.default\n};\nexports.default = Terminal;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-if-terminal/dist/components/Terminal.js\n// module id = 39\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Terminal = require('./components/Terminal.js');\n\nObject.defineProperty(exports, 'Terminal', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Terminal).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-if-terminal/dist/index.js\n// module id = 40\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _Box = require('./Box');\n\nvar _Box2 = _interopRequireDefault(_Box);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Flex = function Flex(props) {\n  return (0, _react.createElement)(_Box2.default, _extends({}, props, { flex: true }));\n};\n\nexports.default = Flex;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflexbox/dist/Flex.js\n// module id = 41\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _contextTypes = require('./context-types');\n\nvar _contextTypes2 = _interopRequireDefault(_contextTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ReflexProvider = function (_React$Component) {\n  _inherits(ReflexProvider, _React$Component);\n\n  function ReflexProvider() {\n    _classCallCheck(this, ReflexProvider);\n\n    return _possibleConstructorReturn(this, (ReflexProvider.__proto__ || Object.getPrototypeOf(ReflexProvider)).apply(this, arguments));\n  }\n\n  _createClass(ReflexProvider, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        reflexbox: this.props\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.Children.only(this.props.children);\n    }\n  }]);\n\n  return ReflexProvider;\n}(_react2.default.Component);\n\nReflexProvider.childContextTypes = _contextTypes2.default;\n\nexports.default = ReflexProvider;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reflexbox/dist/ReflexProvider.js\n// module id = 42\n// module chunks = 0","/*\n *          __        ___\n *    _____/ /___  __/ (_)____\n *   / ___/ __/ / / / / / ___/\n *  (__  ) /_/ /_/ / / (__  )\n * /____/\\__/\\__, /_/_/____/\n *          /____/\n *\n * light - weight css preprocessor @licence MIT\n */\n/* eslint-disable */\n(function (factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? (module['exports'] = factory(null)) :\n\t\ttypeof define === 'function' && define['amd'] ? define(factory(null)) :\n\t\t\t(window['stylis'] = factory(null))\n}(/** @param {*=} options */function factory (options) {\n\n\t'use strict'\n\n\t/**\n\t * Notes\n\t *\n\t * The ['<method name>'] pattern is used to support closure compiler\n\t * the jsdoc signatures are also used to the same effect\n\t *\n\t * ---- \n\t *\n\t * int + int + int === n4 [faster]\n\t *\n\t * vs\n\t *\n\t * int === n1 && int === n2 && int === n3\n\t *\n\t * ----\n\t *\n\t * switch (int) { case ints...} [faster]\n\t *\n\t * vs\n\t *\n\t * if (int == 1 && int === 2 ...)\n\t *\n\t * ----\n\t *\n\t * The (first*n1 + second*n2 + third*n3) format used in the property parser\n\t * is a simple way to hash the sequence of characters\n\t * taking into account the index they occur in\n\t * since any number of 3 character sequences could produce duplicates.\n\t *\n\t * On the other hand sequences that are directly tied to the index of the character\n\t * resolve a far more accurate measure, it's also faster\n\t * to evaluate one condition in a switch statement\n\t * than three in an if statement regardless of the added math.\n\t *\n\t * This allows the vendor prefixer to be both small and fast.\n\t */\n\n\tvar nullptn = /^\\0+/g /* matches leading null characters */\n\tvar formatptn = /[\\0\\r\\f]/g /* matches new line, null and formfeed characters */\n\tvar colonptn = /: */g /* splits animation rules */\n\tvar cursorptn = /zoo|gra/ /* assert cursor varient */\n\tvar transformptn = /([,: ])(transform)/g /* vendor prefix transform, older webkit */\n\tvar animationptn = /,+\\s*(?![^(]*[)])/g /* splits multiple shorthand notation animations */\n\tvar propertiesptn = / +\\s*(?![^(]*[)])/g /* animation properties */\n\tvar elementptn = / *[\\0] */g /* selector elements */\n\tvar selectorptn = /,\\r+?/g /* splits selectors */\n\tvar andptn = /([\\t\\r\\n ])*\\f?&/g /* match & */\n\tvar escapeptn = /:global\\(((?:[^\\(\\)\\[\\]]*|\\[.*\\]|\\([^\\(\\)]*\\))*)\\)/g /* matches :global(.*) */\n\tvar invalidptn = /\\W+/g /* removes invalid characters from keyframes */\n\tvar keyframeptn = /@(k\\w+)\\s*(\\S*)\\s*/ /* matches @keyframes $1 */\n\tvar plcholdrptn = /::(place)/g /* match ::placeholder varient */\n\tvar readonlyptn = /:(read-only)/g /* match :read-only varient */\n\tvar beforeptn = /\\s+(?=[{\\];=:>])/g /* matches \\s before ] ; = : */\n\tvar afterptn = /([[}=:>])\\s+/g /* matches \\s after characters [ } = : */\n\tvar tailptn = /(\\{[^{]+?);(?=\\})/g /* matches tail semi-colons ;} */\n\tvar whiteptn = /\\s{2,}/g /* matches repeating whitespace */\n\tvar pseudoptn = /([^\\(])(:+) */g /* pseudo element */\n\tvar writingptn = /[svh]\\w+-[tblr]{2}/ /* match writing mode property values */\n\n\t/* vendors */\n\tvar webkit = '-webkit-'\n\tvar moz = '-moz-'\n\tvar ms = '-ms-'\n\n\t/* character codes */\n\tvar SEMICOLON = 59 /* ; */\n\tvar CLOSEBRACES = 125 /* } */\n\tvar OPENBRACES = 123 /* { */\n\tvar OPENPARENTHESES = 40 /* ( */\n\tvar CLOSEPARENTHESES = 41 /* ) */\n\tvar OPENBRACKET = 91 /* [ */\n\tvar CLOSEBRACKET = 93 /* ] */\n\tvar NEWLINE = 10 /* \\n */\n\tvar CARRIAGE = 13 /* \\r */\n\tvar TAB = 9 /* \\t */\n\tvar AT = 64 /* @ */\n\tvar SPACE = 32 /*   */\n\tvar AND = 38 /* & */\n\tvar DASH = 45 /* - */\n\tvar UNDERSCORE = 95 /* _ */\n\tvar STAR = 42 /* * */\n\tvar COMMA = 44 /* , */\n\tvar COLON = 58 /* : */\n\tvar SINGLEQUOTE = 39 /* ' */\n\tvar DOUBLEQUOTE = 34 /* \" */\n\tvar FOWARDSLASH = 47 /* / */\n\tvar GREATERTHAN = 62 /* > */\n\tvar PLUS = 43 /* + */\n\tvar TILDE = 126 /* ~ */\n\tvar NULL = 0 /* \\0 */\n\tvar FORMFEED = 12 /* \\f */\n\tvar VERTICALTAB = 11 /* \\v */\n\n\t/* special identifiers */\n\tvar KEYFRAME = 107 /* k */\n\tvar MEDIA = 109 /* m */\n\tvar SUPPORTS = 115 /* s */\n\tvar PLACEHOLDER = 112 /* p */\n\tvar READONLY = 111 /* o */\n\tvar IMPORT = 169 /* <at>i */\n\tvar CHARSET = 163 /* <at>c */\n\tvar DOCUMENT = 100 /* <at>d */\n\n\tvar column = 1 /* current column */\n\tvar line = 1 /* current line numebr */\n\tvar pattern = 0 /* :pattern */\n\n\tvar cascade = 1 /* #id h1 h2 vs h1#id h2#id  */\n\tvar vendor = 1 /* vendor prefix */\n\tvar escape = 1 /* escape :global() pattern */\n\tvar compress = 0 /* compress output */\n\tvar semicolon = 0 /* no/semicolon option */\n\tvar preserve = 0 /* preserve empty selectors */\n\n\t/* empty reference */\n\tvar array = []\n\n\t/* plugins */\n\tvar plugins = []\n\tvar plugged = 0\n\n\t/* plugin context */\n\tvar POSTS = -2\n\tvar PREPS = -1\n\tvar UNKWN = 0\n\tvar PROPS = 1\n\tvar BLCKS = 2\n\tvar ATRUL = 3\n\n\t/* plugin newline context */\n\tvar unkwn = 0\n\n\t/* keyframe animation */\n\tvar keyed = 1\n\tvar key = ''\n\n\t/* selector namespace */\n\tvar nscopealt = ''\n\tvar nscope = ''\n\n\t/**\n\t * Compile\n\t *\n\t * @param {Array<string>} parent\n\t * @param {Array<string>} current\n\t * @param {string} body\n\t * @param {number} id\n\t * @return {string}\n\t */\n\tfunction compile (parent, current, body, id) {\n\t\tvar bracket = 0 /* brackets [] */\n\t\tvar comment = 0 /* comments /* // or /* */\n\t\tvar parentheses = 0 /* functions () */\n\t\tvar quote = 0 /* quotes '', \"\" */\n\n\t\tvar first = 0 /* first character code */\n\t\tvar second = 0 /* second character code */\n\t\tvar code = 0 /* current character code */\n\t\tvar tail = 0 /* previous character code */\n\t\tvar trail = 0 /* character before previous code */\n\t\tvar peak = 0 /* previous non-whitespace code */\n\t\t\n\t\tvar counter = 0 /* count sequence termination */\n\t\tvar context = 0 /* track current context */\n\t\tvar atrule = 0 /* track @at-rule context */\n\t\tvar pseudo = 0 /* track pseudo token index */\n\t\tvar caret = 0 /* current character index */\n\t\tvar format = 0 /* control character formating context */\n\t\tvar insert = 0 /* auto semicolon insertion */\n\t\tvar invert = 0 /* inverted selector pattern */\n\t\tvar length = 0 /* generic length address */\n\t\tvar eof = body.length /* end of file(length) */\n\t\tvar eol = eof - 1 /* end of file(characters) */\n\n\t\tvar char = '' /* current character */\n\t\tvar chars = '' /* current buffer of characters */\n\t\tvar child = '' /* next buffer of characters */\n\t\tvar out = '' /* compiled body */\n\t\tvar children = '' /* compiled children */\n\t\tvar flat = '' /* compiled leafs */\n\t\tvar selector /* generic selector address */\n\t\tvar result /* generic address */\n\n\t\t// ...build body\n\t\twhile (caret < eof) {\n\t\t\tcode = body.charCodeAt(caret)\n\n\t\t\tif (comment + quote + parentheses + bracket === 0) {\n\t\t\t\t// eof varient\n\t\t\t\tif (caret === eol) {\n\t\t\t\t\tif (format > 0) {\n\t\t\t\t\t\tchars = chars.replace(formatptn, '')\n\t\t\t\t\t}\n\n\t\t\t\t\tif ((chars = chars.trim()).length > 0) {\n\t\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\t\tcase CARRIAGE:\n\t\t\t\t\t\t\tcase NEWLINE: {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tchars += body.charAt(caret)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcode = SEMICOLON\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// auto semicolon insertion\n\t\t\t\tif (insert === 1) {\n\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t// false flags\n\t\t\t\t\t\tcase OPENBRACES:\n\t\t\t\t\t\tcase COMMA: {\n\t\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// ignore\n\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\tcase CARRIAGE:\n\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// valid\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\tcaret--\n\t\t\t\t\t\t\tcode = SEMICOLON\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// token varient\n\t\t\t\tswitch (code) {\n\t\t\t\t\tcase OPENBRACES: {\n\t\t\t\t\t\tchars = chars.trim()\n\t\t\t\t\t\tfirst = chars.charCodeAt(0)\n\t\t\t\t\t\tcounter = 1\n\t\t\t\t\t\tcaret++\n\n\t\t\t\t\t\twhile (caret < eof) {\n\t\t\t\t\t\t\tcode = body.charCodeAt(caret)\n\n\t\t\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t\t\tcase OPENBRACES: {\n\t\t\t\t\t\t\t\t\tcounter++\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase CLOSEBRACES: {\n\t\t\t\t\t\t\t\t\tcounter--\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (counter === 0) {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tchild += body.charAt(caret++)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (first === NULL) {\n\t\t\t\t\t\t\tfirst = (chars = chars.replace(nullptn, '').trim()).charCodeAt(0)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tswitch (first) {\n\t\t\t\t\t\t\t// @at-rule\n\t\t\t\t\t\t\tcase AT: {\n\t\t\t\t\t\t\t\tif (format > 0) {\n\t\t\t\t\t\t\t\t\tchars = chars.replace(formatptn, '')\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsecond = chars.charCodeAt(1)\n\n\t\t\t\t\t\t\t\tswitch (second) {\n\t\t\t\t\t\t\t\t\tcase DOCUMENT:\n\t\t\t\t\t\t\t\t\tcase MEDIA:\n\t\t\t\t\t\t\t\t\tcase SUPPORTS: {\n\t\t\t\t\t\t\t\t\t\tselector = current\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\tselector = array\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tchild = compile(current, selector, child, second)\n\t\t\t\t\t\t\t\tlength = child.length\n\n\t\t\t\t\t\t\t\t// preserve empty @at-rule\n\t\t\t\t\t\t\t\tif (preserve > 0 && length === 0) {\n\t\t\t\t\t\t\t\t\tlength = chars.length\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// execute plugins, @at-rule context\n\t\t\t\t\t\t\t\tif (plugged > 0) {\n\t\t\t\t\t\t\t\t\tselector = select(array, chars, invert)\n\t\t\t\t\t\t\t\t\tresult = proxy(ATRUL, child, selector, current, line, column, length, second)\n\t\t\t\t\t\t\t\t\tchars = selector.join('')\n\n\t\t\t\t\t\t\t\t\tif (result !== void 0) {\n\t\t\t\t\t\t\t\t\t\tif ((length = (child = result.trim()).length) === 0) {\n\t\t\t\t\t\t\t\t\t\t\tsecond = 0\n\t\t\t\t\t\t\t\t\t\t\tchild = ''\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (length > 0) {\n\t\t\t\t\t\t\t\t\tswitch (second) {\n\t\t\t\t\t\t\t\t\t\tcase DOCUMENT:\n\t\t\t\t\t\t\t\t\t\tcase MEDIA:\n\t\t\t\t\t\t\t\t\t\tcase SUPPORTS: {\n\t\t\t\t\t\t\t\t\t\t\tchild = chars + '{' + child + '}'\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcase KEYFRAME: {\n\t\t\t\t\t\t\t\t\t\t\tchars = chars.replace(keyframeptn, '$1 $2' + (keyed > 0 ? key : ''))\n\t\t\t\t\t\t\t\t\t\t\tchild = chars + '{' + child + '}'\n\t\t\t\t\t\t\t\t\t\t\tchild = '@' + (vendor > 0 ? webkit + child + '@' + child : child)\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\tchild = chars + child\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tchild = ''\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// selector\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tchild = compile(current, select(current, chars, invert), child, id)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tchildren += child\n\n\t\t\t\t\t\t// reset\n\t\t\t\t\t\tcontext = 0\n\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\tpseudo = 0\n\t\t\t\t\t\tformat = 0\n\t\t\t\t\t\tinvert = 0\n\t\t\t\t\t\tatrule = 0\n\t\t\t\t\t\tchars = ''\n\t\t\t\t\t\tchild = ''\n\n\t\t\t\t\t\tcaret++\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase CLOSEBRACES:\n\t\t\t\t\tcase SEMICOLON: {\n\t\t\t\t\t\tchars = (format > 0 ? chars.replace(formatptn, '') : chars).trim()\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (code !== CLOSEBRACES || chars.length > 0) {\n\t\t\t\t\t\t\t// monkey-patch missing colon\n\t\t\t\t\t\t\tif (pseudo === 0) {\n\t\t\t\t\t\t\t\tfirst = chars.charCodeAt(0)\n\n\t\t\t\t\t\t\t\t// first character is a letter or dash, buffer has a space character\n\t\t\t\t\t\t\t\tif ((first === DASH || first > 96 && first < 123) && chars.indexOf(' ')) {\n\t\t\t\t\t\t\t\t\tchars = chars.replace(' ', ': ')\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// execute plugins, property context\n\t\t\t\t\t\t\tif (plugged > 0) {\n\t\t\t\t\t\t\t\tif ((result = proxy(PROPS, chars, current, parent, line, column, out.length, id)) !== void 0) {\n\t\t\t\t\t\t\t\t\tif ((chars = result.trim()).length === 0) {\n\t\t\t\t\t\t\t\t\t\tchars = '\\0\\0'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tfirst = chars.charCodeAt(0)\n\t\t\t\t\t\t\tsecond = chars.charCodeAt(1)\n\n\t\t\t\t\t\t\tswitch (first + second) {\n\t\t\t\t\t\t\t\tcase NULL: {\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase IMPORT:\n\t\t\t\t\t\t\t\tcase CHARSET: {\n\t\t\t\t\t\t\t\t\tflat += chars + body.charAt(caret)\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\tout += pseudo > 0 ? property(chars, first, second, chars.charCodeAt(2)) : chars + ';'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// reset\n\t\t\t\t\t\tcontext = 0\n\t\t\t\t\t\tinsert = 0\n\t\t\t\t\t\tpseudo = 0\n\t\t\t\t\t\tformat = 0\n\t\t\t\t\t\tinvert = 0\n\t\t\t\t\t\tchars = ''\n\n\t\t\t\t\t\tcaret++\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// parse characters\n\t\t\tswitch (code) {\n\t\t\t\tcase CARRIAGE:\n\t\t\t\tcase NEWLINE: {\n\t\t\t\t\t// auto insert semicolon\n\t\t\t\t\tif (comment + quote + parentheses + bracket + semicolon === 0) {\n\t\t\t\t\t\t// valid non-whitespace characters that\n\t\t\t\t\t\t// may precede a newline\n\t\t\t\t\t\tswitch (peak) {\n\t\t\t\t\t\t\tcase AT:\n\t\t\t\t\t\t\tcase TILDE:\n\t\t\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\t\tcase PLUS:\n\t\t\t\t\t\t\tcase FOWARDSLASH:\n\t\t\t\t\t\t\tcase DASH:\n\t\t\t\t\t\t\tcase COLON:\n\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\t\tcase OPENBRACES:\n\t\t\t\t\t\t\tcase CLOSEBRACES: {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t// current buffer has a colon\n\t\t\t\t\t\t\t\tif (pseudo > 0) {\n\t\t\t\t\t\t\t\t\tinsert = 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// terminate line comment\n\t\t\t\t\tif (comment === FOWARDSLASH) {\n\t\t\t\t\t\tcomment = 0\n\t\t\t\t\t}\n\n\t\t\t\t\t// execute plugins, newline context\n\t\t\t\t\tif (plugged * unkwn > 0) {\n\t\t\t\t\t\tproxy(UNKWN, chars, current, parent, line, column, out.length, id)\n\t\t\t\t\t}\n\n\t\t\t\t\t// next line, reset column position\n\t\t\t\t\tcolumn = 1\n\t\t\t\t\tline++\n\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\t// increment column position\n\t\t\t\t\tcolumn++\n\n\t\t\t\t\t// current character\n\t\t\t\t\tchar = body.charAt(caret)\n\n\t\t\t\t\tif (code === TAB && quote === 0) {\n\t\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\t\tchar = ''\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tchar = parentheses === 0 ? '' : ' '\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t// remove comments, escape functions, strings, attributes and prepare selectors\n\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t// escape breaking control characters\n\t\t\t\t\t\tcase NULL: {\n\t\t\t\t\t\t\tchar = '\\\\0'\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase FORMFEED: {\n\t\t\t\t\t\t\tchar = '\\\\f'\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase VERTICALTAB: {\n\t\t\t\t\t\t\tchar = '\\\\v'\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// &\n\t\t\t\t\t\tcase AND: {\n\t\t\t\t\t\t\t// inverted selector pattern i.e html &\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0 && cascade > 0) {\n\t\t\t\t\t\t\t\tinvert = 1\n\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\tchar = '\\f' + char\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// ::p<l>aceholder, l\n\t\t\t\t\t\t// :read-on<l>y, l\n\t\t\t\t\t\tcase 108: {\n\t\t\t\t\t\t\tif (quote + comment + bracket + pattern === 0 && pseudo > 0) {\n\t\t\t\t\t\t\t\tswitch (caret - pseudo) {\n\t\t\t\t\t\t\t\t\t// ::placeholder\n\t\t\t\t\t\t\t\t\tcase 2: {\n\t\t\t\t\t\t\t\t\t\tif (tail === PLACEHOLDER && body.charCodeAt(caret-3) === COLON) {\n\t\t\t\t\t\t\t\t\t\t\tpattern = tail\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t// :read-only\n\t\t\t\t\t\t\t\t\tcase 8: {\n\t\t\t\t\t\t\t\t\t\tif (trail === READONLY) {\n\t\t\t\t\t\t\t\t\t\t\tpattern = trail\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// :<pattern>\n\t\t\t\t\t\tcase COLON: {\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0) {\n\t\t\t\t\t\t\t\tpseudo = caret\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// selectors\n\t\t\t\t\t\tcase COMMA: {\n\t\t\t\t\t\t\tif (comment + parentheses + quote + bracket === 0) {\n\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\tchar += '\\r'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// quotes\n\t\t\t\t\t\tcase DOUBLEQUOTE: {\n\t\t\t\t\t\t\tif (comment === 0) {\n\t\t\t\t\t\t\t\tquote = quote === code ? 0 : (quote === 0 ? code : quote)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase SINGLEQUOTE: {\n\t\t\t\t\t\t\tif (comment === 0) {\n\t\t\t\t\t\t\t\tquote = quote === code ? 0 : (quote === 0 ? code : quote)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// attributes\n\t\t\t\t\t\tcase OPENBRACKET: {\n\t\t\t\t\t\t\tif (quote + comment + parentheses === 0) {\n\t\t\t\t\t\t\t\tbracket++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase CLOSEBRACKET: {\n\t\t\t\t\t\t\tif (quote + comment + parentheses === 0) {\n\t\t\t\t\t\t\t\tbracket--\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// functions\n\t\t\t\t\t\tcase CLOSEPARENTHESES: {\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0) {\n\t\t\t\t\t\t\t\t// ) is the last character, add synthetic padding to avoid skipping this buffer\n\t\t\t\t\t\t\t\tif (caret === eol) {\n\t\t\t\t\t\t\t\t\teol++\n\t\t\t\t\t\t\t\t\teof++\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tparentheses--\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\tif (quote + comment + bracket === 0) {\n\t\t\t\t\t\t\t\tif (context === 0) {\n\t\t\t\t\t\t\t\t\tswitch (tail*2 + trail*3) {\n\t\t\t\t\t\t\t\t\t\t// :matches\n\t\t\t\t\t\t\t\t\t\tcase 533: {\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// :global, :not, :nth-child etc...\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\tcounter = 0\n\t\t\t\t\t\t\t\t\t\t\tcontext = 1\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tparentheses++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcase AT: {\n\t\t\t\t\t\t\tif (comment + parentheses + quote + bracket + pseudo + atrule === 0) {\n\t\t\t\t\t\t\t\tatrule = 1\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// block/line comments\n\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\tcase FOWARDSLASH: {\n\t\t\t\t\t\t\tif (quote + bracket + parentheses > 0) {\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tswitch (comment) {\n\t\t\t\t\t\t\t\t// initialize line/block comment context\n\t\t\t\t\t\t\t\tcase 0: {\n\t\t\t\t\t\t\t\t\tswitch (code*2 + body.charCodeAt(caret+1)*3) {\n\t\t\t\t\t\t\t\t\t\t// //\n\t\t\t\t\t\t\t\t\t\tcase 235: {\n\t\t\t\t\t\t\t\t\t\t\tcomment = FOWARDSLASH\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t// /*\n\t\t\t\t\t\t\t\t\t\tcase 220: {\n\t\t\t\t\t\t\t\t\t\t\tcomment = STAR\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// end block comment context\n\t\t\t\t\t\t\t\tcase STAR: {\n\t\t\t\t\t\t\t\t\tif (code === FOWARDSLASH && tail === STAR) {\n\t\t\t\t\t\t\t\t\t\tchar = ''\n\t\t\t\t\t\t\t\t\t\tcomment = 0\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// ignore comment blocks\n\t\t\t\t\tif (comment === 0) {\n\t\t\t\t\t\t// aggressive isolation mode, divide each individual selector\n\t\t\t\t\t\t// including selectors in :not function but excluding selectors in :global function\n\t\t\t\t\t\tif (cascade + quote + bracket + atrule === 0 && id !== KEYFRAME && code !== SEMICOLON) {\n\t\t\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\t\tcase TILDE:\n\t\t\t\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\t\t\t\tcase PLUS:\n\t\t\t\t\t\t\t\tcase CLOSEPARENTHESES:\n\t\t\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\t\t\tif (context === 0) {\n\t\t\t\t\t\t\t\t\t\t// outside of an isolated context i.e nth-child(<...>)\n\t\t\t\t\t\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\t\t\t\t\t\tcase CARRIAGE: {\n\t\t\t\t\t\t\t\t\t\t\t\tchar = char + '\\0'\n\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t\tchar = '\\0' + char + (code === COMMA ? '' : '\\0')\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// within an isolated context, sleep untill it's terminated\n\t\t\t\t\t\t\t\t\t\tswitch (code) {\n\t\t\t\t\t\t\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\t\t\t\t\t\t\tcontext = ++counter\n\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tcase CLOSEPARENTHESES: {\n\t\t\t\t\t\t\t\t\t\t\t\tif ((context = --counter) === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\t\t\t\t\t\tchar += '\\0'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcase SPACE: {\n\t\t\t\t\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\t\t\t\t\tcase NULL:\n\t\t\t\t\t\t\t\t\t\tcase OPENBRACES:\n\t\t\t\t\t\t\t\t\t\tcase CLOSEBRACES:\n\t\t\t\t\t\t\t\t\t\tcase SEMICOLON:\n\t\t\t\t\t\t\t\t\t\tcase COMMA:\n\t\t\t\t\t\t\t\t\t\tcase FORMFEED:\n\t\t\t\t\t\t\t\t\t\tcase TAB:\n\t\t\t\t\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\t\t\t\t\tcase NEWLINE:\n\t\t\t\t\t\t\t\t\t\tcase CARRIAGE: {\n\t\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\t\t// ignore in isolated contexts\n\t\t\t\t\t\t\t\t\t\t\tif (context === 0) {\n\t\t\t\t\t\t\t\t\t\t\t\tformat = 1\n\t\t\t\t\t\t\t\t\t\t\t\tchar += '\\0'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// concat buffer of characters\n\t\t\t\t\t\tchars += char\n\n\t\t\t\t\t\t// previous non-whitespace character code\n\t\t\t\t\t\tif (code !== SPACE) {\n\t\t\t\t\t\t\tpeak = code\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tail character codes\n\t\t\ttrail = tail\n\t\t\ttail = code\n\n\t\t\t// visit every character\n\t\t\tcaret++\n\t\t}\n\n\t\tlength = out.length\n\n\t\t// preserve empty selector\n \t\tif (preserve > 0) {\n \t\t\tif (length === 0 && children.length === 0 && (current[0].length === 0) === false) {\n \t\t\t\tif (id !== MEDIA || (current.length === 1 && (cascade > 0 ? nscopealt : nscope) === current[0])) {\n\t\t\t\t\tlength = current.join(',').length + 2 \t\t\t\t\t\n \t\t\t\t}\n \t\t\t}\n\t\t}\n\n\t\tif (length > 0) {\n\t\t\t// cascade isolation mode\n\t\t\tif (cascade === 0 && id !== KEYFRAME) {\n\t\t\t\tisolate(current)\n\t\t\t}\n\n\t\t\t// execute plugins, block context\n\t\t\tif (plugged > 0) {\n\t\t\t\tresult = proxy(BLCKS, out, current, parent, line, column, length, id)\n\n\t\t\t\tif (result !== void 0 && (out = result).length === 0) {\n\t\t\t\t\treturn flat + out + children\n\t\t\t\t}\n\t\t\t}\t\t\n\n\t\t\tout = current.join(',') + '{' + out + '}'\n\n\t\t\tif (vendor*pattern > 0) {\n\t\t\t\tswitch (pattern) {\n\t\t\t\t\t// ::read-only\n\t\t\t\t\tcase READONLY: {\n\t\t\t\t\t\tout = out.replace(readonlyptn, ':'+moz+'$1')+out\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\t// ::placeholder\n\t\t\t\t\tcase PLACEHOLDER: {\n\t\t\t\t\t\tout = (\n\t\t\t\t\t\t\tout.replace(plcholdrptn, '::' + webkit + 'input-$1') +\n\t\t\t\t\t\t\tout.replace(plcholdrptn, '::' + moz + '$1') +\n\t\t\t\t\t\t\tout.replace(plcholdrptn, ':' + ms + 'input-$1') + out\n\t\t\t\t\t\t)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tpattern = 0\n\t\t\t}\n\t\t}\n\n\t\treturn flat + out + children\n\t}\n\n\t/**\n\t * Select\n\t *\n\t * @param {Array<string>} parent\n\t * @param {string} current\n\t * @param {number} invert\n\t * @return {Array<string>}\n\t */\n\tfunction select (parent, current, invert) {\n\t\tvar selectors = current.trim().split(selectorptn)\n\t\tvar out = selectors\n\n\t\tvar length = selectors.length\n\t\tvar l = parent.length\n\n\t\tswitch (l) {\n\t\t\t// 0-1 parent selectors\n\t\t\tcase 0:\n\t\t\tcase 1: {\n\t\t\t\tfor (var i = 0, selector = l === 0 ? '' : parent[0] + ' '; i < length; i++) {\n\t\t\t\t\tout[i] = scope(selector, out[i], invert, l).trim()\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// >2 parent selectors, nested\n\t\t\tdefault: {\n\t\t\t\tfor (var i = 0, j = 0, out = []; i < length; i++) {\n\t\t\t\t\tfor (var k = 0; k < l; k++) {\n\t\t\t\t\t\tout[j++] = scope(parent[k] + ' ', selectors[i], invert, l).trim()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn out\n\t}\n\n\t/**\n\t * Scope\n\t *\n\t * @param {string} parent\n\t * @param {string} current\n\t * @param {number} invert\n\t * @param {number} level\n\t * @return {string}\n\t */\n\tfunction scope (parent, current, invert, level) {\n\t\tvar selector = current\n\t\tvar code = selector.charCodeAt(0)\n\n\t\t// trim leading whitespace\n\t\tif (code < 33) {\n\t\t\tcode = (selector = selector.trim()).charCodeAt(0)\n\t\t}\n\n\t\tswitch (code) {\n\t\t\t// &\n\t\t\tcase AND: {\n\t\t\t\tswitch (cascade + level) {\n\t\t\t\t\tcase 0:\n\t\t\t\t\tcase 1: {\n\t\t\t\t\t\tif (parent.trim().length === 0) {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\treturn selector.replace(andptn, '$1'+parent.trim())\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// :\n\t\t\tcase COLON: {\n\t\t\t\tswitch (selector.charCodeAt(1)) {\n\t\t\t\t\t// g in :global\n\t\t\t\t\tcase 103: {\n\t\t\t\t\t\tif (escape > 0 && cascade > 0) {\n\t\t\t\t\t\t\treturn selector.replace(escapeptn, '$1').replace(andptn, '$1'+nscope)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\t// :hover\n\t\t\t\t\t\treturn parent.trim() + selector\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\t// html &\n\t\t\t\tif (invert*cascade > 0 && selector.indexOf('\\f') > 0) {\n\t\t\t\t\treturn selector.replace(andptn, (parent.charCodeAt(0) === COLON ? '' : '$1')+parent.trim())\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn parent + selector\n\t}\n\n\t/**\n\t * Property\n\t *\n\t * @param {string} input\n\t * @param {number} first\n\t * @param {number} second\n\t * @param {number} third\n\t * @return {string}\n\t */\n\tfunction property (input, first, second, third) {\n\t\tvar out = input + ';'\n\t\tvar index = 0\n\t\tvar hash = (first*2) + (second*3) + (third*4)\n\t\tvar cache\n\n\t\t// animation: a, n, i characters\n\t\tif (hash === 944) {\n\t\t\tout = animation(out)\n\t\t} else if (vendor > 0) {\n\t\t\t// vendor prefix\n\t\t\tswitch (hash) {\n\t\t\t\t// color/column, c, o, l\n\t\t\t\tcase 963: {\n\t\t\t\t\t// column\n\t\t\t\t\tif (out.charCodeAt(5) === 110) {\n\t\t\t\t\t\tout = webkit + out + out\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// appearance: a, p, p\n\t\t\t\tcase 978: {\n\t\t\t\t\tout = webkit + out + moz + out + out\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// hyphens: h, y, p\n\t\t\t\t// user-select: u, s, e\n\t\t\t\tcase 1019:\n\t\t\t\tcase 983: {\n\t\t\t\t\tout = webkit + out + moz + out + ms + out + out\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// background/backface-visibility, b, a, c\n\t\t\t\tcase 883: {\n\t\t\t\t\t// backface-visibility, -\n\t\t\t\t\tif (out.charCodeAt(8) === DASH) {\n\t\t\t\t\t\tout = webkit + out + out\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// flex: f, l, e\n\t\t\t\tcase 932: {\n\t\t\t\t\tout = webkit + out + ms + out + out\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// order: o, r, d\n\t\t\t\tcase 964: {\n\t\t\t\t\tout = webkit + out + ms + 'flex' + '-' + out + out\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// justify-content, j, u, s\n\t\t\t\tcase 1023: {\n\t\t\t\t\tcache = out.substring(out.indexOf(':', 15)).replace('flex-', '')\n\t\t\t\t\tout = webkit + 'box-pack' + cache + webkit + out + ms + 'flex-pack' + cache + out\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// display(flex/inline-flex/inline-box): d, i, s\n\t\t\t\tcase 975: {\n\t\t\t\t\tindex = (out = input).length-10\n\t\t\t\t\tcache = (out.charCodeAt(index) === 33 ? out.substring(0, index) : out).substring(8).trim()\n\n\t\t\t\t\tswitch (hash = cache.charCodeAt(0) + (cache.charCodeAt(7)|0)) {\n\t\t\t\t\t\t// inline-\n\t\t\t\t\t\tcase 203: {\n\t\t\t\t\t\t\t// inline-box\n\t\t\t\t\t\t\tif (cache.charCodeAt(8) > 110) {\n\t\t\t\t\t\t\t\tout = out.replace(cache, webkit+cache)+';'+out\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// inline-flex\n\t\t\t\t\t\t// flex\n\t\t\t\t\t\tcase 207:\n\t\t\t\t\t\tcase 102: {\n\t\t\t\t\t\t\tout = (\n\t\t\t\t\t\t\t\tout.replace(cache, webkit+(hash > 102 ? 'inline-' : '')+'box')+';'+\n\t\t\t\t\t\t\t\tout.replace(cache, webkit+cache)+';'+\n\t\t\t\t\t\t\t\tout.replace(cache, ms+cache+'box')+';'+\n\t\t\t\t\t\t\t\tout\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tout += ';'\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// align-items, align-center, align-self: a, l, i, -\n\t\t\t\tcase 938: {\n\t\t\t\t\tif (out.charCodeAt(5) === DASH) {\n\t\t\t\t\t\tswitch (out.charCodeAt(6)) {\n\t\t\t\t\t\t\t// align-items, i\n\t\t\t\t\t\t\tcase 105: {\n\t\t\t\t\t\t\t\tcache = out.replace('-items', '')\n\t\t\t\t\t\t\t\tout = webkit + out + webkit + 'box-' + cache + ms + 'flex-' + cache + out\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// align-self, s\n\t\t\t\t\t\t\tcase 115: {\n\t\t\t\t\t\t\t\tout = webkit + out + ms + 'flex-item-' + out.replace('-self', '') + out\n\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// align-content\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tout = webkit + out + ms + 'flex-line-pack' + out.replace('align-content', '') + out\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// cursor, c, u, r\n\t\t\t\tcase 1005: {\n\t\t\t\t\tif (cursorptn.test(out)) {\n\t\t\t\t\t\tout = out.replace(colonptn, ': ' + webkit) + out.replace(colonptn, ': ' + moz) + out\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// width: min-content / width: max-content\n\t\t\t\tcase 953: {\n\t\t\t\t\tif ((index = out.indexOf('-content', 9)) > 0) {\n\t\t\t\t\t\t// width: min-content / width: max-content\n\t\t\t\t\t\tcache = out.substring(index - 3)\n\t\t\t\t\t\tout = 'width:' + webkit + cache + 'width:' + moz + cache + 'width:' + cache\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// text-size-adjust: t, e, x\n\t\t\t\tcase 1015: {\n\t\t\t\t\tif (input.charCodeAt(9) !== DASH) {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// transform, transition: t, r, a\n\t\t\t\tcase 962: {\n\t\t\t\t\tout = webkit + out + (out.charCodeAt(5) === 102 ? ms + out : '') + out\n\n\t\t\t\t\t// transitions\n\t\t\t\t\tif (second + third === 211 && out.charCodeAt(13) === 105 && out.indexOf('transform', 10) > 0) {\n\t\t\t\t\t\tout = out.substring(0, out.indexOf(';', 27) + 1).replace(transformptn, '$1' + webkit + '$2') + out\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\t// writing-mode, w, r, i\n\t\t\t\tcase 1000: {\n\t\t\t\t\tcache = out.substring(13).trim()\n\t\t\t\t\tindex = cache.indexOf('-')+1\n\n\t\t\t\t\tswitch (cache.charCodeAt(0)+cache.charCodeAt(index)) {\n\t\t\t\t\t\t// vertical-lr\n\t\t\t\t\t\tcase 226: {\n\t\t\t\t\t\t\tcache = out.replace(writingptn, 'tb')\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// vertical-rl\n\t\t\t\t\t\tcase 232: {\n\t\t\t\t\t\t\tcache = out.replace(writingptn, 'tb-rl')\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// horizontal-tb\n\t\t\t\t\t\tcase 220: {\n\t\t\t\t\t\t\tcache = out.replace(writingptn, 'lr')\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\treturn out\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tout = webkit+out+ms+cache+out\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn out\n\t}\n\n\t/**\n\t * Animation\n\t *\n\t * @param {string} input\n\t * @return {string}\n\t */\n\tfunction animation (input) {\n\t\tvar length = input.length\n\t\tvar index = input.indexOf(':', 9) + 1\n\t\tvar declare = input.substring(0, index).trim()\n\t\tvar body = input.substring(index, length-1).trim()\n\t\tvar out = ''\n\n\t\t// shorthand\n\t\tif (input.charCodeAt(9) !== DASH) {\n\t\t\t// split in case of multiple animations\n\t\t\tvar list = body.split(animationptn)\n\n\t\t\tfor (var i = 0, index = 0, length = list.length; i < length; index = 0, i++) {\n\t\t\t\tvar value = list[i]\n\t\t\t\tvar items = value.split(propertiesptn)\n\n\t\t\t\twhile (value = items[index]) {\n\t\t\t\t\tvar peak = value.charCodeAt(0)\n\n\t\t\t\t\tif (keyed === 1 && (\n\t\t\t\t\t\t// letters\n\t\t\t\t\t\t(peak > AT && peak < 90) || (peak > 96 && peak < 123) || peak === UNDERSCORE ||\n\t\t\t\t\t\t// dash but not in sequence i.e --\n\t\t\t\t\t\t(peak === DASH && value.charCodeAt(1) !== DASH)\n\t\t\t\t\t)) {\n\t\t\t\t\t\t// not a number/function\n\t\t\t\t\t\tswitch (isNaN(parseFloat(value)) + (value.indexOf('(') !== -1)) {\n\t\t\t\t\t\t\tcase 1: {\n\t\t\t\t\t\t\t\tswitch (value) {\n\t\t\t\t\t\t\t\t\t// not a valid reserved keyword\n\t\t\t\t\t\t\t\t\tcase 'infinite': case 'alternate': case 'backwards': case 'running':\n\t\t\t\t\t\t\t\t\tcase 'normal': case 'forwards': case 'both': case 'none': case 'linear':\n\t\t\t\t\t\t\t\t\tcase 'ease': case 'ease-in': case 'ease-out': case 'ease-in-out':\n\t\t\t\t\t\t\t\t\tcase 'paused': case 'reverse': case 'alternate-reverse': case 'inherit':\n\t\t\t\t\t\t\t\t\tcase 'initial': case 'unset': case 'step-start': case 'step-end': {\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\t\t\tvalue += key\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\titems[index++] = value\n\t\t\t\t}\n\n\t\t\t\tout += (i === 0 ? '' : ',') + items.join(' ')\n\t\t\t}\n\t\t} else {\n\t\t\t// animation-name, n\n\t\t\tout += input.charCodeAt(10) === 110 ? body + (keyed === 1 ? key : '') : body\n\t\t}\n\n\t\tout = declare + out + ';'\n\n\t\treturn vendor > 0 ? webkit + out + out : out\n\t}\n\n\t/**\n\t * Isolate\n\t *\n\t * @param {Array<string>} selectors\n\t */\n\tfunction isolate (selectors) {\n\t\tfor (var i = 0, length = selectors.length, padding, element; i < length; i++) {\n\t\t\t// split individual elements in a selector i.e h1 h2 === [h1, h2]\n\t\t\tvar elements = selectors[i].split(elementptn)\n\t\t\tvar out = ''\n\n\t\t\tfor (var j = 0, size = 0, tail = 0, code = 0, l = elements.length; j < l; j++) {\n\t\t\t\t// empty element\n\t\t\t\tif ((size = (element = elements[j]).length) === 0 && l > 1) {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\n\t\t\t\ttail = out.charCodeAt(out.length-1)\n\t\t\t\tcode = element.charCodeAt(0)\n\t\t\t\tpadding = ''\n\n\t\t\t\tif (j !== 0) {\n\t\t\t\t\t// determine if we need padding\n\t\t\t\t\tswitch (tail) {\n\t\t\t\t\t\tcase STAR:\n\t\t\t\t\t\tcase TILDE:\n\t\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\t\tcase PLUS:\n\t\t\t\t\t\tcase SPACE:\n\t\t\t\t\t\tcase OPENPARENTHESES:  {\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\tpadding = ' '\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tswitch (code) {\n\t\t\t\t\tcase AND: {\n\t\t\t\t\t\telement = padding + nscopealt\n\t\t\t\t\t}\n\t\t\t\t\tcase TILDE:\n\t\t\t\t\tcase GREATERTHAN:\n\t\t\t\t\tcase PLUS:\n\t\t\t\t\tcase SPACE:\n\t\t\t\t\tcase CLOSEPARENTHESES:\n\t\t\t\t\tcase OPENPARENTHESES: {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase OPENBRACKET: {\n\t\t\t\t\t\telement = padding + element + nscopealt\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase COLON: {\n\t\t\t\t\t\tswitch (element.charCodeAt(1)*2 + element.charCodeAt(2)*3) {\n\t\t\t\t\t\t\t// :global\n\t\t\t\t\t\t\tcase 530: {\n\t\t\t\t\t\t\t\tif (escape > 0) {\n\t\t\t\t\t\t\t\t\telement = padding + element.substring(8, size - 1)\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// :hover, :nth-child(), ...\n\t\t\t\t\t\t\tdefault: {\n\t\t\t\t\t\t\t\tif (j < 1 || elements[j-1].length < 1) {\n\t\t\t\t\t\t\t\t\telement = padding + nscopealt + element\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase COMMA: {\n\t\t\t\t\t\tpadding = ''\n\t\t\t\t\t}\n\t\t\t\t\tdefault: {\n\t\t\t\t\t\tif (size > 1 && element.indexOf(':') > 0) {\n\t\t\t\t\t\t\telement = padding + element.replace(pseudoptn, '$1' + nscopealt + '$2')\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telement = padding + element + nscopealt\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tout += element\n\t\t\t}\n\n\t\t\tselectors[i] = out.replace(formatptn, '').trim()\n\t\t}\n\t}\n\n\t/**\n\t * Proxy\n\t *\n\t * @param {number} context\n\t * @param {string} content\n\t * @param {Array<string>} selectors\n\t * @param {Array<string>} parents\n\t * @param {number} line\n\t * @param {number} column\n\t * @param {number} length\n\t * @param {number} id\n\t * @return {(string|void|*)}\n\t */\n\tfunction proxy (context, content, selectors, parents, line, column, length, id) {\n\t\tfor (var i = 0, out = content, next; i < plugged; i++) {\n\t\t\tswitch (next = plugins[i].call(stylis, context, out, selectors, parents, line, column, length, id)) {\n\t\t\t\tcase void 0:\n\t\t\t\tcase false:\n\t\t\t\tcase true:\n\t\t\t\tcase null: {\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t\tdefault: {\n\t\t\t\t\tout = next\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tswitch (out) {\n\t\t\tcase void 0:\n\t\t\tcase false:\n\t\t\tcase true:\n\t\t\tcase null:\n\t\t\tcase content: {\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\treturn out\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Minify\n\t *\n\t * @param {(string|*)} output\n\t * @return {string}\n\t */\n\tfunction minify (output) {\n\t\treturn output\n\t\t\t.replace(formatptn, '')\n\t\t\t.replace(beforeptn, '')\n\t\t\t.replace(afterptn, '$1')\n\t\t\t.replace(tailptn, '$1')\n\t\t\t.replace(whiteptn, ' ')\n\t}\n\n\t/**\n\t * Use\n\t *\n\t * @param {(Array<function(...?)>|function(...?)|number|void)?} plugin\n\t */\n\tfunction use (plugin) {\n\t\tswitch (plugin) {\n\t\t\tcase void 0:\n\t\t\tcase null: {\n\t\t\t\tplugged = plugins.length = 0\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tdefault: {\n\t\t\t\tswitch (plugin.constructor) {\n\t\t\t\t\tcase Array: {\n\t\t\t\t\t\tfor (var i = 0, length = plugin.length; i < length; i++) {\n\t\t\t\t\t\t\tuse(plugin[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase Function: {\n\t\t\t\t\t\tplugins[plugged++] = plugin\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tcase Boolean: {\n\t\t\t\t\t\tunkwn = !!plugin|0\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n \t\t}\n\n \t\treturn use\n\t}\n\n\t/**\n\t * Set\n\t *\n\t * @param {*} options\n\t */\n\tfunction set (options) {\t\t\n\t\tfor (var name in options) {\n\t\t\tvar value = options[name]\n\t\t\tswitch (name) {\n\t\t\t\tcase 'keyframe': keyed = value|0; break\n\t\t\t\tcase 'global': escape = value|0; break\n\t\t\t\tcase 'cascade': cascade = value|0; break\n\t\t\t\tcase 'compress': compress = value|0; break\n\t\t\t\tcase 'prefix': vendor = value|0; break\n\t\t\t\tcase 'semicolon': semicolon = value|0; break\n\t\t\t\tcase 'preserve': preserve = value|0; break\n\t\t\t}\n\t\t}\n\n\t\treturn set\n\t}\n\n\t/**\n\t * Stylis\n\t *\n\t * @param {string} selector\n\t * @param {string} input\n\t * @return {*}\n\t */\n\tfunction stylis (selector, input) {\n\t\tif (this !== void 0 && this.constructor === stylis) {\n\t\t\treturn factory(selector)\n\t\t}\n\n\t\t// setup\n\t\tvar ns = selector\n\t\tvar code = ns.charCodeAt(0)\n\n\t\t// trim leading whitespace\n\t\tif (code < 33) {\n\t\t\tcode = (ns = ns.trim()).charCodeAt(0)\n\t\t}\n\n\t\t// keyframe/animation namespace\n\t\tif (keyed > 0) {\n\t\t\tkey = ns.replace(invalidptn, code === OPENBRACKET ? '' : '-')\n\t\t}\n\n\t\t// reset, used to assert if a plugin is moneky-patching the return value\n\t\tcode = 1\n\n\t\t// cascade/isolate\n\t\tif (cascade === 1) {\n\t\t\tnscope = ns\n\t\t} else {\n\t\t\tnscopealt = ns\n\t\t}\n\n\t\tvar selectors = [nscope]\n\t\tvar result\n\n\t\t// execute plugins, pre-process context\n\t\tif (plugged > 0) {\n\t\t\tresult = proxy(PREPS, input, selectors, selectors, line, column, 0, 0)\n\n\t\t\tif (result !== void 0 && typeof result === 'string') {\n\t\t\t\tinput = result\n\t\t\t}\n\t\t}\n\n\t\t// build\n\t\tvar output = compile(array, selectors, input, 0)\n\n\t\t// execute plugins, post-process context\n\t\tif (plugged > 0) {\n\t\t\tresult = proxy(POSTS, output, selectors, selectors, line, column, output.length, 0)\n\t\n\t\t\t// bypass minification\n\t\t\tif (result !== void 0 && typeof(output = result) !== 'string') {\n\t\t\t\tcode = 0\n\t\t\t}\n\t\t}\n\n\t\t// reset\n\t\tkey = ''\n\t\tnscope = ''\n\t\tnscopealt = ''\n\t\tpattern = 0\n\t\tline = 1\n\t\tcolumn = 1\n\n\t\treturn compress*code === 0 ? output : minify(output)\n\t}\n\n\tstylis['use'] = use\n\tstylis['set'] = set\n\n\tif (options !== void 0) {\n\t\tset(options)\n\t}\n\n\treturn stylis\n}));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/stylis/stylis.js\n// module id = 43\n// module chunks = 0"],"sourceRoot":""}